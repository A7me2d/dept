<div class="shell">
  <header class="topbar">
    <div class="brand">
      <div class="brand__icon-wrapper">
        <mat-icon class="brand__icon">account_balance_wallet</mat-icon>
        <div class="brand__icon-glow"></div>
      </div>
      <div class="brand__text">
        <div class="brand__title">{{ title() }}</div>
        <div class="brand__subtitle">تتبع المصروفات اليومية</div>
      </div>
    </div>
    @if (isAuthenticated()) {
      <div class="user-info">
        <button mat-icon-button (click)="toggleTheme()" class="topbar__theme" matTooltip="تبديل الوضع">
          <mat-icon>{{ isDark() ? 'light_mode' : 'dark_mode' }}</mat-icon>
        </button>
        <div class="user-avatar">
          <mat-icon>person</mat-icon>
        </div>
        <div class="user-details">
          <span class="user-name">{{ userName() }}</span>
          <span class="user-status">متصل</span>
        </div>
        <button mat-icon-button (click)="logout()" class="topbar__logout" matTooltip="تسجيل الخروج">
          <mat-icon>logout</mat-icon>
        </button>
      </div>
    }
  </header>

  <main class="content">
    <router-outlet></router-outlet>
  </main>

  @if (isAuthenticated()) {
    <app-bottom-nav></app-bottom-nav>
  }
  <app-toast></app-toast>

  <footer class="footer">
    <div class="footer__content">
      <span class="footer__text">© {{ year() }} {{ title() }}</span>
      <span class="footer__separator">•</span>
      <span class="footer__version">الإصدار 2.0</span>
    </div>
  </footer>
</div>
