import{a as j}from"./chunk-HEBYHGJQ.js";import"./chunk-2NH555H5.js";import{a as B}from"./chunk-6BEIHAVR.js";import{F as I,G as z,K as N,N as T}from"./chunk-UM43KZWY.js";import{a as F}from"./chunk-L2BAENBY.js";import"./chunk-EV7PFGVU.js";import{a as A}from"./chunk-HVD7EZ4V.js";import{$a as l,Ab as k,Ca as c,Da as t,Db as w,Ea as n,Ja as M,Kb as D,La as g,Ma as u,Mb as S,N as d,Nb as E,P as x,Q as C,_a as r,ab as _,fb as O,ga as o,gb as f,ib as v,l as y,mb as s,ra as h,wa as p,zb as P}from"./chunk-IKTNIUHG.js";var $=a=>["/expense",a];function R(a,i){a&1&&(t(0,"div",13)(1,"mat-icon",14),r(2,"receipt_long"),n(),t(3,"p"),r(4,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0645\u0635\u0631\u0648\u0641\u0627\u062A \u0644\u0647\u0630\u0627 \u0627\u0644\u064A\u0648\u0645."),n()())}function G(a,i){if(a&1&&(t(0,"div",24),r(1),n()),a&2){let e=u().$implicit;o(),l(e.description)}}function U(a,i){if(a&1){let e=M();t(0,"div",15)(1,"div",16)(2,"div",17),r(3),n(),t(4,"div",18),r(5),n(),p(6,G,2,1,"div",19),n(),t(7,"div",20),r(8),f(9,"number"),n(),t(10,"div",21)(11,"button",22)(12,"mat-icon"),r(13,"edit"),n()(),t(14,"button",23),g("click",function(){let b=x(e).$implicit,V=u();return C(V.deleteExpense(b.id))}),t(15,"mat-icon"),r(16,"delete"),n()()()()}if(a&2){let e=i.$implicit;o(3),l(e.time),o(2),l(e.category),o(),c("ngIf",e.description),o(2),_("",v(9,5,e.amount,"1.0-2")," \u062C.\u0645"),o(3),c("routerLink",O(8,$,e.id))}}var L=class a{route=d(D);router=d(S);expenses=d(F);toast=d(A);confirm=d(j);date=B(this.route.paramMap.pipe(y(i=>i.get("date")??"")),{initialValue:""});fmt=new Intl.DateTimeFormat("ar-EG",{weekday:"long",year:"numeric",month:"long",day:"numeric"});dateLabel=s(()=>{let i=this.date(),e=new Date(`${i}T00:00:00`);return Number.isNaN(e.getTime())?i:this.fmt.format(e)});items=s(()=>this.expenses.expensesByDate(this.date())());total=s(()=>this.items().reduce((i,e)=>i+e.amount,0));async deleteExpense(i){await this.confirm.confirm("\u0647\u0644 \u062A\u0631\u064A\u062F \u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0645\u0635\u0631\u0648\u0641\u061F","\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062D\u0630\u0641")&&(await this.expenses.remove(i),this.toast.show("\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0645\u0635\u0631\u0648\u0641","success"))}async back(){await this.router.navigateByUrl("/history")}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=h({type:a,selectors:[["app-day-details"]],decls:20,vars:7,consts:[[1,"head"],[1,"page"],[1,"page__header"],["mat-icon-button","",1,"page__back",3,"click"],[1,"title"],[1,"subtitle"],[1,"card"],[1,"card__row"],[1,"label"],[1,"value"],[1,"list"],["class","empty",4,"ngIf"],["class","item",4,"ngFor","ngForOf"],[1,"empty"],[1,"empty-state__icon"],[1,"item"],[1,"item__meta"],[1,"item__time"],[1,"item__cat"],["class","item__desc",4,"ngIf"],[1,"item__amount"],[1,"item__actions"],["mat-icon-button","",3,"routerLink"],["mat-icon-button","","type","button",3,"click"],[1,"item__desc"]],template:function(e,m){e&1&&(t(0,"section",0)(1,"div",1)(2,"div",2)(3,"button",3),g("click",function(){return m.back()}),t(4,"mat-icon"),r(5,"arrow_back"),n()(),t(6,"h1",4),r(7,"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u064A\u0648\u0645"),n(),t(8,"div",5),r(9),n()()()(),t(10,"section",6)(11,"div",7)(12,"div",8),r(13,"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A"),n(),t(14,"div",9),r(15),f(16,"number"),n()()(),t(17,"section",10),p(18,R,5,0,"div",11)(19,U,17,10,"div",12),n()),e&2&&(o(9),l(m.dateLabel()),o(6),_("",v(16,4,m.total(),"1.0-2")," \u062C.\u0645"),o(3),c("ngIf",m.items().length===0),o(),c("ngForOf",m.items()))},dependencies:[k,P,E,z,I,T,N,w],styles:['.head[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;gap:.75rem;margin-bottom:1rem}.page__header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.page__back[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:var(--radius-md);background:var(--bg-secondary);color:var(--text-secondary)}.page__back[_ngcontent-%COMP%]:hover{background:var(--primary);color:#fff}.title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:800;letter-spacing:-.02em;background:var(--primary-gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.subtitle[_ngcontent-%COMP%]{margin-top:.25rem;font-size:.8125rem;color:var(--text-muted);font-weight:500}.link[_ngcontent-%COMP%]{font-size:.8125rem;text-decoration:none;color:var(--primary);padding:.5rem .75rem;border-radius:var(--radius-md);border:1px solid var(--border);background:var(--surface);cursor:pointer;display:flex;align-items:center;gap:.375rem;font-weight:600}.link[_ngcontent-%COMP%]:hover{background:var(--bg-secondary)}.card[_ngcontent-%COMP%]{border:1px solid var(--border);background:var(--surface);border-radius:var(--radius-xl);padding:1.25rem;box-shadow:var(--shadow-md);margin-bottom:1rem}.card__row[_ngcontent-%COMP%]{display:flex;align-items:baseline;justify-content:space-between;gap:.75rem}.label[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.8125rem;font-weight:500}.value[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:var(--primary);letter-spacing:-.01em}.list[_ngcontent-%COMP%]{border:1px solid var(--border);background:var(--surface);border-radius:var(--radius-xl);padding:1.25rem;box-shadow:var(--shadow-md)}.empty[_ngcontent-%COMP%]{padding:3rem 1rem;color:var(--text-muted);font-size:.9375rem;text-align:center}.empty-state__icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem;color:var(--text-muted);margin-bottom:1rem;display:inline-flex;align-items:center;justify-content:center;background:var(--bg-secondary);border-radius:var(--radius-full)}.item[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto auto;gap:.75rem;padding:1rem 0;border-top:1px solid var(--border-light)}.item[_ngcontent-%COMP%]:first-of-type{border-top:0}.item[_ngcontent-%COMP%]:hover{background:var(--bg-secondary);margin:0 -1.25rem;padding-left:1.25rem;padding-right:1.25rem;border-radius:var(--radius-md)}.item__meta[_ngcontent-%COMP%]{display:flex;flex-direction:column}.item__time[_ngcontent-%COMP%]{font-weight:700;letter-spacing:-.01em;color:var(--text-primary);font-size:.9375rem}.item__cat[_ngcontent-%COMP%]{margin-top:.25rem;font-size:.75rem;color:var(--text-muted);font-weight:500;display:inline-flex;align-items:center;gap:.375rem}.item__cat[_ngcontent-%COMP%]:before{content:"";width:6px;height:6px;border-radius:50%;background:var(--primary)}.item__desc[_ngcontent-%COMP%]{margin-top:.5rem;font-size:.8125rem;color:var(--text-secondary);font-weight:500}.item__amount[_ngcontent-%COMP%]{font-weight:700;white-space:nowrap;color:var(--danger);font-size:1.125rem;letter-spacing:-.01em}.item__actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;opacity:0}.item[_ngcontent-%COMP%]:hover   .item__actions[_ngcontent-%COMP%]{opacity:1}.icon[_ngcontent-%COMP%]{border:1px solid var(--border);background:transparent;color:var(--text-secondary);border-radius:var(--radius-md);padding:.375rem .5rem;font-size:.75rem;cursor:pointer;text-decoration:none;display:flex;align-items:center;justify-content:center}.icon[_ngcontent-%COMP%]:hover{background:var(--primary);color:#fff}.icon--danger[_ngcontent-%COMP%]{color:var(--danger)}.icon--danger[_ngcontent-%COMP%]:hover{background:var(--danger);color:#fff}@media (max-width: 480px){.head[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.page__header[_ngcontent-%COMP%]{width:100%}.title[_ngcontent-%COMP%]{font-size:1.25rem}.card[_ngcontent-%COMP%], .list[_ngcontent-%COMP%]{padding:1rem}.item[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.5rem}.item__actions[_ngcontent-%COMP%]{opacity:1;justify-content:flex-start}.item[_ngcontent-%COMP%]:hover{margin:0;padding:1rem 0;background:transparent}}']})};export{L as DayDetailsComponent};
