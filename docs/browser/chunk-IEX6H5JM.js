import{F as E,G as O,N as F}from"./chunk-UM43KZWY.js";import{a as v,b as p,d as x,e as C,g as y,i as w,j as M,n as S,o as P}from"./chunk-S33ANCWB.js";import{a as A}from"./chunk-HVD7EZ4V.js";import{$a as d,Ab as h,Ca as m,Da as n,Ea as e,Fa as l,La as f,Mb as _,N as u,Rb as b,_a as o,ga as a,ra as c,wa as g}from"./chunk-IKTNIUHG.js";function D(s,r){s&1&&(n(0,"label",8)(1,"div",9),o(2,"\u0627\u0644\u0627\u0633\u0645"),e(),l(3,"input",14),e())}var N=class s{fb=u(S);auth=u(b);router=u(_);toast=u(A);form=this.fb.group({name:[""],email:["",[p.required,p.email]],password:["",p.required]});isSignup=!1;async login(){if(this.form.invalid){this.toast.show("\u064A\u0631\u062C\u0649 \u0645\u0644\u0621 \u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0642\u0648\u0644","danger");return}let r=this.form.value.email??"",i=this.form.value.password??"";await this.auth.login(r,i)?(this.toast.show("\u062A\u0645 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0628\u0646\u062C\u0627\u062D","success"),await this.router.navigate(["/"])):this.toast.show("\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0623\u0648 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u063A\u064A\u0631 \u0635\u062D\u064A\u062D\u0629","danger")}async signup(){if(this.form.invalid){this.toast.show("\u064A\u0631\u062C\u0649 \u0645\u0644\u0621 \u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0642\u0648\u0644","danger");return}let r=this.form.value.name??"",i=this.form.value.email??"",t=this.form.value.password??"";await this.auth.signUp(i,t,r)?(this.toast.show("\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062D\u0633\u0627\u0628 \u0628\u0646\u062C\u0627\u062D. \u064A\u0631\u062C\u0649 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644","success"),this.isSignup=!1,this.form.reset()):this.toast.show("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062D\u0633\u0627\u0628","danger")}toggleMode(){this.isSignup=!this.isSignup,this.form.reset()}static \u0275fac=function(i){return new(i||s)};static \u0275cmp=c({type:s,selectors:[["app-login"]],decls:22,vars:4,consts:[[1,"login-page"],[1,"login-card"],[1,"login-card__header"],[1,"login-card__icon"],[1,"login-card__title"],[1,"login-card__subtitle"],[1,"login-card__form",3,"ngSubmit","formGroup"],["class","field",4,"ngIf"],[1,"field"],[1,"field__label"],["type","email","formControlName","email","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",1,"input"],["type","password","formControlName","password","placeholder","\u0623\u062F\u062E\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",1,"input"],["type","submit",1,"btn","btn--primary","btn--full"],[1,"login-card__toggle"],["type","text","formControlName","name","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0633\u0645\u0643",1,"input"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-icon",3),o(4,"account_balance_wallet"),e(),n(5,"h1",4),o(6,"\u0645\u0635\u0631\u0648\u0641\u0627\u062A\u064A"),e(),n(7,"p",5),o(8),e()(),n(9,"form",6),f("ngSubmit",function(){return t.isSignup?t.signup():t.login()}),g(10,D,4,0,"label",7),n(11,"label",8)(12,"div",9),o(13,"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"),e(),l(14,"input",10),e(),n(15,"label",8)(16,"div",9),o(17,"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),e(),l(18,"input",11),e(),n(19,"button",12),o(20),e()(),l(21,"div",13),e()()),i&2&&(a(8),d(t.isSignup?"\u0625\u0646\u0634\u0627\u0621 \u062D\u0633\u0627\u0628 \u062C\u062F\u064A\u062F":"\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644"),a(),m("formGroup",t.form),a(),m("ngIf",t.isSignup),a(10),d(t.isSignup?"\u0625\u0646\u0634\u0627\u0621 \u062D\u0633\u0627\u0628":"\u062F\u062E\u0648\u0644"))},dependencies:[P,y,v,x,C,w,M,O,E,F,h],styles:[".login-page[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:16px;background:var(--bg)}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px;background:var(--surface);border-radius:16px;padding:32px;box-shadow:0 4px 20px #0000001a}.login-card__header[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.login-card__icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:var(--primary);margin-bottom:16px}.login-card__title[_ngcontent-%COMP%]{margin:0 0 8px;font-size:24px;font-weight:600}.login-card__subtitle[_ngcontent-%COMP%]{margin:0;color:var(--text-muted);font-size:14px}.login-card__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.field__label[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.input[_ngcontent-%COMP%]{padding:12px 16px;border:1px solid var(--border);border-radius:8px;background:var(--bg);color:var(--text);font-size:16px;outline:none}.input[_ngcontent-%COMP%]:focus{border-color:var(--primary)}.input[_ngcontent-%COMP%]::placeholder{color:var(--text-muted)}.btn[_ngcontent-%COMP%]{padding:12px 24px;border-radius:8px;border:none;font-size:16px;font-weight:500;cursor:pointer;transition:background .2s}.btn--primary[_ngcontent-%COMP%]{background:var(--primary);color:#fff}.btn--primary[_ngcontent-%COMP%]:hover{background:var(--primary-hover)}.btn--full[_ngcontent-%COMP%]{width:100%}"]})};export{N as LoginComponent};
