import{a as f}from"./chunk-RZ3OFYXO.js";import{A as O,v as w,w as P}from"./chunk-4RXWAYQZ.js";import{b as _,c as l,d as x,e as b,f as h,h as v,i as C,m as y,n as M}from"./chunk-HDFS5XVR.js";import{a as E}from"./chunk-GZQS35Q3.js";import{Aa as u,Ga as c,L as i,Qa as n,ba as d,ma as s,ub as g,xa as m,ya as e,za as t}from"./chunk-LKXSVSE5.js";var S=class p{fb=i(y);auth=i(f);router=i(g);toast=i(E);form=this.fb.group({username:["",l.required],password:["",l.required]});async login(){if(this.form.invalid){this.toast.show("\u064A\u0631\u062C\u0649 \u0645\u0644\u0621 \u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0642\u0648\u0644","danger");return}let r=this.form.value.username??"",o=this.form.value.password??"";await this.auth.login(r,o)?(this.toast.show("\u062A\u0645 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0628\u0646\u062C\u0627\u062D","success"),await this.router.navigate(["/"])):this.toast.show("\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0623\u0648 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u063A\u064A\u0631 \u0635\u062D\u064A\u062D\u0629","danger")}static \u0275fac=function(o){return new(o||p)};static \u0275cmp=s({type:p,selectors:[["app-login"]],decls:20,vars:1,consts:[[1,"login-page"],[1,"login-card"],[1,"login-card__header"],[1,"login-card__icon"],[1,"login-card__title"],[1,"login-card__subtitle"],[1,"login-card__form",3,"ngSubmit","formGroup"],[1,"field"],[1,"field__label"],["type","text","formControlName","username","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645",1,"input"],["type","password","formControlName","password","placeholder","\u0623\u062F\u062E\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",1,"input"],["type","submit",1,"btn","btn--primary","btn--full"]],template:function(o,a){o&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-icon",3),n(4,"account_balance_wallet"),t(),e(5,"h1",4),n(6,"\u0645\u0635\u0631\u0648\u0641\u0627\u062A\u064A"),t(),e(7,"p",5),n(8,"\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644"),t()(),e(9,"form",6),c("ngSubmit",function(){return a.login()}),e(10,"label",7)(11,"div",8),n(12,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645"),t(),u(13,"input",9),t(),e(14,"label",7)(15,"div",8),n(16,"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),t(),u(17,"input",10),t(),e(18,"button",11),n(19,"\u062F\u062E\u0648\u0644"),t()()()()),o&2&&(d(9),m("formGroup",a.form))},dependencies:[M,h,_,x,b,v,C,P,w,O],styles:[".login-page[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:16px;background:var(--bg)}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px;background:var(--surface);border-radius:16px;padding:32px;box-shadow:0 4px 20px #0000001a}.login-card__header[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.login-card__icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:var(--primary);margin-bottom:16px}.login-card__title[_ngcontent-%COMP%]{margin:0 0 8px;font-size:24px;font-weight:600}.login-card__subtitle[_ngcontent-%COMP%]{margin:0;color:var(--text-muted);font-size:14px}.login-card__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.field__label[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.input[_ngcontent-%COMP%]{padding:12px 16px;border:1px solid var(--border);border-radius:8px;background:var(--bg);color:var(--text);font-size:16px;outline:none}.input[_ngcontent-%COMP%]:focus{border-color:var(--primary)}.input[_ngcontent-%COMP%]::placeholder{color:var(--text-muted)}.btn[_ngcontent-%COMP%]{padding:12px 24px;border-radius:8px;border:none;font-size:16px;font-weight:500;cursor:pointer;transition:background .2s}.btn--primary[_ngcontent-%COMP%]{background:var(--primary);color:#fff}.btn--primary[_ngcontent-%COMP%]:hover{background:var(--primary-hover)}.btn--full[_ngcontent-%COMP%]{width:100%}"]})};export{S as LoginComponent};
