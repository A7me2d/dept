var Ab=Object.defineProperty,Mb=Object.defineProperties;var Nb=Object.getOwnPropertyDescriptors;var Bs=Object.getOwnPropertySymbols;var Gp=Object.prototype.hasOwnProperty,Wp=Object.prototype.propertyIsEnumerable;var qp=(e,t,n)=>t in e?Ab(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_=(e,t)=>{for(var n in t||={})Gp.call(t,n)&&qp(e,n,t[n]);if(Bs)for(var n of Bs(t))Wp.call(t,n)&&qp(e,n,t[n]);return e},H=(e,t)=>Mb(e,Nb(t));var xb=(e,t)=>{var n={};for(var r in e)Gp.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Bs)for(var r of Bs(e))t.indexOf(r)<0&&Wp.call(e,r)&&(n[r]=e[r]);return n};function U(e){return typeof e=="function"}function dl(e){return U(e?.lift)}function k(e){return t=>{if(dl(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Vr(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Vs=Vr(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Wn(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ie=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(U(r))try{r()}catch(i){t=i instanceof Vs?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{Kp(i)}catch(s){t=t??[],s instanceof Vs?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Vs(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Kp(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Wn(n,t)}remove(t){let{_finalizers:n}=this;n&&Wn(n,t),t instanceof e&&t._removeParent(this)}};ie.EMPTY=(()=>{let e=new ie;return e.closed=!0,e})();var fl=ie.EMPTY;function Hs(e){return e instanceof ie||e&&"closed"in e&&U(e.remove)&&U(e.add)&&U(e.unsubscribe)}function Kp(e){U(e)?e():e.unsubscribe()}var ut={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Hr={setTimeout(e,t,...n){let{delegate:r}=Hr;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Hr;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function zs(e){Hr.setTimeout(()=>{let{onUnhandledError:t}=ut;if(t)t(e);else throw e})}function ei(){}var Zp=hl("C",void 0,void 0);function Yp(e){return hl("E",void 0,e)}function Jp(e){return hl("N",e,void 0)}function hl(e,t,n){return{kind:e,value:t,error:n}}var Kn=null;function zr(e){if(ut.useDeprecatedSynchronousErrorHandling){let t=!Kn;if(t&&(Kn={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Kn;if(Kn=null,n)throw r}}else e()}function Qp(e){ut.useDeprecatedSynchronousErrorHandling&&Kn&&(Kn.errorThrown=!0,Kn.error=e)}var Zn=class extends ie{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Hs(t)&&t.add(this)):this.destination=Pb}static create(t,n,r){return new Kt(t,n,r)}next(t){this.isStopped?gl(Jp(t),this):this._next(t)}error(t){this.isStopped?gl(Yp(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?gl(Zp,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Ob=Function.prototype.bind;function pl(e,t){return Ob.call(e,t)}var ml=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){qs(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){qs(r)}else qs(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){qs(n)}}},Kt=class extends Zn{constructor(t,n,r){super();let o;if(U(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&ut.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&pl(t.next,i),error:t.error&&pl(t.error,i),complete:t.complete&&pl(t.complete,i)}):o=t}this.destination=new ml(o)}};function qs(e){ut.useDeprecatedSynchronousErrorHandling?Qp(e):zs(e)}function kb(e){throw e}function gl(e,t){let{onStoppedNotification:n}=ut;n&&Hr.setTimeout(()=>n(e,t))}var Pb={closed:!0,next:ei,error:kb,complete:ei};function O(e,t,n,r,o){return new yl(e,t,n,r,o)}var yl=class extends Zn{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function B(e,t){return k((n,r)=>{let o=0;n.subscribe(O(r,i=>{r.next(e.call(t,i,o++))}))})}var qr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Le(e){return e}function vl(...e){return wl(e)}function wl(e){return e.length===0?Le:e.length===1?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}var V=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=Fb(n)?n:new Kt(n,r,o);return zr(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Xp(r),new r((o,i)=>{let s=new Kt({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[qr](){return this}pipe(...n){return wl(n)(this)}toPromise(n){return n=Xp(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function Xp(e){var t;return(t=e??ut.Promise)!==null&&t!==void 0?t:Promise}function Lb(e){return e&&U(e.next)&&U(e.error)&&U(e.complete)}function Fb(e){return e&&e instanceof Zn||Lb(e)&&Hs(e)}function Gr(){return k((e,t)=>{let n=null;e._refCount++;let r=O(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Wr=class extends V{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,dl(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ie;let n=this.getSubject();t.add(this.source.subscribe(O(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ie.EMPTY)}return t}refCount(){return Gr()(this)}};var eg=Vr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ee=(()=>{class e extends V{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Gs(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new eg}next(n){zr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){zr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){zr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?fl:(this.currentObservers=null,i.push(n),new ie(()=>{this.currentObservers=null,Wn(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new V;return n.source=this,n}}return e.create=(t,n)=>new Gs(t,n),e})(),Gs=class extends ee{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:fl}};var De=class extends ee{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var ti={now(){return(ti.delegate||Date).now()},delegate:void 0};var Ws=class extends ee{constructor(t=1/0,n=1/0,r=ti){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){let{isStopped:n,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;n||(r.push(t),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!t.closed;s+=r?1:2)t.next(i[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){let{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*t;if(t<1/0&&i<r.length&&r.splice(0,r.length-i),!o){let s=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var Ks=class extends ie{constructor(t,n){super()}schedule(t,n=0){return this}};var ni={setInterval(e,t,...n){let{delegate:r}=ni;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=ni;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var Zs=class extends Ks{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(i,this.id,n),this}requestAsyncId(t,n,r=0){return ni.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ni.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,o;try{this.work(t)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Wn(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var Kr=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};Kr.now=ti.now;var Ys=class extends Kr{constructor(t,n=Kr.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var ri=new Ys(Zs),tg=ri;var Ae=new V(e=>e.complete());function Js(e){return e&&U(e.schedule)}function El(e){return e[e.length-1]}function Qs(e){return U(El(e))?e.pop():void 0}function Tt(e){return Js(El(e))?e.pop():void 0}function ng(e,t){return typeof El(e)=="number"?e.pop():t}function Jn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function Xs(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function rg(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yn(e){return this instanceof Yn?(this.v=e,this):new Yn(e)}function og(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){r[f]&&(o[f]=function(g){return new Promise(function(y,m){i.push([f,g,y,m])>1||c(f,g)})},p&&(o[f]=p(o[f])))}function c(f,p){try{u(r[f](p))}catch(g){h(i[0][3],g)}}function u(f){f.value instanceof Yn?Promise.resolve(f.value.v).then(l,d):h(i[0][2],f)}function l(f){c("next",f)}function d(f){c("throw",f)}function h(f,p){f(p),i.shift(),i.length&&c(i[0][0],i[0][1])}}function ig(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof rg=="function"?rg(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}}var ea=e=>e&&typeof e.length=="number"&&typeof e!="function";function ta(e){return U(e?.then)}function na(e){return U(e[qr])}function ra(e){return Symbol.asyncIterator&&U(e?.[Symbol.asyncIterator])}function oa(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function jb(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ia=jb();function sa(e){return U(e?.[ia])}function aa(e){return og(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:o}=yield Yn(n.read());if(o)return yield Yn(void 0);yield yield Yn(r)}}finally{n.releaseLock()}})}function ca(e){return U(e?.getReader)}function Y(e){if(e instanceof V)return e;if(e!=null){if(na(e))return Ub(e);if(ea(e))return $b(e);if(ta(e))return Bb(e);if(ra(e))return sg(e);if(sa(e))return Vb(e);if(ca(e))return Hb(e)}throw oa(e)}function Ub(e){return new V(t=>{let n=e[qr]();if(U(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function $b(e){return new V(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Bb(e){return new V(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,zs)})}function Vb(e){return new V(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function sg(e){return new V(t=>{zb(e,t).catch(n=>t.error(n))})}function Hb(e){return sg(aa(e))}function zb(e,t){var n,r,o,i;return Xs(this,void 0,void 0,function*(){try{for(n=ig(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})}function He(e,t,n,r=0,o=!1){let i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function ua(e,t=0){return k((n,r)=>{n.subscribe(O(r,o=>He(r,e,()=>r.next(o),t),()=>He(r,e,()=>r.complete(),t),o=>He(r,e,()=>r.error(o),t)))})}function la(e,t=0){return k((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function ag(e,t){return Y(e).pipe(la(t),ua(t))}function cg(e,t){return Y(e).pipe(la(t),ua(t))}function ug(e,t){return new V(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function lg(e,t){return new V(n=>{let r;return He(n,t,()=>{r=e[ia](),He(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>U(r?.return)&&r.return()})}function da(e,t){if(!e)throw new Error("Iterable cannot be null");return new V(n=>{He(n,t,()=>{let r=e[Symbol.asyncIterator]();He(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function dg(e,t){return da(aa(e),t)}function fg(e,t){if(e!=null){if(na(e))return ag(e,t);if(ea(e))return ug(e,t);if(ta(e))return cg(e,t);if(ra(e))return da(e,t);if(sa(e))return lg(e,t);if(ca(e))return dg(e,t)}throw oa(e)}function te(e,t){return t?fg(e,t):Y(e)}function R(...e){let t=Tt(e);return te(e,t)}function Zr(e,t){let n=U(e)?e:()=>e,r=o=>o.error(n());return new V(t?o=>t.schedule(r,0,o):r)}function _l(e){return!!e&&(e instanceof V||U(e.lift)&&U(e.subscribe))}var Zt=Vr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function hg(e){return e instanceof Date&&!isNaN(e)}var{isArray:qb}=Array;function Gb(e,t){return qb(t)?e(...t):e(t)}function fa(e){return B(t=>Gb(e,t))}var{isArray:Wb}=Array,{getPrototypeOf:Kb,prototype:Zb,keys:Yb}=Object;function ha(e){if(e.length===1){let t=e[0];if(Wb(t))return{args:t,keys:null};if(Jb(t)){let n=Yb(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function Jb(e){return e&&typeof e=="object"&&Kb(e)===Zb}function pa(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function ga(...e){let t=Tt(e),n=Qs(e),{args:r,keys:o}=ha(e);if(r.length===0)return te([],t);let i=new V(Qb(r,t,o?s=>pa(o,s):Le));return n?i.pipe(fa(n)):i}function Qb(e,t,n=Le){return r=>{pg(t,()=>{let{length:o}=e,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)pg(t,()=>{let u=te(e[c],t),l=!1;u.subscribe(O(r,d=>{i[c]=d,l||(l=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function pg(e,t,n){e?He(n,e,t):t()}function gg(e,t,n,r,o,i,s,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&t.complete()},f=g=>u<r?p(g):c.push(g),p=g=>{i&&t.next(g),u++;let y=!1;Y(n(g,l++)).subscribe(O(t,m=>{o?.(m),i?f(m):t.next(m)},()=>{y=!0},void 0,()=>{if(y)try{for(u--;c.length&&u<r;){let m=c.shift();s?He(t,s,()=>p(m)):p(m)}h()}catch(m){t.error(m)}}))};return e.subscribe(O(t,f,()=>{d=!0,h()})),()=>{a?.()}}function le(e,t,n=1/0){return U(t)?le((r,o)=>B((i,s)=>t(r,i,o,s))(Y(e(r,o))),n):(typeof t=="number"&&(n=t),k((r,o)=>gg(r,o,e,n)))}function En(e=1/0){return le(Le,e)}function mg(){return En(1)}function Yr(...e){return mg()(te(e,Tt(e)))}function oi(e){return new V(t=>{Y(e()).subscribe(t)})}function Xb(...e){let t=Qs(e),{args:n,keys:r}=ha(e),o=new V(i=>{let{length:s}=n;if(!s){i.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let d=!1;Y(n[l]).subscribe(O(i,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||i.next(r?pa(r,a):a),i.complete())}))}});return t?o.pipe(fa(t)):o}function yg(e=0,t,n=tg){let r=-1;return t!=null&&(Js(t)?n=t:r=t),new V(o=>{let i=hg(e)?+e-n.now():e;i<0&&(i=0);let s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}function eD(...e){let t=Tt(e),n=ng(e,1/0),r=e;return r.length?r.length===1?Y(r[0]):En(n)(te(r,t)):Ae}function Ie(e,t){return k((n,r)=>{let o=0;n.subscribe(O(r,i=>e.call(t,i,o++)&&r.next(i)))})}function vg(e){return k((t,n)=>{let r=!1,o=null,i=null,s=!1,a=()=>{if(i?.unsubscribe(),i=null,r){r=!1;let u=o;o=null,n.next(u)}s&&n.complete()},c=()=>{i=null,s&&n.complete()};t.subscribe(O(n,u=>{r=!0,o=u,i||Y(e(u)).subscribe(i=O(n,a,c))},()=>{s=!0,(!r||!i||i.closed)&&n.complete()}))})}function tD(e,t=ri){return vg(()=>yg(e,t))}function Yt(e){return k((t,n)=>{let r=null,o=!1,i;r=t.subscribe(O(n,void 0,void 0,s=>{i=Y(e(s,Yt(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function wg(e,t,n,r,o){return(i,s)=>{let a=n,c=t,u=0;i.subscribe(O(s,l=>{let d=u++;c=a?e(c,l,d):(a=!0,l),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function Jt(e,t){return U(t)?le(e,t,1):le(e,1)}function nD(e,t=ri){return k((n,r)=>{let o=null,i=null,s=null,a=()=>{if(o){o.unsubscribe(),o=null;let u=i;i=null,r.next(u)}};function c(){let u=s+e,l=t.now();if(l<u){o=this.schedule(void 0,u-l),r.add(o);return}a()}n.subscribe(O(r,u=>{i=u,s=t.now(),o||(o=t.schedule(c,e),r.add(o))},()=>{a(),r.complete()},void 0,()=>{i=o=null}))})}function _n(e){return k((t,n)=>{let r=!1;t.subscribe(O(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function Qt(e){return e<=0?()=>Ae:k((t,n)=>{let r=0;t.subscribe(O(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function rD(e,t=Le){return e=e??oD,k((n,r)=>{let o,i=!0;n.subscribe(O(r,s=>{let a=t(s);(i||!e(o,a))&&(i=!1,o=a,r.next(s))}))})}function oD(e,t){return e===t}function ma(e=iD){return k((t,n)=>{let r=!1;t.subscribe(O(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function iD(){return new Zt}function Qn(e){return k((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Xt(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Ie((o,i)=>e(o,i,r)):Le,Qt(1),n?_n(t):ma(()=>new Zt))}function Jr(e){return e<=0?()=>Ae:k((t,n)=>{let r=[];t.subscribe(O(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function bl(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Ie((o,i)=>e(o,i,r)):Le,Jr(1),n?_n(t):ma(()=>new Zt))}function sD(){return k((e,t)=>{let n,r=!1;e.subscribe(O(t,o=>{let i=n;n=o,r&&t.next([i,o]),r=!0}))})}function Dl(e,t){return k(wg(e,t,arguments.length>=2,!0))}function Cl(e={}){let{connector:t=()=>new ee,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return i=>{let s,a,c,u=0,l=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=c=void 0,l=d=!1},p=()=>{let g=s;f(),g?.unsubscribe()};return k((g,y)=>{u++,!d&&!l&&h();let m=c=c??t();y.add(()=>{u--,u===0&&!d&&!l&&(a=Il(p,o))}),m.subscribe(y),!s&&u>0&&(s=new Kt({next:D=>m.next(D),error:D=>{d=!0,h(),a=Il(f,n,D),m.error(D)},complete:()=>{l=!0,h(),a=Il(f,r),m.complete()}}),Y(g).subscribe(s))})(i)}}function Il(e,t,...n){if(t===!0){e();return}if(t===!1)return;let r=new Kt({next:()=>{r.unsubscribe(),e()}});return Y(t(...n)).subscribe(r)}function aD(e,t,n){let r,o=!1;return e&&typeof e=="object"?{bufferSize:r=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:n}=e:r=e??1/0,Cl({connector:()=>new Ws(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function cD(e){return Ie((t,n)=>e<=n)}function Tl(...e){let t=Tt(e);return k((n,r)=>{(t?Yr(e,n,t):Yr(e,n)).subscribe(r)})}function Me(e,t){return k((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(O(r,c=>{o?.unsubscribe();let u=0,l=i++;Y(e(c,l)).subscribe(o=O(r,d=>r.next(t?t(c,d,l,u++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function ya(e){return k((t,n)=>{Y(e).subscribe(O(n,()=>n.complete(),ei)),!n.closed&&t.subscribe(n)})}function uD(e,t=!1){return k((n,r)=>{let o=0;n.subscribe(O(r,i=>{let s=e(i,o++);(s||t)&&r.next(i),!s&&r.complete()}))})}function we(e,t,n){let r=U(e)||t||n?{next:e,error:t,complete:n}:e;return r?k((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(O(i,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),i.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Le}var Sl;function va(){return Sl}function St(e){let t=Sl;return Sl=e,t}var Eg=Symbol("NotFound");function Qr(e){return e===Eg||e?.name==="\u0275NotFound"}var Ne=null,wa=!1,Rl=1,lD=null,pe=Symbol("SIGNAL");function P(e){let t=Ne;return Ne=e,t}function Da(){return Ne}var Xn={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function er(e){if(wa)throw new Error("");if(Ne===null)return;Ne.consumerOnSignalRead(e);let t=Ne.producersTail;if(t!==void 0&&t.producer===e)return;let n,r=Ne.recomputing;if(r&&(n=t!==void 0?t.nextProducer:Ne.producers,n!==void 0&&n.producer===e)){Ne.producersTail=n,n.lastReadVersion=e.version;return}let o=e.consumersTail;if(o!==void 0&&o.consumer===Ne&&(!r||fD(o,Ne)))return;let i=Xr(Ne),s={producer:e,consumer:Ne,nextProducer:n,prevConsumer:o,lastReadVersion:e.version,nextConsumer:void 0};Ne.producersTail=s,t!==void 0?t.nextProducer=s:Ne.producers=s,i&&Ig(e,s)}function _g(){Rl++}function Ia(e){if(!(Xr(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Rl)){if(!e.producerMustRecompute(e)&&!nr(e)){ba(e);return}e.producerRecomputeValue(e),ba(e)}}function Al(e){if(e.consumers===void 0)return;let t=wa;wa=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||dD(r)}}finally{wa=t}}function Ml(){return Ne?.consumerAllowSignalWrites!==!1}function dD(e){e.dirty=!0,Al(e),e.consumerMarkedDirty?.(e)}function ba(e){e.dirty=!1,e.lastCleanEpoch=Rl}function bn(e){return e&&bg(e),P(e)}function bg(e){e.producersTail=void 0,e.recomputing=!0}function tr(e,t){P(t),e&&Dg(e)}function Dg(e){e.recomputing=!1;let t=e.producersTail,n=t!==void 0?t.nextProducer:e.producers;if(n!==void 0){if(Xr(e))do n=Nl(n);while(n!==void 0);t!==void 0?t.nextProducer=void 0:e.producers=void 0}}function nr(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,r=t.lastReadVersion;if(r!==n.version||(Ia(n),r!==n.version))return!0}return!1}function Dn(e){if(Xr(e)){let t=e.producers;for(;t!==void 0;)t=Nl(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function Ig(e,t){let n=e.consumersTail,r=Xr(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let o=e.producers;o!==void 0;o=o.nextProducer)Ig(o.producer,o)}function Nl(e){let t=e.producer,n=e.nextProducer,r=e.nextConsumer,o=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:t.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(t.consumers=r,!Xr(t)){let i=t.producers;for(;i!==void 0;)i=Nl(i)}return n}function Xr(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function Ca(e){lD?.(e)}function fD(e,t){let n=t.producersTail;if(n!==void 0){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Ta(e,t){return Object.is(e,t)}function si(e,t){let n=Object.create(hD);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(Ia(n),er(n),n.value===ii)throw n.error;return n.value};return r[pe]=n,Ca(n),r}var Ea=Symbol("UNSET"),_a=Symbol("COMPUTING"),ii=Symbol("ERRORED"),hD=H(_({},Xn),{value:Ea,dirty:!0,error:null,equal:Ta,kind:"computed",producerMustRecompute(e){return e.value===Ea||e.value===_a},producerRecomputeValue(e){if(e.value===_a)throw new Error("");let t=e.value;e.value=_a;let n=bn(e),r,o=!1;try{r=e.computation(),P(null),o=t!==Ea&&t!==ii&&r!==ii&&e.equal(t,r)}catch(i){r=ii,e.error=i}finally{tr(e,n)}if(o){e.value=t;return}e.value=r,e.version++}});function pD(){throw new Error}var Cg=pD;function Tg(e){Cg(e)}function xl(e){Cg=e}var gD=null;function Ol(e,t){let n=Object.create(ai);n.value=e,t!==void 0&&(n.equal=t);let r=()=>Sg(n);return r[pe]=n,Ca(n),[r,s=>eo(n,s),s=>kl(n,s)]}function Sg(e){return er(e),e.value}function eo(e,t){Ml()||Tg(e),e.equal(e.value,t)||(e.value=t,mD(e))}function kl(e,t){Ml()||Tg(e),eo(e,t(e.value))}var ai=H(_({},Xn),{equal:Ta,value:void 0,kind:"signal"});function mD(e){e.version++,_g(),Al(e),gD?.(e)}function Rg(e){let t=P(null);try{return e()}finally{P(t)}}var Ag=H(_({},Xn),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function Mg(e){if(e.dirty=!1,e.version>0&&!nr(e))return;e.version++;let t=bn(e);try{e.cleanup(),e.fn()}finally{tr(e,t)}}var Ma="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",E=class extends Error{code;constructor(t,n){super(nn(t,n)),this.code=t}};function yD(e){return`NG0${Math.abs(e)}`}function nn(e,t){return`${yD(e)}${t?": "+t:""}`}var et=globalThis;function q(e){for(let t in e)if(e[t]===q)return t;throw Error("")}function Og(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function tn(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(tn).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Na(e,t){return e?t?`${e} ${t}`:e:t||""}var vD=q({__forward_ref__:q});function xa(e){return e.__forward_ref__=xa,e.toString=function(){return tn(this())},e}function ge(e){return ql(e)?e():e}function ql(e){return typeof e=="function"&&e.hasOwnProperty(vD)&&e.__forward_ref__===xa}function I(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ar(e){return{providers:e.providers||[],imports:e.imports||[]}}function fi(e){return wD(e,Oa)}function Gl(e){return fi(e)!==null}function wD(e,t){return e.hasOwnProperty(t)&&e[t]||null}function ED(e){let t=e?.[Oa]??null;return t||null}function Ll(e){return e&&e.hasOwnProperty(Ra)?e[Ra]:null}var Oa=q({\u0275prov:q}),Ra=q({\u0275inj:q}),T=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=I({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Wl(e){return e&&!!e.\u0275providers}var Kl=q({\u0275cmp:q}),Zl=q({\u0275dir:q}),Yl=q({\u0275pipe:q}),Jl=q({\u0275mod:q}),ui=q({\u0275fac:q}),cr=q({__NG_ELEMENT_ID__:q}),Ng=q({__NG_ENV_ID__:q});function ur(e){return typeof e=="string"?e:e==null?"":String(e)}function kg(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():ur(e)}var Pg=q({ngErrorCode:q}),_D=q({ngErrorMessage:q}),bD=q({ngTokenPath:q});function Ql(e,t){return Lg("",-200,t)}function ka(e,t){throw new E(-201,!1)}function Lg(e,t,n){let r=new E(t,e);return r[Pg]=t,r[_D]=e,n&&(r[bD]=n),r}function DD(e){return e[Pg]}var Fl;function Fg(){return Fl}function Fe(e){let t=Fl;return Fl=e,t}function Xl(e,t,n){let r=fi(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;ka(e,"Injector")}var ID={},rr=ID,CD="__NG_DI_FLAG__",jl=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=or(n)||0;try{return this.injector.get(t,r&8?null:rr,r)}catch(o){if(Qr(o))return o;throw o}}};function TD(e,t=0){let n=va();if(n===void 0)throw new E(-203,!1);if(n===null)return Xl(e,void 0,t);{let r=SD(t),o=n.retrieve(e,r);if(Qr(o)){if(r.optional)return null;throw o}return o}}function A(e,t=0){return(Fg()||TD)(ge(e),t)}function v(e,t){return A(e,or(t))}function or(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function SD(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Ul(e){let t=[];for(let n=0;n<e.length;n++){let r=ge(e[n]);if(Array.isArray(r)){if(r.length===0)throw new E(900,!1);let o,i=0;for(let s=0;s<r.length;s++){let a=r[s],c=RD(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}t.push(A(o,i))}else t.push(A(r))}return t}function RD(e){return e[CD]}function In(e,t){let n=e.hasOwnProperty(ui);return n?e[ui]:null}function jg(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=t[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}function Ug(e){return e.flat(Number.POSITIVE_INFINITY)}function Pa(e,t){e.forEach(n=>Array.isArray(n)?Pa(n,t):t(n))}function ed(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function hi(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function $g(e,t){let n=[];for(let r=0;r<e;r++)n.push(t);return n}function Bg(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(o===1)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;){let i=o-2;e[o]=e[i],o--}e[t]=n,e[t+1]=r}}function La(e,t,n){let r=no(e,t);return r>=0?e[r|1]=n:(r=~r,Bg(e,r,t,n)),r}function Fa(e,t){let n=no(e,t);if(n>=0)return e[n|1]}function no(e,t){return AD(e,t,1)}function AD(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}var lt={},xe=[],Rt=new T(""),td=new T("",-1),nd=new T(""),li=class{get(t,n=rr){if(n===rr){let o=Lg("",-201);throw o.name="\u0275NotFound",o}return n}};function rd(e){return e[Jl]||null}function rn(e){return e[Kl]||null}function ja(e){return e[Zl]||null}function Vg(e){return e[Yl]||null}function At(e){return{\u0275providers:e}}function Hg(e){return At([{provide:Rt,multi:!0,useValue:e}])}function zg(...e){return{\u0275providers:od(!0,e),\u0275fromNgModule:!0}}function od(e,...t){let n=[],r=new Set,o,i=s=>{n.push(s)};return Pa(t,s=>{let a=s;Aa(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&qg(o,i),n}function qg(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:o}=e[n];id(o,i=>{t(i,r)})}}function Aa(e,t,n,r){if(e=ge(e),!e)return!1;let o=null,i=Ll(e),s=!i&&rn(e);if(!i&&!s){let c=e.ngModule;if(i=Ll(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=e}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)Aa(u,t,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let u;try{Pa(i.imports,l=>{Aa(l,t,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&qg(u,t)}if(!a){let u=In(o)||(()=>new o);t({provide:o,useFactory:u,deps:xe},o),t({provide:nd,useValue:o,multi:!0},o),t({provide:Rt,useValue:()=>A(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let u=e;id(c,l=>{t(l,u)})}}else return!1;return o!==e&&e.providers!==void 0}function id(e,t){for(let n of e)Wl(n)&&(n=n.\u0275providers),Array.isArray(n)?id(n,t):t(n)}var MD=q({provide:String,useValue:q});function Gg(e){return e!==null&&typeof e=="object"&&MD in e}function ND(e){return!!(e&&e.useExisting)}function xD(e){return!!(e&&e.useFactory)}function ir(e){return typeof e=="function"}function Wg(e){return!!e.useClass}var pi=new T(""),Sa={},xg={},Pl;function ro(){return Pl===void 0&&(Pl=new li),Pl}var de=class{},sr=class extends de{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,Bl(t,s=>this.processProvider(s)),this.records.set(td,to(void 0,this)),o.has("environment")&&this.records.set(de,to(void 0,this));let i=this.records.get(pi);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(nd,xe,{self:!0}))}retrieve(t,n){let r=or(n)||0;try{return this.get(t,rr,r)}catch(o){if(Qr(o))return o;throw o}}destroy(){ci(this),this._destroyed=!0;let t=P(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),P(t)}}onDestroy(t){return ci(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){ci(this);let n=St(this),r=Fe(void 0),o;try{return t()}finally{St(n),Fe(r)}}get(t,n=rr,r){if(ci(this),t.hasOwnProperty(Ng))return t[Ng](this);let o=or(r),i,s=St(this),a=Fe(void 0);try{if(!(o&4)){let u=this.records.get(t);if(u===void 0){let l=FD(t)&&fi(t);l&&this.injectableDefInScope(l)?u=to($l(t),Sa):u=null,this.records.set(t,u)}if(u!=null)return this.hydrate(t,u,o)}let c=o&2?ro():this.parent;return n=o&8&&n===rr?null:n,c.get(t,n)}catch(c){let u=DD(c);throw u===-200||u===-201?new E(u,null):c}finally{Fe(a),St(s)}}resolveInjectorInitializers(){let t=P(null),n=St(this),r=Fe(void 0),o;try{let i=this.get(Rt,xe,{self:!0});for(let s of i)s()}finally{St(n),Fe(r),P(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(tn(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=ge(t);let n=ir(t)?t:ge(t&&t.provide),r=kD(t);if(!ir(t)&&t.multi===!0){let o=this.records.get(n);o||(o=to(void 0,Sa,!0),o.factory=()=>Ul(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let o=P(null);try{if(n.value===xg)throw Ql(tn(t));return n.value===Sa&&(n.value=xg,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&LD(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{P(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=ge(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function $l(e){let t=fi(e),n=t!==null?t.factory:In(e);if(n!==null)return n;if(e instanceof T)throw new E(204,!1);if(e instanceof Function)return OD(e);throw new E(204,!1)}function OD(e){if(e.length>0)throw new E(204,!1);let n=ED(e);return n!==null?()=>n.factory(e):()=>new e}function kD(e){if(Gg(e))return to(void 0,e.useValue);{let t=sd(e);return to(t,Sa)}}function sd(e,t,n){let r;if(ir(e)){let o=ge(e);return In(o)||$l(o)}else if(Gg(e))r=()=>ge(e.useValue);else if(xD(e))r=()=>e.useFactory(...Ul(e.deps||[]));else if(ND(e))r=(o,i)=>A(ge(e.useExisting),i!==void 0&&i&8?8:void 0);else{let o=ge(e&&(e.useClass||e.provide));if(PD(e))r=()=>new o(...Ul(e.deps));else return In(o)||$l(o)}return r}function ci(e){if(e.destroyed)throw new E(205,!1)}function to(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function PD(e){return!!e.deps}function LD(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function FD(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Bl(e,t){for(let n of e)Array.isArray(n)?Bl(n,t):n&&Wl(n)?Bl(n.\u0275providers,t):t(n)}function Ce(e,t){let n;e instanceof sr?(ci(e),n=e):n=new jl(e);let r,o=St(n),i=Fe(void 0);try{return t()}finally{St(o),Fe(i)}}function Kg(){return Fg()!==void 0||va()!=null}var dt=0,M=1,x=2,Ee=3,tt=4,Ue=5,oo=6,io=7,Te=8,Tn=9,Mt=10,ne=11,so=12,ad=13,lr=14,ze=15,Sn=16,dr=17,Nt=18,gi=19,cd=20,en=21,Ua=22,on=23,Ze=24,fr=25,mi=26,re=27,Zg=1;var Rn=7,yi=8,hr=9,Oe=10;function xt(e){return Array.isArray(e)&&typeof e[Zg]=="object"}function ft(e){return Array.isArray(e)&&e[Zg]===!0}function ud(e){return(e.flags&4)!==0}function An(e){return e.componentOffset>-1}function vi(e){return(e.flags&1)===1}function ht(e){return!!e.template}function ao(e){return(e[x]&512)!==0}function pr(e){return(e[x]&256)===256}var ld="svg",Yg="math";function nt(e){for(;Array.isArray(e);)e=e[dt];return e}function dd(e,t){return nt(t[e])}function pt(e,t){return nt(t[e.index])}function wi(e,t){return e.data[t]}function $a(e,t){return e[t]}function fd(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function rt(e,t){let n=t[e];return xt(n)?n:n[dt]}function Jg(e){return(e[x]&4)===4}function Ba(e){return(e[x]&128)===128}function Qg(e){return ft(e[Ee])}function Ot(e,t){return t==null?null:e[t]}function hd(e){e[dr]=0}function pd(e){e[x]&1024||(e[x]|=1024,Ba(e)&&Mn(e))}function Xg(e,t){for(;e>0;)t=t[lr],e--;return t}function Ei(e){return!!(e[x]&9216||e[Ze]?.dirty)}function Va(e){e[Mt].changeDetectionScheduler?.notify(8),e[x]&64&&(e[x]|=1024),Ei(e)&&Mn(e)}function Mn(e){e[Mt].changeDetectionScheduler?.notify(0);let t=Cn(e);for(;t!==null&&!(t[x]&8192||(t[x]|=8192,!Ba(t)));)t=Cn(t)}function gd(e,t){if(pr(e))throw new E(911,!1);e[en]===null&&(e[en]=[]),e[en].push(t)}function em(e,t){if(e[en]===null)return;let n=e[en].indexOf(t);n!==-1&&e[en].splice(n,1)}function Cn(e){let t=e[Ee];return ft(t)?t[Ee]:t}function md(e){return e[io]??=[]}function yd(e){return e.cleanup??=[]}function tm(e,t,n,r){let o=md(t);o.push(n),e.firstCreatePass&&yd(e).push(r,o.length-1)}var $={lFrame:gm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Vl=!1;function nm(){return $.lFrame.elementDepthCount}function rm(){$.lFrame.elementDepthCount++}function vd(){$.lFrame.elementDepthCount--}function wd(){return $.bindingsEnabled}function Ed(){return $.skipHydrationRootTNode!==null}function _d(e){return $.skipHydrationRootTNode===e}function bd(){$.skipHydrationRootTNode=null}function L(){return $.lFrame.lView}function fe(){return $.lFrame.tView}function om(e){return $.lFrame.contextLView=e,e[Te]}function im(e){return $.lFrame.contextLView=null,e}function Se(){let e=Dd();for(;e!==null&&e.type===64;)e=e.parent;return e}function Dd(){return $.lFrame.currentTNode}function sm(){let e=$.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function co(e,t){let n=$.lFrame;n.currentTNode=e,n.isParent=t}function Id(){return $.lFrame.isParent}function Cd(){$.lFrame.isParent=!1}function am(){return $.lFrame.contextLView}function Td(){return Vl}function uo(e){let t=Vl;return Vl=e,t}function _i(){let e=$.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function cm(){return $.lFrame.bindingIndex}function um(e){return $.lFrame.bindingIndex=e}function lo(){return $.lFrame.bindingIndex++}function Ha(e){let t=$.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function lm(){return $.lFrame.inI18n}function dm(e,t){let n=$.lFrame;n.bindingIndex=n.bindingRootIndex=e,za(t)}function fm(){return $.lFrame.currentDirectiveIndex}function za(e){$.lFrame.currentDirectiveIndex=e}function hm(e){let t=$.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function qa(){return $.lFrame.currentQueryIndex}function bi(e){$.lFrame.currentQueryIndex=e}function jD(e){let t=e[M];return t.type===2?t.declTNode:t.type===1?e[Ue]:null}function Sd(e,t,n){if(n&4){let o=t,i=e;for(;o=o.parent,o===null&&!(n&1);)if(o=jD(i),o===null||(i=i[lr],o.type&10))break;if(o===null)return!1;t=o,e=i}let r=$.lFrame=pm();return r.currentTNode=t,r.lView=e,!0}function Ga(e){let t=pm(),n=e[M];$.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function pm(){let e=$.lFrame,t=e===null?null:e.child;return t===null?gm(e):t}function gm(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function mm(){let e=$.lFrame;return $.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Rd=mm;function Wa(){let e=mm();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ym(e){return($.lFrame.contextLView=Xg(e,$.lFrame.contextLView))[Te]}function sn(){return $.lFrame.selectedIndex}function Nn(e){$.lFrame.selectedIndex=e}function Ka(){let e=$.lFrame;return wi(e.tView,e.selectedIndex)}function vm(){$.lFrame.currentNamespace=ld}function wm(){return $.lFrame.currentNamespace}var Em=!0;function Za(){return Em}function Ya(e){Em=e}function Hl(e,t=null,n=null,r){let o=Ad(e,t,n,r);return o.resolveInjectorInitializers(),o}function Ad(e,t=null,n=null,r,o=new Set){let i=[n||xe,zg(e)];return r=r||(typeof e=="object"?void 0:tn(e)),new sr(i,t||ro(),r||null,o)}var je=class e{static THROW_IF_NOT_FOUND=rr;static NULL=new li;static create(t,n){if(Array.isArray(t))return Hl({name:""},n,t,"");{let r=t.name??"";return Hl({name:r},t.parent,t.providers,r)}}static \u0275prov=I({token:e,providedIn:"any",factory:()=>A(td)});static __NG_ELEMENT_ID__=-1},ue=new T(""),ot=(()=>{class e{static __NG_ELEMENT_ID__=UD;static __NG_ENV_ID__=n=>n}return e})(),di=class extends ot{_lView;constructor(t){super(),this._lView=t}get destroyed(){return pr(this._lView)}onDestroy(t){let n=this._lView;return gd(n,t),()=>em(n,t)}};function UD(){return new di(L())}var Xe=class{_console=console;handleError(t){this._console.error("ERROR",t)}},$e=new T("",{providedIn:"root",factory:()=>{let e=v(de),t;return n=>{e.destroyed&&!t?setTimeout(()=>{throw n}):(t??=e.get(Xe),t.handleError(n))}}}),_m={provide:Rt,useValue:()=>void v(Xe),multi:!0},$D=new T("",{providedIn:"root",factory:()=>{let e=v(ue).defaultView;if(!e)return;let t=v($e),n=i=>{t(i.reason),i.preventDefault()},r=i=>{i.error?t(i.error):t(new Error(i.message,{cause:i})),i.preventDefault()},o=()=>{e.addEventListener("unhandledrejection",n),e.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(o):o(),v(ot).onDestroy(()=>{e.removeEventListener("error",r),e.removeEventListener("unhandledrejection",n)})}});function BD(){return At([Hg(()=>void v($D))])}function bm(e){return typeof e=="function"&&e[pe]!==void 0}function gt(e,t){let[n,r,o]=Ol(e,t?.equal),i=n,s=i[pe];return i.set=r,i.update=o,i.asReadonly=Md.bind(i),i}function Md(){let e=this[pe];if(e.readonlyFn===void 0){let t=()=>this();t[pe]=e,e.readonlyFn=t}return e.readonlyFn}var gr=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=VD}return e})();function VD(){return new gr(L(),Se())}var Ke=class{},fo=new T("",{providedIn:"root",factory:()=>!1});var Nd=new T(""),Ja=new T(""),kt=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new De(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new V(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=I({token:e,providedIn:"root",factory:()=>new e})}return e})(),Di=(()=>{class e{internalPendingTasks=v(kt);scheduler=v(Ke);errorHandler=v($e);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=I({token:e,providedIn:"root",factory:()=>new e})}return e})();function mr(...e){}var Ii=(()=>{class e{static \u0275prov=I({token:e,providedIn:"root",factory:()=>new zl})}return e})(),zl=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function Oi(e){return{toString:e}.toString()}function ZD(e){return typeof e=="function"}var ac=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function oy(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var kn=(()=>{let e=()=>iy;return e.ngInherit=!0,e})();function iy(e){return e.type.prototype.ngOnChanges&&(e.setInput=JD),YD}function YD(){let e=ay(this),t=e?.current;if(t){let n=e.previous;if(n===lt)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function JD(e,t,n,r,o){let i=this.declaredInputs[r],s=ay(e)||QD(e,{previous:lt,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[i];a[i]=new ac(u&&u.currentValue,n,c===lt),oy(e,t,o,n)}var sy="__ngSimpleChanges__";function ay(e){return e[sy]||null}function QD(e,t){return e[sy]=t}var Dm=[];var G=function(e,t=null,n){for(let r=0;r<Dm.length;r++){let o=Dm[r];o(e,t,n)}};function XD(e,t,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){let s=iy(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}function cy(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=i;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),l!=null&&(e.destroyHooks??=[]).push(n,l)}}function rc(e,t,n){uy(e,t,3,n)}function oc(e,t,n,r){(e[x]&3)===n&&uy(e,t,n,r)}function xd(e,t){let n=e[x];(n&3)===t&&(n&=16383,n+=1,e[x]=n)}function uy(e,t,n,r){let o=r!==void 0?e[dr]&65535:0,i=r??-1,s=t.length-1,a=0;for(let c=o;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[dr]+=65536),(a<i||i==-1)&&(eI(e,n,t,c),e[dr]=(e[dr]&4294901760)+c+2),c++}function Im(e,t){G(4,e,t);let n=P(null);try{t.call(e)}finally{P(n),G(5,e,t)}}function eI(e,t,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=e[s];o?e[x]>>14<e[dr]>>16&&(e[x]&3)===t&&(e[x]+=16384,Im(a,i)):Im(a,i)}var po=-1,vr=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,o){this.factory=t,this.name=o,this.canSeeViewProviders=n,this.injectImpl=r}};function tI(e){return(e.flags&8)!==0}function nI(e){return(e.flags&16)!==0}function rI(e,t,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,i)}else{let i=o,s=n[++r];oI(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}return r}function ly(e){return e===3||e===4||e===6}function oI(e){return e.charCodeAt(0)===64}function go(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?Cm(e,n,o,null,t[++r]):Cm(e,n,o,null,null))}}return e}function Cm(e,t,n,r,o){let i=0,s=e.length;if(t===-1)s=-1;else for(;i<e.length;){let a=e[i++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=i-1;break}}}for(;i<e.length;){let a=e[i];if(typeof a=="number")break;if(a===n){o!==null&&(e[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),o!==null&&e.splice(i++,0,o)}function dy(e){return e!==po}function cc(e){return e&32767}function iI(e){return e>>16}function uc(e,t){let n=iI(e),r=t;for(;n>0;)r=r[lr],n--;return r}var Hd=!0;function lc(e){let t=Hd;return Hd=e,t}var sI=256,fy=sI-1,hy=5,aI=0,Pt={};function cI(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(cr)&&(r=n[cr]),r==null&&(r=n[cr]=aI++);let o=r&fy,i=1<<o;t.data[e+(o>>hy)]|=i}function dc(e,t){let n=py(e,t);if(n!==-1)return n;let r=t[M];r.firstCreatePass&&(e.injectorIndex=t.length,Od(r.data,e),Od(t,null),Od(r.blueprint,null));let o=If(e,t),i=e.injectorIndex;if(dy(o)){let s=cc(o),a=uc(o,t),c=a[M].data;for(let u=0;u<8;u++)t[i+u]=a[s+u]|c[s+u]}return t[i+8]=o,i}function Od(e,t){e.push(0,0,0,0,0,0,0,0,t)}function py(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function If(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;o!==null;){if(r=wy(o),r===null)return po;if(n++,o=o[lr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return po}function zd(e,t,n){cI(e,t,n)}function uI(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,o=0;for(;o<r;){let i=n[o];if(ly(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof n[o]=="string";)o++;else{if(i===t)return n[o+1];o=o+2}}}return null}function gy(e,t,n){if(n&8||e!==void 0)return e;ka(t,"NodeInjector")}function my(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let o=e[Tn],i=Fe(void 0);try{return o?o.get(t,r,n&8):Xl(t,r,n&8)}finally{Fe(i)}}return gy(r,t,n)}function yy(e,t,n,r=0,o){if(e!==null){if(t[x]&2048&&!(r&2)){let s=hI(e,t,n,r,Pt);if(s!==Pt)return s}let i=vy(e,t,n,r,Pt);if(i!==Pt)return i}return my(t,n,r,o)}function vy(e,t,n,r,o){let i=dI(n);if(typeof i=="function"){if(!Sd(t,e,r))return r&1?gy(o,n,r):my(t,n,r,o);try{let s;if(s=i(r),s==null&&!(r&8))ka(n);else return s}finally{Rd()}}else if(typeof i=="number"){let s=null,a=py(e,t),c=po,u=r&1?t[ze][Ue]:null;for((a===-1||r&4)&&(c=a===-1?If(e,t):t[a+8],c===po||!Sm(r,!1)?a=-1:(s=t[M],a=cc(c),t=uc(c,t)));a!==-1;){let l=t[M];if(Tm(i,a,l.data)){let d=lI(a,t,n,s,r,u);if(d!==Pt)return d}c=t[a+8],c!==po&&Sm(r,t[M].data[a+8]===u)&&Tm(i,a,t)?(s=l,a=cc(c),t=uc(c,t)):a=-1}}return o}function lI(e,t,n,r,o,i){let s=t[M],a=s.data[e+8],c=r==null?An(a)&&Hd:r!=s&&(a.type&3)!==0,u=o&1&&i===a,l=ic(a,s,n,c,u);return l!==null?Si(t,s,l,a,o):Pt}function ic(e,t,n,r,o){let i=e.providerIndexes,s=t.data,a=i&1048575,c=e.directiveStart,u=e.directiveEnd,l=i>>20,d=r?a:a+l,h=o?a+l:u;for(let f=d;f<h;f++){let p=s[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(o){let f=s[c];if(f&&ht(f)&&f.type===n)return c}return null}function Si(e,t,n,r,o){let i=e[n],s=t.data;if(i instanceof vr){let a=i;if(a.resolving){let f=kg(s[n]);throw Ql(f)}let c=lc(a.canSeeViewProviders);a.resolving=!0;let u=s[n].type||s[n],l,d=a.injectImpl?Fe(a.injectImpl):null,h=Sd(e,r,0);try{i=e[n]=a.factory(void 0,o,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&XD(n,s[n],t)}finally{d!==null&&Fe(d),lc(c),a.resolving=!1,Rd()}}return i}function dI(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(cr)?e[cr]:void 0;return typeof t=="number"?t>=0?t&fy:fI:t}function Tm(e,t,n){let r=1<<e;return!!(n[t+(e>>hy)]&r)}function Sm(e,t){return!(e&2)&&!(e&1&&t)}var yr=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return yy(this._tNode,this._lView,t,or(r),n)}};function fI(){return new yr(Se(),L())}function Cc(e){return Oi(()=>{let t=e.prototype.constructor,n=t[ui]||qd(t),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[ui]||qd(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function qd(e){return ql(e)?()=>{let t=qd(ge(e));return t&&t()}:In(e)}function hI(e,t,n,r,o){let i=e,s=t;for(;i!==null&&s!==null&&s[x]&2048&&!ao(s);){let a=vy(i,s,n,r|2,Pt);if(a!==Pt)return a;let c=i.parent;if(!c){let u=s[cd];if(u){let l=u.get(n,Pt,r);if(l!==Pt)return l}c=wy(s),s=s[lr]}i=c}return o}function wy(e){let t=e[M],n=t.type;return n===2?t.declTNode:n===1?e[Ue]:null}function ki(e){return uI(Se(),e)}function pI(){return wo(Se(),L())}function wo(e,t){return new jt(pt(e,t))}var jt=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=pI}return e})();function Ey(e){return e instanceof jt?e.nativeElement:e}function gI(){return this._results[Symbol.iterator]()}var fc=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ee}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=Ug(t);(this._changesDetected=!jg(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=gI};function _y(e){return(e.flags&128)===128}var Cf=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(Cf||{}),by=new Map,mI=0;function yI(){return mI++}function vI(e){by.set(e[gi],e)}function Gd(e){by.delete(e[gi])}var Rm="__ngContext__";function mo(e,t){xt(t)?(e[Rm]=t[gi],vI(t)):e[Rm]=t}function Dy(e){return Cy(e[so])}function Iy(e){return Cy(e[tt])}function Cy(e){for(;e!==null&&!ft(e);)e=e[tt];return e}var Wd;function Tf(e){Wd=e}function Ty(){if(Wd!==void 0)return Wd;if(typeof document<"u")return document;throw new E(210,!1)}var Tc=new T("",{providedIn:"root",factory:()=>wI}),wI="ng",Sc=new T(""),Pi=new T("",{providedIn:"platform",factory:()=>"unknown"});var EI=new T(""),Rc=new T("",{providedIn:"root",factory:()=>Ty().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var _I="h",bI="b";var Sy=!1,Ry=new T("",{providedIn:"root",factory:()=>Sy});var DI=(e,t,n,r)=>{};function II(e,t,n,r){DI(e,t,n,r)}function Ac(e){return(e.flags&32)===32}var CI=()=>null;function Ay(e,t,n=!1){return CI(e,t,n)}function My(e,t){let n=e.contentQueries;if(n!==null){let r=P(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=e.data[s];bi(i),a.contentQueries(2,t[s],s)}}}finally{P(r)}}}function Kd(e,t,n){bi(0);let r=P(null);try{t(e,n)}finally{P(r)}}function Ny(e,t,n){if(ud(t)){let r=P(null);try{let o=t.directiveStart,i=t.directiveEnd;for(let s=o;s<i;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{P(r)}}}var an=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e})(an||{});var Qa;function TI(){if(Qa===void 0&&(Qa=null,et.trustedTypes))try{Qa=et.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Qa}function Mc(e){return TI()?.createHTML(e)||e}var Xa;function SI(){if(Xa===void 0&&(Xa=null,et.trustedTypes))try{Xa=et.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Xa}function Am(e){return SI()?.createScriptURL(e)||e}var cn=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ma})`}},Zd=class extends cn{getTypeName(){return"HTML"}},Yd=class extends cn{getTypeName(){return"Style"}},Jd=class extends cn{getTypeName(){return"Script"}},Qd=class extends cn{getTypeName(){return"URL"}},Xd=class extends cn{getTypeName(){return"ResourceURL"}};function vt(e){return e instanceof cn?e.changingThisBreaksApplicationSecurity:e}function un(e,t){let n=xy(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Ma})`)}return n===t}function xy(e){return e instanceof cn&&e.getTypeName()||null}function Sf(e){return new Zd(e)}function Rf(e){return new Yd(e)}function Af(e){return new Jd(e)}function Mf(e){return new Qd(e)}function Nf(e){return new Xd(e)}function RI(e){let t=new tf(e);return AI()?new ef(t):t}var ef=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let n=new window.DOMParser().parseFromString(Mc(t),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}},tf=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let n=this.inertDocument.createElement("template");return n.innerHTML=Mc(t),n}};function AI(){try{return!!new window.DOMParser().parseFromString(Mc(""),"text/html")}catch{return!1}}var MI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Li(e){return e=String(e),e.match(MI)?e:"unsafe:"+e}function ln(e){let t={};for(let n of e.split(","))t[n]=!0;return t}function Fi(...e){let t={};for(let n of e)for(let r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}var Oy=ln("area,br,col,hr,img,wbr"),ky=ln("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Py=ln("rp,rt"),NI=Fi(Py,ky),xI=Fi(ky,ln("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),OI=Fi(Py,ln("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Mm=Fi(Oy,xI,OI,NI),Ly=ln("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),kI=ln("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),PI=ln("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),LI=Fi(Ly,kI,PI),FI=ln("script,style,template"),nf=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let n=t.firstChild,r=!0,o=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){o.push(n),n=$I(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=UI(n);if(i){n=i;break}n=o.pop()}}return this.buf.join("")}startElement(t){let n=Nm(t).toLowerCase();if(!Mm.hasOwnProperty(n))return this.sanitizedSomething=!0,!FI.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=t.attributes;for(let o=0;o<r.length;o++){let i=r.item(o),s=i.name,a=s.toLowerCase();if(!LI.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=i.value;Ly[a]&&(c=Li(c)),this.buf.push(" ",s,'="',xm(c),'"')}return this.buf.push(">"),!0}endElement(t){let n=Nm(t).toLowerCase();Mm.hasOwnProperty(n)&&!Oy.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(xm(t))}};function jI(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function UI(e){let t=e.nextSibling;if(t&&e!==t.previousSibling)throw Fy(t);return t}function $I(e){let t=e.firstChild;if(t&&jI(e,t))throw Fy(t);return t}function Nm(e){let t=e.nodeName;return typeof t=="string"?t:"FORM"}function Fy(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var BI=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,VI=/([^\#-~ |!])/g;function xm(e){return e.replace(/&/g,"&amp;").replace(BI,function(t){let n=t.charCodeAt(0),r=t.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(VI,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var ec;function xf(e,t){let n=null;try{ec=ec||RI(e);let r=t?String(t):"";n=ec.getInertBodyElement(r);let o=5,i=r;do{if(o===0)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=n.innerHTML,n=ec.getInertBodyElement(r)}while(r!==i);let a=new nf().sanitizeChildren(Om(n)||n);return Mc(a)}finally{if(n){let r=Om(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function Om(e){return"content"in e&&HI(e)?e.content:null}function HI(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}function zI(e,t){return e.createText(t)}function qI(e,t,n){e.setValue(t,n)}function jy(e,t,n){return e.createElement(t,n)}function hc(e,t,n,r,o){e.insertBefore(t,n,r,o)}function Uy(e,t,n){e.appendChild(t,n)}function km(e,t,n,r,o){r!==null?hc(e,t,n,r,o):Uy(e,t,n)}function GI(e,t,n,r){e.removeChild(null,t,n,r)}function WI(e,t,n){e.setAttribute(t,"style",n)}function KI(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function $y(e,t,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&rI(e,t,r),o!==null&&KI(e,t,o),i!==null&&WI(e,t,i)}var wt=(function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e})(wt||{});function By(e){let t=Hy();return t?t.sanitize(wt.URL,e)||"":un(e,"URL")?vt(e):Li(ur(e))}function Vy(e){let t=Hy();if(t)return Am(t.sanitize(wt.RESOURCE_URL,e)||"");if(un(e,"ResourceURL"))return Am(vt(e));throw new E(904,!1)}function ZI(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?Vy:By}function Of(e,t,n){return ZI(t,n)(e)}function Hy(){let e=L();return e&&e[Mt].sanitizer}function zy(e){return e instanceof Function?e():e}function YI(e,t,n){let r=e.length;for(;;){let o=e.indexOf(t,n);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}var qy="ng-template";function JI(e,t,n,r){let o=0;if(r){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&YI(t[o+1].toLowerCase(),n,0)!==-1)return!0}else if(kf(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&typeof(i=t[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function kf(e){return e.type===4&&e.value!==qy}function QI(e,t,n){let r=e.type===4&&!n?qy:e.value;return t===r}function XI(e,t,n){let r=4,o=e.attrs,i=o!==null?nC(o):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!mt(r)&&!mt(c))return!1;if(s&&mt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!QI(e,c,n)||c===""&&t.length===1){if(mt(r))return!1;s=!0}}else if(r&8){if(o===null||!JI(e,o,c,n)){if(mt(r))return!1;s=!0}}else{let u=t[++a],l=eC(c,o,kf(e),n);if(l===-1){if(mt(r))return!1;s=!0;continue}if(u!==""){let d;if(l>i?d="":d=o[l+1].toLowerCase(),r&2&&u!==d){if(mt(r))return!1;s=!0}}}}return mt(r)||s}function mt(e){return(e&1)===0}function eC(e,t,n,r){if(t===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){let s=t[o];if(s===e)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=t[++o];for(;typeof a=="string";)a=t[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return rC(t,e)}function Gy(e,t,n=!1){for(let r=0;r<t.length;r++)if(XI(e,t[r],n))return!0;return!1}function tC(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if((n&1)===0)return t[n+1]}return null}function nC(e){for(let t=0;t<e.length;t++){let n=e[t];if(ly(n))return t}return e.length}function rC(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function oC(e,t){e:for(let n=0;n<t.length;n++){let r=t[n];if(e.length===r.length){for(let o=0;o<e.length;o++)if(e[o]!==r[o])continue e;return!0}}return!1}function Pm(e,t){return e?":not("+t.trim()+")":t}function iC(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!mt(s)&&(t+=Pm(i,o),o=""),r=s,i=i||!mt(r);n++}return o!==""&&(t+=Pm(i,o)),t}function sC(e){return e.map(iC).join(",")}function aC(e){let t=[],n=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&t.push(i,e[++r]):o===8&&n.push(i);else{if(!mt(o))break;o=i}r++}return n.length&&t.push(1,...n),t}var Be={};function Pf(e,t,n,r,o,i,s,a,c,u,l){let d=re+r,h=d+o,f=cC(d,h),p=typeof u=="function"?u():u;return f[M]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:l}}function cC(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Be);return n}function uC(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Pf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Lf(e,t,n,r,o,i,s,a,c,u,l){let d=t.blueprint.slice();return d[dt]=o,d[x]=r|4|128|8|64|1024,(u!==null||e&&e[x]&2048)&&(d[x]|=2048),hd(d),d[Ee]=d[lr]=e,d[Te]=n,d[Mt]=s||e&&e[Mt],d[ne]=a||e&&e[ne],d[Tn]=c||e&&e[Tn]||null,d[Ue]=i,d[gi]=yI(),d[oo]=l,d[cd]=u,d[ze]=t.type==2?e[ze]:d,d}function lC(e,t,n){let r=pt(t,e),o=uC(n),i=e[Mt].rendererFactory,s=Ff(e,Lf(e,o,null,Wy(n),r,t,null,i.createRenderer(r,n),null,null,null));return e[t.index]=s}function Wy(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function Ky(e,t,n,r){if(n===0)return-1;let o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function Ff(e,t){return e[so]?e[ad][tt]=t:e[so]=t,e[ad]=t,t}function dC(e=1){Zy(fe(),L(),sn()+e,!1)}function Zy(e,t,n,r){if(!r)if((t[x]&3)===3){let i=e.preOrderCheckHooks;i!==null&&rc(t,i,n)}else{let i=e.preOrderHooks;i!==null&&oc(t,i,0,n)}Nn(n)}var Nc=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(Nc||{});function rf(e,t,n,r){let o=P(null);try{let[i,s,a]=e.inputs[n],c=null;(s&Nc.SignalBased)!==0&&(c=t[i][pe]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,i):oy(t,c,i,r)}finally{P(o)}}var Lt=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(Lt||{}),fC;function jf(e,t){return fC(e,t)}var yo=new Set,xc=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(xc||{}),Pn=new T(""),Lm=new Set;function Ln(e){Lm.has(e)||(Lm.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Yy=!1,of=class extends ee{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Kg()&&(this.destroyRef=v(ot,{optional:!0})??void 0,this.pendingTasks=v(kt,{optional:!0})??void 0)}emit(t){let n=P(null);try{super.next(t)}finally{P(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return t instanceof ie&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},ke=of;function Jy(e){let t,n;function r(){e=mr;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Fm(e){return queueMicrotask(()=>e()),()=>{e=mr}}var Uf="isAngularZone",pc=Uf+"_ID",hC=0,se=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ke(!1);onMicrotaskEmpty=new ke(!1);onStable=new ke(!1);onError=new ke(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=Yy}=t;if(typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,mC(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Uf)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new E(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,pC,mr,mr);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},pC={};function $f(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function gC(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Jy(()=>{e.callbackScheduled=!1,sf(e),e.isCheckStableRunning=!0,$f(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),sf(e)}function mC(e){let t=()=>{gC(e)},n=hC++;e._inner=e._inner.fork({name:"angular",properties:{[Uf]:!0,[pc]:n,[pc+n]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(yC(c))return r.invokeTask(i,s,a,c);try{return jm(e),r.invokeTask(i,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Um(e)}},onInvoke:(r,o,i,s,a,c,u)=>{try{return jm(e),r.invoke(i,s,a,c,u)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!vC(c)&&t(),Um(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,sf(e),$f(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function sf(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function jm(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Um(e){e._nesting--,$f(e)}var Ri=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ke;onMicrotaskEmpty=new ke;onStable=new ke;onError=new ke;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}};function yC(e){return Qy(e,"__ignore_ng_zone__")}function vC(e){return Qy(e,"__scheduler_tick__")}function Qy(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Oc=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=I({token:e,providedIn:"root",factory:()=>new e})}return e})(),Bf=[0,1,2,3],Vf=(()=>{class e{ngZone=v(se);scheduler=v(Ke);errorHandler=v(Xe,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){v(Pn,{optional:!0})}execute(){let n=this.sequences.size>0;n&&G(16),this.executing=!0;for(let r of Bf)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&G(17)}register(n){let{view:r}=n;r!==void 0?((r[fr]??=[]).push(n),Mn(r),r[x]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(xc.AFTER_NEXT_RENDER,n):n()}static \u0275prov=I({token:e,providedIn:"root",factory:()=>new e})}return e})(),Ai=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,o,i,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[fr];t&&(this.view[fr]=t.filter(n=>n!==this))}};function Xy(e,t){let n=t?.injector??v(je);return Ln("NgAfterNextRender"),EC(e,n,t,!0)}function wC(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function EC(e,t,n,r){let o=t.get(Oc);o.impl??=t.get(Vf);let i=t.get(Pn,null,{optional:!0}),s=n?.manualCleanup!==!0?t.get(ot):null,a=t.get(gr,null,{optional:!0}),c=new Ai(o.impl,wC(e),a?.view,r,s,i?.snapshot(null));return o.impl.register(c),c}var _C=new T("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function ev(e,t,n){let r=e.get(_C);if(Array.isArray(t))for(let o of t)r.queue.add(o),n?.detachedLeaveAnimationFns?.push(o);else r.queue.add(t),n?.detachedLeaveAnimationFns?.push(t);r.scheduler&&r.scheduler(e)}function bC(e,t){for(let[n,r]of t)ev(e,r.animateFns)}function $m(e,t,n,r){let o=e?.[mi]?.enter;t!==null&&o&&o.has(n.index)&&bC(r,o)}function ho(e,t,n,r,o,i,s,a){if(o!=null){let c,u=!1;ft(o)?c=o:xt(o)&&(u=!0,o=o[dt]);let l=nt(o);e===0&&r!==null?($m(a,r,i,n),s==null?Uy(t,r,l):hc(t,r,l,s||null,!0)):e===1&&r!==null?($m(a,r,i,n),hc(t,r,l,s||null,!0)):e===2?Bm(a,i,n,d=>{GI(t,l,u,d)}):e===3&&Bm(a,i,n,()=>{t.destroyNode(l)}),c!=null&&OC(t,e,n,c,i,r,s)}}function DC(e,t){tv(e,t),t[dt]=null,t[Ue]=null}function IC(e,t,n,r,o,i){r[dt]=o,r[Ue]=t,kc(e,r,n,1,o,i)}function tv(e,t){t[Mt].changeDetectionScheduler?.notify(9),kc(e,t,t[ne],2,null,null)}function CC(e){let t=e[so];if(!t)return kd(e[M],e);for(;t;){let n=null;if(xt(t))n=t[so];else{let r=t[Oe];r&&(n=r)}if(!n){for(;t&&!t[tt]&&t!==e;)xt(t)&&kd(t[M],t),t=t[Ee];t===null&&(t=e),xt(t)&&kd(t[M],t),n=t&&t[tt]}t=n}}function Hf(e,t){let n=e[hr],r=n.indexOf(t);n.splice(r,1)}function zf(e,t){if(pr(t))return;let n=t[ne];n.destroyNode&&kc(e,t,n,3,null,null),CC(t)}function kd(e,t){if(pr(t))return;let n=P(null);try{t[x]&=-129,t[x]|=256,t[Ze]&&Dn(t[Ze]),RC(e,t),SC(e,t),t[M].type===1&&t[ne].destroy();let r=t[Sn];if(r!==null&&ft(t[Ee])){r!==t[Ee]&&Hf(r,t);let o=t[Nt];o!==null&&o.detachView(e)}Gd(t)}finally{P(n)}}function Bm(e,t,n,r){let o=e?.[mi];if(o==null||o.leave==null||!o.leave.has(t.index))return r(!1);e&&yo.add(e),ev(n,()=>{if(o.leave&&o.leave.has(t.index)){let s=o.leave.get(t.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let u=s.animateFns[c],{promise:l}=u();a.push(l)}o.detachedLeaveAnimationFns=void 0}o.running=Promise.allSettled(a),TC(e,r)}else e&&yo.delete(e),r(!1)},o)}function TC(e,t){let n=e[mi]?.running;if(n){n.then(()=>{e[mi].running=void 0,yo.delete(e),t(!0)});return}t(!1)}function SC(e,t){let n=e.cleanup,r=t[io];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[io]=null);let o=t[en];if(o!==null){t[en]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=t[on];if(i!==null){t[on]=null;for(let s of i)s.destroy()}}function RC(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=t[n[r]];if(!(o instanceof vr)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];G(4,a,c);try{c.call(a)}finally{G(5,a,c)}}else{G(4,o,i);try{i.call(o)}finally{G(5,o,i)}}}}}function nv(e,t,n){return AC(e,t.parent,n)}function AC(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[dt];if(An(r)){let{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===an.None||o===an.Emulated)return null}return pt(r,n)}function rv(e,t,n){return NC(e,t,n)}function MC(e,t,n){return e.type&40?pt(e,n):null}var NC=MC,Vm;function qf(e,t,n,r){let o=nv(e,r,t),i=t[ne],s=r.parent||t[Ue],a=rv(s,r,t);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)km(i,o,n[c],a,!1);else km(i,o,n,a,!1);Vm!==void 0&&Vm(i,r,t,n,o)}function Ci(e,t){if(t!==null){let n=t.type;if(n&3)return pt(t,e);if(n&4)return af(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Ci(e,r);{let o=e[t.index];return ft(o)?af(-1,o):nt(o)}}else{if(n&128)return Ci(e,t.next);if(n&32)return jf(t,e)()||nt(e[t.index]);{let r=ov(e,t);if(r!==null){if(Array.isArray(r))return r[0];let o=Cn(e[ze]);return Ci(o,r)}else return Ci(e,t.next)}}}return null}function ov(e,t){if(t!==null){let r=e[ze][Ue],o=t.projection;return r.projection[o]}return null}function af(e,t){let n=Oe+e+1;if(n<t.length){let r=t[n],o=r[M].firstChild;if(o!==null)return Ci(r,o)}return t[Rn]}function Gf(e,t,n,r,o,i,s){for(;n!=null;){let a=r[Tn];if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(s&&t===0&&(c&&mo(nt(c),r),n.flags|=2),!Ac(n))if(u&8)Gf(e,t,n.child,r,o,i,!1),ho(t,e,a,o,c,n,i,r);else if(u&32){let l=jf(n,r),d;for(;d=l();)ho(t,e,a,o,d,n,i,r);ho(t,e,a,o,c,n,i,r)}else u&16?iv(e,t,r,n,o,i):ho(t,e,a,o,c,n,i,r);n=s?n.projectionNext:n.next}}function kc(e,t,n,r,o,i){Gf(n,r,e.firstChild,t,o,i,!1)}function xC(e,t,n){let r=t[ne],o=nv(e,n,t),i=n.parent||t[Ue],s=rv(i,n,t);iv(r,0,t,n,o,s)}function iv(e,t,n,r,o,i){let s=n[ze],c=s[Ue].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];ho(t,e,n[Tn],o,l,r,i,n)}else{let u=c,l=s[Ee];_y(r)&&(u.flags|=128),Gf(e,t,u,l,o,i,!0)}}function OC(e,t,n,r,o,i,s){let a=r[Rn],c=nt(r);a!==c&&ho(t,e,n,i,a,o,s);for(let u=Oe;u<r.length;u++){let l=r[u];kc(l[M],l,e,t,i,a)}}function kC(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:Lt.DashCase;o==null?e.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Lt.Important),e.setStyle(n,r,o,i))}}function sv(e,t,n,r,o){let i=sn(),s=r&2;try{Nn(-1),s&&t.length>re&&Zy(e,t,re,!1),G(s?2:0,o,n),n(r,o)}finally{Nn(i),G(s?3:1,o,n)}}function Wf(e,t,n){BC(e,t,n),(n.flags&64)===64&&VC(e,t,n)}function Pc(e,t,n=pt){let r=t.localNames;if(r!==null){let o=t.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(t,e):e[s];e[o++]=a}}}function PC(e,t,n,r){let i=r.get(Ry,Sy)||n===an.ShadowDom,s=e.selectRootElement(t,i);return LC(s),s}function LC(e){FC(e)}var FC=()=>null;function jC(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function UC(e,t,n,r,o,i){let s=t[M];if(Kf(e,s,t,n,r)){An(e)&&$C(t,e.index);return}e.type&3&&(n=jC(n)),av(e,t,n,r,o,i)}function av(e,t,n,r,o,i){if(e.type&3){let s=pt(e,t);r=i!=null?i(r,e.value||"",n):r,o.setProperty(s,n,r)}else e.type&12}function $C(e,t){let n=rt(t,e);n[x]&16||(n[x]|=64)}function BC(e,t,n){let r=n.directiveStart,o=n.directiveEnd;An(n)&&lC(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||dc(n,t);let i=n.initialInputs;for(let s=r;s<o;s++){let a=e.data[s],c=Si(t,e,s,n);if(mo(c,t),i!==null&&GC(t,s-r,c,a,n,i),ht(a)){let u=rt(n.index,t);u[Te]=Si(t,e,s,n)}}}function VC(e,t,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=fm();try{Nn(i);for(let a=r;a<o;a++){let c=e.data[a],u=t[a];za(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&HC(c,u)}}finally{Nn(-1),za(s)}}function HC(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function cv(e,t){let n=e.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];Gy(t,i.selectors,!1)&&(r??=[],ht(i)?r.unshift(i):r.push(i))}return r}function zC(e,t,n,r,o,i){let s=pt(e,t);qC(t[ne],s,i,e.value,n,r,o)}function qC(e,t,n,r,o,i,s){if(i==null)e.removeAttribute(t,o,n);else{let a=s==null?ur(i):s(i,r||"",o);e.setAttribute(t,o,a,n)}}function GC(e,t,n,r,o,i){let s=i[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];rf(r,n,c,u)}}function uv(e,t,n,r,o){let i=re+n,s=t[M],a=o(s,t,e,r,n);t[i]=a,co(e,!0);let c=e.type===2;return c?($y(t[ne],a,e),(nm()===0||vi(e))&&mo(a,t),rm()):mo(a,t),Za()&&(!c||!Ac(e))&&qf(s,t,a,e),e}function lv(e){let t=e;return Id()?Cd():(t=t.parent,co(t,!1)),t}function WC(e,t){let n=e[Tn];if(!n)return;let r;try{r=n.get($e,null)}catch{r=null}r?.(t)}function Kf(e,t,n,r,o){let i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1],d=t.data[u];rf(d,n[u],l,o),a=!0}if(i)for(let c of i){let u=n[c],l=t.data[c];rf(l,u,r,o),a=!0}return a}function KC(e,t){let n=rt(t,e),r=n[M];ZC(r,n);let o=n[dt];o!==null&&n[oo]===null&&(n[oo]=Ay(o,n[Tn])),G(18),Zf(r,n,n[Te]),G(19,n[Te])}function ZC(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Zf(e,t,n){Ga(t);try{let r=e.viewQuery;r!==null&&Kd(1,r,n);let o=e.template;o!==null&&sv(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Nt]?.finishViewCreation(e),e.staticContentQueries&&My(e,t),e.staticViewQueries&&Kd(2,e.viewQuery,n);let i=e.components;i!==null&&YC(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[x]&=-5,Wa()}}function YC(e,t){for(let n=0;n<t.length;n++)KC(e,t[n])}function Yf(e,t,n,r){let o=P(null);try{let i=t.tView,a=e[x]&4096?4096:16,c=Lf(e,i,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=e[t.index];c[Sn]=u;let l=e[Nt];return l!==null&&(c[Nt]=l.createEmbeddedView(i)),Zf(i,c,n),c}finally{P(o)}}function gc(e,t){return!t||t.firstChild===null||_y(e)}function Mi(e,t,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=t[n.index];i!==null&&r.push(nt(i)),ft(i)&&dv(i,r);let s=n.type;if(s&8)Mi(e,t,n.child,r);else if(s&32){let a=jf(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=ov(t,n);if(Array.isArray(a))r.push(...a);else{let c=Cn(t[ze]);Mi(c[M],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function dv(e,t){for(let n=Oe;n<e.length;n++){let r=e[n],o=r[M].firstChild;o!==null&&Mi(r[M],r,o,t)}e[Rn]!==e[dt]&&t.push(e[Rn])}function fv(e){if(e[fr]!==null){for(let t of e[fr])t.impl.addSequence(t);e[fr].length=0}}var hv=[];function JC(e){return e[Ze]??QC(e)}function QC(e){let t=hv.pop()??Object.create(eT);return t.lView=e,t}function XC(e){e.lView[Ze]!==e&&(e.lView=null,hv.push(e))}var eT=H(_({},Xn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Mn(e.lView)},consumerOnSignalRead(){this.lView[Ze]=this}});function tT(e){let t=e[Ze]??Object.create(nT);return t.lView=e,t}var nT=H(_({},Xn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Cn(e.lView);for(;t&&!pv(t[M]);)t=Cn(t);t&&pd(t)},consumerOnSignalRead(){this.lView[Ze]=this}});function pv(e){return e.type!==2}function gv(e){if(e[on]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[on])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[x]&8192)}}var rT=100;function mv(e,t=0){let r=e[Mt].rendererFactory,o=!1;o||r.begin?.();try{oT(e,t)}finally{o||r.end?.()}}function oT(e,t){let n=Td();try{uo(!0),cf(e,t);let r=0;for(;Ei(e);){if(r===rT)throw new E(103,!1);r++,cf(e,1)}}finally{uo(n)}}function iT(e,t,n,r){if(pr(t))return;let o=t[x],i=!1,s=!1;Ga(t);let a=!0,c=null,u=null;i||(pv(e)?(u=JC(t),c=bn(u)):Da()===null?(a=!1,u=tT(t),c=bn(u)):t[Ze]&&(Dn(t[Ze]),t[Ze]=null));try{hd(t),um(e.bindingStartIndex),n!==null&&sv(e,t,n,2,r);let l=(o&3)===3;if(!i)if(l){let f=e.preOrderCheckHooks;f!==null&&rc(t,f,null)}else{let f=e.preOrderHooks;f!==null&&oc(t,f,0,null),xd(t,0)}if(s||sT(t),gv(t),yv(t,0),e.contentQueries!==null&&My(e,t),!i)if(l){let f=e.contentCheckHooks;f!==null&&rc(t,f)}else{let f=e.contentHooks;f!==null&&oc(t,f,1),xd(t,1)}cT(e,t);let d=e.components;d!==null&&wv(t,d,0);let h=e.viewQuery;if(h!==null&&Kd(2,h,r),!i)if(l){let f=e.viewCheckHooks;f!==null&&rc(t,f)}else{let f=e.viewHooks;f!==null&&oc(t,f,2),xd(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Ua]){for(let f of t[Ua])f();t[Ua]=null}i||(fv(t),t[x]&=-73)}catch(l){throw i||Mn(t),l}finally{u!==null&&(tr(u,c),a&&XC(u)),Wa()}}function yv(e,t){for(let n=Dy(e);n!==null;n=Iy(n))for(let r=Oe;r<n.length;r++){let o=n[r];vv(o,t)}}function sT(e){for(let t=Dy(e);t!==null;t=Iy(t)){if(!(t[x]&2))continue;let n=t[hr];for(let r=0;r<n.length;r++){let o=n[r];pd(o)}}}function aT(e,t,n){G(18);let r=rt(t,e);vv(r,n),G(19,r[Te])}function vv(e,t){Ba(e)&&cf(e,t)}function cf(e,t){let r=e[M],o=e[x],i=e[Ze],s=!!(t===0&&o&16);if(s||=!!(o&64&&t===0),s||=!!(o&1024),s||=!!(i?.dirty&&nr(i)),s||=!1,i&&(i.dirty=!1),e[x]&=-9217,s)iT(r,e,r.template,e[Te]);else if(o&8192){let a=P(null);try{gv(e),yv(e,1);let c=r.components;c!==null&&wv(e,c,1),fv(e)}finally{P(a)}}}function wv(e,t,n){for(let r=0;r<t.length;r++)aT(e,t[r],n)}function cT(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)Nn(~o);else{let i=o,s=n[++r],a=n[++r];dm(s,i);let c=t[i];G(24,c),a(2,c),G(25,c)}}}finally{Nn(-1)}}function Jf(e,t){let n=Td()?64:1088;for(e[Mt].changeDetectionScheduler?.notify(t);e;){e[x]|=n;let r=Cn(e);if(ao(e)&&!r)return e;e=r}return null}function Ev(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function uT(e,t){let n=Oe+t;if(n<e.length)return e[n]}function Qf(e,t,n,r=!0){let o=t[M];if(dT(o,t,e,n),r){let s=af(n,e),a=t[ne],c=a.parentNode(e[Rn]);c!==null&&IC(o,e[Ue],a,t,c,s)}let i=t[oo];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function lT(e,t){let n=mc(e,t);return n!==void 0&&zf(n[M],n),n}function mc(e,t){if(e.length<=Oe)return;let n=Oe+t,r=e[n];if(r){let o=r[Sn];o!==null&&o!==e&&Hf(o,r),t>0&&(e[n-1][tt]=r[tt]);let i=hi(e,Oe+t);DC(r[M],r);let s=i[Nt];s!==null&&s.detachView(i[M]),r[Ee]=null,r[tt]=null,r[x]&=-129}return r}function dT(e,t,n,r){let o=Oe+r,i=n.length;r>0&&(n[o-1][tt]=t),r<i-Oe?(t[tt]=n[o],ed(n,Oe+r,t)):(n.push(t),t[tt]=null),t[Ee]=n;let s=t[Sn];s!==null&&n!==s&&_v(s,t);let a=t[Nt];a!==null&&a.insertView(e),Va(t),t[x]|=128}function _v(e,t){let n=e[hr],r=t[Ee];if(xt(r))e[x]|=2;else{let o=r[Ee][ze];t[ze]!==o&&(e[x]|=2)}n===null?e[hr]=[t]:n.push(t)}var xn=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[M];return Mi(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[Te]}set context(t){this._lView[Te]=t}get destroyed(){return pr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Ee];if(ft(t)){let n=t[yi],r=n?n.indexOf(this):-1;r>-1&&(mc(t,r),hi(n,r))}this._attachedToViewContainer=!1}zf(this._lView[M],this._lView)}onDestroy(t){gd(this._lView,t)}markForCheck(){Jf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[x]&=-129}reattach(){Va(this._lView),this._lView[x]|=128}detectChanges(){this._lView[x]|=1024,mv(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=ao(this._lView),n=this._lView[Sn];n!==null&&!t&&Hf(n,this._lView),tv(this._lView[M],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=t;let n=ao(this._lView),r=this._lView[Sn];r!==null&&!n&&_v(r,this._lView),Va(this._lView)}};var On=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=fT;constructor(n,r,o){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){let i=Yf(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new xn(i)}}return e})();function fT(){return Lc(Se(),L())}function Lc(e,t){return e.type&4?new On(t,e,wo(e,t)):null}function Eo(e,t,n,r,o){let i=e.data[t];if(i===null)i=hT(e,t,n,r,o),lm()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=sm();i.injectorIndex=s===null?-1:s.injectorIndex}return co(i,!0),i}function hT(e,t,n,r,o){let i=Dd(),s=Id(),a=s?i:i&&i.parent,c=e.data[t]=gT(e,a,n,t,r,o);return pT(e,c,i,s),c}function pT(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function gT(e,t,n,r,o,i){let s=t?t.injectorIndex:-1,a=0;return Ed()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var S$=new RegExp(`^(\\d+)*(${bI}|${_I})*(.*)`);var mT=()=>null,yT=()=>null;function uf(e,t){return mT(e,t)}function vT(e,t,n){return yT(e,t,n)}var bv=class{},Fc=class{},lf=class{resolveComponentFactory(t){throw new E(917,!1)}},ji=class{static NULL=new lf},wr=class{},_o=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>wT()}return e})();function wT(){let e=L(),t=Se(),n=rt(t.index,e);return(xt(n)?n:e)[ne]}var Dv=(()=>{class e{static \u0275prov=I({token:e,providedIn:"root",factory:()=>null})}return e})();var sc={},df=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let o=this.injector.get(t,sc,r);return o!==sc||n===sc?o:this.parentInjector.get(t,n,r)}};function yc(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")i=a;else if(i==1)o=Na(o,a);else if(i==2){let c=a,u=t[++s];r=Na(r,c+": "+u+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function W(e,t=0){let n=L();if(n===null)return A(e,t);let r=Se();return yy(r,n,ge(e),t)}function Iv(e,t,n,r,o){let i=r===null?null:{"":-1},s=o(e,n);if(s!==null){let a=s,c=null,u=null;for(let l of s)if(l.resolveHostDirectives!==null){[a,c,u]=l.resolveHostDirectives(s);break}bT(e,t,n,a,i,c,u)}i!==null&&r!==null&&ET(n,r,i)}function ET(e,t,n){let r=e.localNames=[];for(let o=0;o<t.length;o+=2){let i=n[t[o+1]];if(i==null)throw new E(-301,!1);r.push(t[o],i)}}function _T(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function bT(e,t,n,r,o,i,s){let a=r.length,c=!1;for(let h=0;h<a;h++){let f=r[h];!c&&ht(f)&&(c=!0,_T(e,n,h)),zd(dc(n,t),e,f.type)}RT(n,e.data.length,a);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let u=!1,l=!1,d=Ky(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(n.mergedAttrs=go(n.mergedAttrs,f.hostAttrs),IT(e,n,t,d,f),ST(d,f,o),s!==null&&s.has(f)){let[g,y]=s.get(f);n.directiveToIndex.set(f.type,[d,g+n.directiveStart,y+n.directiveStart])}else(i===null||!i.has(f))&&n.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!u&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),u=!0),!l&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),l=!0),d++}DT(e,n,i)}function DT(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let o=e.data[r];if(n===null||!n.has(o))Hm(0,t,o,r),Hm(1,t,o,r),qm(t,r,!1);else{let i=n.get(o);zm(0,t,i,r),zm(1,t,i,r),qm(t,r,!0)}}}function Hm(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[i]??=[],s[i].push(r),Cv(t,i)}}function zm(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),Cv(t,s)}}function Cv(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function qm(e,t,n){let{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(r===null||!n&&o===null||n&&i===null||kf(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&o.hasOwnProperty(c)){let u=o[c];for(let l of u)if(l===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&i.hasOwnProperty(c)){let u=i[c];for(let l=0;l<u.length;l+=2)if(u[l]===t){s??=[],s.push(u[l+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function IT(e,t,n,r,o){e.data[r]=o;let i=o.factory||(o.factory=In(o.type,!0)),s=new vr(i,ht(o),W,null);e.blueprint[r]=s,n[r]=s,CT(e,t,r,Ky(e,n,o.hostVars,Be),o)}function CT(e,t,n,r,o){let i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;TT(s)!=a&&s.push(a),s.push(n,r,i)}}function TT(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function ST(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;ht(t)&&(n[""]=e)}}function RT(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Tv(e,t,n,r,o,i,s,a){let c=t[M],u=c.consts,l=Ot(u,s),d=Eo(c,e,n,r,l);return i&&Iv(c,t,d,Ot(u,a),o),d.mergedAttrs=go(d.mergedAttrs,d.attrs),d.attrs!==null&&yc(d,d.attrs,!1),d.mergedAttrs!==null&&yc(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function Sv(e,t){cy(e,t),ud(t)&&e.queries.elementEnd(t)}function AT(e,t,n,r,o,i){let s=t.consts,a=Ot(s,o),c=Eo(t,e,n,r,a);if(c.mergedAttrs=go(c.mergedAttrs,c.attrs),i!=null){let u=Ot(s,i);c.localNames=[];for(let l=0;l<u.length;l+=2)c.localNames.push(u[l],-1)}return c.attrs!==null&&yc(c,c.attrs,!1),c.mergedAttrs!==null&&yc(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function Xf(e){return Av(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function Rv(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function Av(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function eh(e,t,n){return e[t]=n}function MT(e,t){return e[t]}function Ft(e,t,n){if(n===Be)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function Mv(e,t,n,r){let o=Ft(e,t,n);return Ft(e,t+1,r)||o}function Pd(e,t,n){return function r(o){let i=An(e)?rt(e.index,t):t;Jf(i,5);let s=t[Te],a=Gm(t,s,n,o),c=r.__ngNextListenerFn__;for(;c;)a=Gm(t,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function Gm(e,t,n,r){let o=P(null);try{return G(6,t,n),n(r)!==!1}catch(i){return WC(e,i),!1}finally{G(7,t,n),P(o)}}function NT(e,t,n,r,o,i,s,a){let c=vi(e),u=!1,l=null;if(!r&&c&&(l=OT(t,n,i,e.index)),l!==null){let d=l.__ngLastListenerFn__||l;d.__ngNextListenerFn__=s,l.__ngLastListenerFn__=s,u=!0}else{let d=pt(e,n),h=r?r(d):d;II(n,h,i,a);let f=o.listen(h,i,a);if(!xT(i)){let p=r?g=>r(nt(g[e.index])):e.index;Nv(p,t,n,i,a,f,!1)}}return u}function xT(e){return e.startsWith("animation")||e.startsWith("transition")}function OT(e,t,n,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=t[io],c=o[i+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function Nv(e,t,n,r,o,i,s){let a=t.firstCreatePass?yd(t):null,c=md(n),u=c.length;c.push(o,i),a&&a.push(r,e,u,(u+1)*(s?-1:1))}function Wm(e,t,n,r,o,i){let s=t[n],a=t[M],u=a.data[n].outputs[r],d=s[u].subscribe(i);Nv(e.index,a,t,o,i,d,!0)}var ff=Symbol("BINDING");var vc=class extends ji{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=rn(t);return new Er(n,this.ngModule)}};function kT(e){return Object.keys(e).map(t=>{let[n,r,o]=e[t],i={propName:n,templateName:t,isSignal:(r&Nc.SignalBased)!==0};return o&&(i.transform=o),i})}function PT(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function LT(e,t,n){let r=t instanceof de?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new df(n,r):n}function FT(e){let t=e.get(wr,null);if(t===null)throw new E(407,!1);let n=e.get(Dv,null),r=e.get(Ke,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function jT(e,t){let n=xv(e);return jy(t,n,n==="svg"?ld:n==="math"?Yg:null)}function xv(e){return(e.selectors[0][0]||"div").toLowerCase()}var Er=class extends Fc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=kT(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=PT(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=sC(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,o,i,s){G(22);let a=P(null);try{let c=this.componentDef,u=UT(r,c,s,i),l=LT(c,o||this.ngModule,t),d=FT(l),h=d.rendererFactory.createRenderer(null,c),f=r?PC(h,r,c.encapsulation,l):jT(c,h),p=s?.some(Km)||i?.some(m=>typeof m!="function"&&m.bindings.some(Km)),g=Lf(null,u,null,512|Wy(c),null,null,d,h,l,null,Ay(f,l,!0));g[re]=f,Ga(g);let y=null;try{let m=Tv(re,g,2,"#host",()=>u.directiveRegistry,!0,0);$y(h,f,m),mo(f,g),Wf(u,g,m),Ny(u,m,g),Sv(u,m),n!==void 0&&BT(m,this.ngContentSelectors,n),y=rt(m.index,g),g[Te]=y[Te],Zf(u,g,null)}catch(m){throw y!==null&&Gd(y),Gd(g),m}finally{G(23),Wa()}return new wc(this.componentType,g,!!p)}finally{P(a)}}};function UT(e,t,n,r){let o=e?["ng-version","20.3.15"]:aC(t.selectors[0]),i=null,s=null,a=0;if(n)for(let l of n)a+=l[ff].requiredVars,l.create&&(l.targetIdx=0,(i??=[]).push(l)),l.update&&(l.targetIdx=0,(s??=[]).push(l));if(r)for(let l=0;l<r.length;l++){let d=r[l];if(typeof d!="function")for(let h of d.bindings){a+=h[ff].requiredVars;let f=l+1;h.create&&(h.targetIdx=f,(i??=[]).push(h)),h.update&&(h.targetIdx=f,(s??=[]).push(h))}}let c=[t];if(r)for(let l of r){let d=typeof l=="function"?l:l.type,h=ja(d);c.push(h)}return Pf(0,null,$T(i,s),1,a,c,null,null,null,[o],null)}function $T(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function Km(e){let t=e[ff].kind;return t==="input"||t==="twoWay"}var wc=class extends bv{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=wi(n[M],re),this.location=wo(this._tNode,n),this.instance=rt(this._tNode.index,n)[Te],this.hostView=this.changeDetectorRef=new xn(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView,i=Kf(r,o[M],o,t,n);this.previousInputValues.set(t,n);let s=rt(r.index,o);Jf(s,1)}get injector(){return new yr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function BT(e,t,n){let r=e.projection=[];for(let o=0;o<t.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var Ut=(()=>{class e{static __NG_ELEMENT_ID__=VT}return e})();function VT(){let e=Se();return kv(e,L())}var HT=Ut,Ov=class extends HT{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return wo(this._hostTNode,this._hostLView)}get injector(){return new yr(this._hostTNode,this._hostLView)}get parentInjector(){let t=If(this._hostTNode,this._hostLView);if(dy(t)){let n=uc(t,this._hostLView),r=cc(t),o=n[M].data[r+8];return new yr(o,n)}else return new yr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Zm(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Oe}createEmbeddedView(t,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=uf(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,gc(this._hostTNode,s)),a}createComponent(t,n,r,o,i,s,a){let c=t&&!ZD(t),u;if(c)u=n;else{let y=n||{};u=y.index,r=y.injector,o=y.projectableNodes,i=y.environmentInjector||y.ngModuleRef,s=y.directives,a=y.bindings}let l=c?t:new Er(rn(t)),d=r||this.parentInjector;if(!i&&l.ngModule==null){let m=(c?d:this.parentInjector).get(de,null);m&&(i=m)}let h=rn(l.componentType??{}),f=uf(this._lContainer,h?.id??null),p=f?.firstChild??null,g=l.create(d,o,p,i,s,a);return this.insertImpl(g.hostView,u,gc(this._hostTNode,f)),g}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let o=t._lView;if(Qg(o)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=o[Ee],u=new Ov(c,c[Ue],c[Ee]);u.detach(u.indexOf(t))}}let i=this._adjustIndex(n),s=this._lContainer;return Qf(s,o,i,r),t.attachToViewContainerRef(),ed(Ld(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Zm(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=mc(this._lContainer,n);r&&(hi(Ld(this._lContainer),n),zf(r[M],r))}detach(t){let n=this._adjustIndex(t,-1),r=mc(this._lContainer,n);return r&&hi(Ld(this._lContainer),n)!=null?new xn(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Zm(e){return e[yi]}function Ld(e){return e[yi]||(e[yi]=[])}function kv(e,t){let n,r=t[e.index];return ft(r)?n=r:(n=Ev(r,t,null,e),t[e.index]=n,Ff(t,n)),qT(n,t,e,r),new Ov(n,e,t)}function zT(e,t){let n=e[ne],r=n.createComment(""),o=pt(t,e),i=n.parentNode(o);return hc(n,i,r,n.nextSibling(o),!1),r}var qT=KT,GT=()=>!1;function WT(e,t,n){return GT(e,t,n)}function KT(e,t,n,r){if(e[Rn])return;let o;n.type&8?o=nt(r):o=zT(t,n),e[Rn]=o}var hf=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},pf=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){let s=n.getByIndex(i),a=this.queries[s.indexInDeclarationView];o.push(a.clone())}return new e(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)nh(t,n).matches!==null&&this.queries[n].setDirty()}},Ec=class{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=XT(t):this.predicate=t}},gf=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let o=n!==null?n.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,n!==null?n.push(i):n=[i])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},mf=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(t,n,ZT(n,i)),this.matchTNodeWithReadOption(t,n,ic(n,t,i,!1,!1))}else r===On?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,ic(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===jt||o===Ut||o===On&&n.type&4)this.addMatch(n.index,-2);else{let i=ic(n,t,o,!1,!1);i!==null&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function ZT(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function YT(e,t){return e.type&11?wo(e,t):e.type&4?Lc(e,t):null}function JT(e,t,n,r){return n===-1?YT(t,e):n===-2?QT(e,t,r):Si(e,e[M],n,t)}function QT(e,t,n){if(n===jt)return wo(t,e);if(n===On)return Lc(t,e);if(n===Ut)return kv(t,e)}function Pv(e,t,n,r){let o=t[Nt].queries[r];if(o.matches===null){let i=e.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let l=i[u];a.push(JT(t,l,s[c+1],n.metadata.read))}}o.matches=a}return o.matches}function yf(e,t,n,r){let o=e.queries.getByIndex(n),i=o.matches;if(i!==null){let s=Pv(e,t,o,n);for(let a=0;a<i.length;a+=2){let c=i[a];if(c>0)r.push(s[a/2]);else{let u=i[a+1],l=t[-c];for(let d=Oe;d<l.length;d++){let h=l[d];h[Sn]===h[Ee]&&yf(h[M],h,u,r)}if(l[hr]!==null){let d=l[hr];for(let h=0;h<d.length;h++){let f=d[h];yf(f[M],f,u,r)}}}}}return r}function th(e,t){return e[Nt].queries[t].queryList}function Lv(e,t,n){let r=new fc((n&4)===4);return tm(e,t,r,r.destroy),(t[Nt]??=new pf).queries.push(new hf(r))-1}function Fv(e,t,n){let r=fe();return r.firstCreatePass&&(Uv(r,new Ec(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),Lv(r,L(),t)}function jv(e,t,n,r){let o=fe();if(o.firstCreatePass){let i=Se();Uv(o,new Ec(t,n,r),i.index),eS(o,e),(n&2)===2&&(o.staticContentQueries=!0)}return Lv(o,L(),n)}function XT(e){return e.split(",").map(t=>t.trim())}function Uv(e,t,n){e.queries===null&&(e.queries=new gf),e.queries.track(new mf(t,n))}function eS(e,t){let n=e.contentQueries||(e.contentQueries=[]),r=n.length?n[n.length-1]:-1;t!==r&&n.push(e.queries.length-1,t)}function nh(e,t){return e.queries.getByIndex(t)}function $v(e,t){let n=e[M],r=nh(n,t);return r.crossesNgTemplate?yf(n,e,t,[]):Pv(n,e,r,t)}function Bv(e,t,n){let r,o=si(()=>{r._dirtyCounter();let i=tS(r,e);if(t&&i===void 0)throw new E(-951,!1);return i});return r=o[pe],r._dirtyCounter=gt(0),r._flatValue=void 0,o}function rh(e){return Bv(!0,!1,e)}function oh(e){return Bv(!0,!0,e)}function Vv(e,t){let n=e[pe];n._lView=L(),n._queryIndex=t,n._queryList=th(n._lView,t),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function tS(e,t){let n=e._lView,r=e._queryIndex;if(n===void 0||r===void 0||n[x]&4)return t?void 0:xe;let o=th(n,r),i=$v(n,r);return o.reset(i,Ey),t?o.first:o._changesDetected||e._flatValue===void 0?e._flatValue=o.toArray():e._flatValue}var _r=class{},jc=class{};var _c=class extends _r{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new vc(this);constructor(t,n,r,o=!0){super(),this.ngModuleType=t,this._parent=n;let i=rd(t);this._bootstrapComponents=zy(i.bootstrap),this._r3Injector=Ad(t,n,[{provide:_r,useValue:this},{provide:ji,useValue:this.componentFactoryResolver},...r],tn(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},bc=class extends jc{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new _c(this.moduleType,t,[])}};var Ni=class extends _r{injector;componentFactoryResolver=new vc(this);instance=null;constructor(t){super();let n=new sr([...t.providers,{provide:_r,useValue:this},{provide:ji,useValue:this.componentFactoryResolver}],t.parent||ro(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Ui(e,t,n=null){return new Ni({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var nS=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=od(!1,n.type),o=r.length>0?Ui([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=I({token:e,providedIn:"environment",factory:()=>new e(A(de))})}return e})();function ih(e){return Oi(()=>{let t=Hv(e),n=H(_({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Cf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(nS).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||an.Emulated,styles:e.styles||xe,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Ln("NgStandalone"),zv(n);let r=e.dependencies;return n.directiveDefs=Ym(r,rS),n.pipeDefs=Ym(r,Vg),n.id=sS(n),n})}function rS(e){return rn(e)||ja(e)}function bo(e){return Oi(()=>({type:e.type,bootstrap:e.bootstrap||xe,declarations:e.declarations||xe,imports:e.imports||xe,exports:e.exports||xe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function oS(e,t){if(e==null)return lt;let n={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,s,a,c;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,a=Nc.None,c=null),n[i]=[r,a,c],t[i]=s}return n}function iS(e){if(e==null)return lt;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Et(e){return Oi(()=>{let t=Hv(e);return zv(t),t})}function Uc(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function Hv(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||lt,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||xe,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:oS(e.inputs,t),outputs:iS(e.outputs),debugInfo:null}}function zv(e){e.features?.forEach(t=>t(e))}function Ym(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let o of n){let i=t(o);i!==null&&r.push(i)}return r}:null}function sS(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function aS(e){return Object.getPrototypeOf(e.prototype).constructor}function qv(e){let t=aS(e.type),n=!0,r=[e];for(;t;){let o;if(ht(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new E(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);let s=e;s.inputs=Fd(e.inputs),s.declaredInputs=Fd(e.declaredInputs),s.outputs=Fd(e.outputs);let a=o.hostBindings;a&&fS(e,a);let c=o.viewQuery,u=o.contentQueries;if(c&&lS(e,c),u&&dS(e,u),cS(e,o),Og(e.outputs,o.outputs),ht(o)&&o.data.animation){let l=e.data;l.animation=(l.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(e),a===qv&&(n=!1)}}t=Object.getPrototypeOf(t)}uS(r)}function cS(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function uS(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=go(o.hostAttrs,n=go(n,o.hostAttrs))}}function Fd(e){return e===lt?{}:e===xe?[]:e}function lS(e,t){let n=e.viewQuery;n?e.viewQuery=(r,o)=>{t(r,o),n(r,o)}:e.viewQuery=t}function dS(e,t){let n=e.contentQueries;n?e.contentQueries=(r,o,i)=>{t(r,o,i),n(r,o,i)}:e.contentQueries=t}function fS(e,t){let n=e.hostBindings;n?e.hostBindings=(r,o)=>{t(r,o),n(r,o)}:e.hostBindings=t}function hS(e){let t=n=>{let r=Array.isArray(e);n.hostDirectives===null?(n.resolveHostDirectives=pS,n.hostDirectives=r?e.map(vf):[e]):r?n.hostDirectives.unshift(...e.map(vf)):n.hostDirectives.unshift(e)};return t.ngInherit=!0,t}function pS(e){let t=[],n=!1,r=null,o=null;for(let i=0;i<e.length;i++){let s=e[i];if(s.hostDirectives!==null){let a=t.length;r??=new Map,o??=new Map,Gv(s,t,r),o.set(s,[a,t.length-1])}i===0&&ht(s)&&(n=!0,t.push(s))}for(let i=n?1:0;i<e.length;i++)t.push(e[i]);return[t,r,o]}function Gv(e,t,n){if(e.hostDirectives!==null)for(let r of e.hostDirectives)if(typeof r=="function"){let o=r();for(let i of o)Jm(vf(i),t,n)}else Jm(r,t,n)}function Jm(e,t,n){let r=ja(e.directive);gS(r.declaredInputs,e.inputs),Gv(r,t,n),n.set(r,e),t.push(r)}function vf(e){return typeof e=="function"?{directive:ge(e),inputs:lt,outputs:lt}:{directive:ge(e.directive),inputs:Qm(e.inputs),outputs:Qm(e.outputs)}}function Qm(e){if(e===void 0||e.length===0)return lt;let t={};for(let n=0;n<e.length;n+=2)t[e[n]]=e[n+1];return t}function gS(e,t){for(let n in t)if(t.hasOwnProperty(n)){let r=t[n],o=e[n];e[r]=o}}function Wv(e,t,n,r,o,i,s,a){if(n.firstCreatePass){e.mergedAttrs=go(e.mergedAttrs,e.attrs);let l=e.tView=Pf(2,e,o,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),l.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),co(e,!1);let c=yS(n,t,e,r);Za()&&qf(n,t,c,e),mo(c,t);let u=Ev(c,t,c,e);t[r+re]=u,Ff(t,u),WT(u,e,t)}function mS(e,t,n,r,o,i,s,a,c,u,l){let d=n+re,h;return t.firstCreatePass?(h=Eo(t,d,4,s||null,a||null),wd()&&Iv(t,e,h,Ot(t.consts,u),cv),cy(t,h)):h=t.data[d],Wv(h,e,t,n,r,o,i,c),vi(h)&&Wf(t,e,h),u!=null&&Pc(e,h,l),h}function sh(e,t,n,r,o,i,s,a,c,u,l){let d=n+re,h;if(t.firstCreatePass){if(h=Eo(t,d,4,s||null,a||null),u!=null){let f=Ot(t.consts,u);h.localNames=[];for(let p=0;p<f.length;p+=2)h.localNames.push(f[p],-1)}}else h=t.data[d];return Wv(h,e,t,n,r,o,i,c),u!=null&&Pc(e,h,l),h}function Kv(e,t,n,r,o,i,s,a){let c=L(),u=fe(),l=Ot(u.consts,i);return mS(c,u,e,t,n,r,o,l,void 0,s,a),Kv}var yS=vS;function vS(e,t,n,r){return Ya(!0),t[ne].createComment("")}var $c=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var ah=new T("");function Do(e){return!!e&&typeof e.then=="function"}function ch(e){return!!e&&typeof e.subscribe=="function"}var Zv=new T("");var uh=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=v(Zv,{optional:!0})??[];injector=v(je);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=Ce(this.injector,o);if(Do(i))n.push(i);else if(ch(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Bc=new T("");function Yv(){xl(()=>{let e="";throw new E(600,e)})}function Jv(e){return e.isBoundToModule}var wS=10;var Fn=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=v($e);afterRenderManager=v(Oc);zonelessEnabled=v(fo);rootEffectScheduler=v(Ii);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ee;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=v(kt);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(B(n=>!n))}constructor(){v(Pn,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=v(de);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=je.NULL){return this._injector.get(se).run(()=>{G(10);let s=n instanceof Fc;if(!this._injector.get(uh).done){let p="";throw new E(405,p)}let c;s?c=n:c=this._injector.get(ji).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let u=Jv(c)?void 0:this._injector.get(_r),l=r||c.selector,d=c.create(o,[],l,u),h=d.location.nativeElement,f=d.injector.get(ah,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),Ti(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),G(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){G(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(xc.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new E(101,!1);let n=P(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,P(n),this.afterTick.next(),G(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(wr,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<wS;)G(14),this.synchronizeOnce(),G(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!Ei(o))continue;let i=r&&!this.zonelessEnabled?0:1;mv(o,i),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ei(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ti(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(n),this._injector.get(Bc,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ti(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new E(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ti(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Vc(e,t,n,r){let o=L(),i=lo();if(Ft(o,i,t)){let s=fe(),a=Ka();zC(a,o,e,t,n,r)}return Vc}var k$=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function ES(e,t,n,r,o,i,s,a){Ln("NgControlFlow");let c=L(),u=fe(),l=Ot(u.consts,i);return sh(c,u,e,t,n,r,o,l,256,s,a),lh}function lh(e,t,n,r,o,i,s,a){Ln("NgControlFlow");let c=L(),u=fe(),l=Ot(u.consts,i);return sh(c,u,e,t,n,r,o,l,512,s,a),lh}function _S(e,t){Ln("NgControlFlow");let n=L(),r=lo(),o=n[r]!==Be?n[r]:-1,i=o!==-1?Xm(n,re+o):void 0,s=0;if(Ft(n,r,e)){let a=P(null);try{if(i!==void 0&&lT(i,s),e!==-1){let c=re+e,u=Xm(n,c),l=bS(n[M],c),d=vT(u,l,n),h=Yf(n,l,t,{dehydratedView:d});Qf(u,h,s,gc(l,d))}}finally{P(a)}}else if(i!==void 0){let a=uT(i,s);a!==void 0&&(a[Te]=t)}}function Xm(e,t){return e[t]}function bS(e,t){return wi(e,t)}function Qv(e,t,n){let r=L(),o=lo();if(Ft(r,o,t)){let i=fe(),s=Ka();UC(s,r,e,t,r[ne],n)}return Qv}function wf(e,t,n,r,o){Kf(t,e,n,o?"class":"style",r)}function dh(e,t,n,r){let o=L(),i=o[M],s=e+re,a=i.firstCreatePass?Tv(s,o,2,t,cv,wd(),n,r):i.data[s];if(uv(a,o,e,t,ew),vi(a)){let c=o[M];Wf(c,o,a),Ny(c,a,o)}return r!=null&&Pc(o,a),dh}function fh(){let e=fe(),t=Se(),n=lv(t);return e.firstCreatePass&&Sv(e,n),_d(n)&&bd(),vd(),n.classesWithoutHost!=null&&tI(n)&&wf(e,n,L(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&nI(n)&&wf(e,n,L(),n.stylesWithoutHost,!1),fh}function Hc(e,t,n,r){return dh(e,t,n,r),fh(),Hc}function hh(e,t,n,r){let o=L(),i=o[M],s=e+re,a=i.firstCreatePass?AT(s,i,2,t,n,r):i.data[s];return uv(a,o,e,t,ew),r!=null&&Pc(o,a),hh}function ph(){let e=Se(),t=lv(e);return _d(t)&&bd(),vd(),ph}function Xv(e,t,n,r){return hh(e,t,n,r),ph(),Xv}var ew=(e,t,n,r,o)=>(Ya(!0),jy(t[ne],r,wm()));function DS(){return L()}function tw(e,t,n){let r=L(),o=lo();if(Ft(r,o,t)){let i=fe(),s=Ka();av(s,r,e,t,r[ne],n)}return tw}var tc=void 0;function IS(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&n===0?1:5}var CS=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],tc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],tc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",tc,"{1} 'at' {0}",tc],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",IS],jd={};function qe(e){let t=TS(e),n=ey(t);if(n)return n;let r=t.split("-")[0];if(n=ey(r),n)return n;if(r==="en")return CS;throw new E(701,!1)}function ey(e){return e in jd||(jd[e]=et.ng&&et.ng.common&&et.ng.common.locales&&et.ng.common.locales[e]),jd[e]}var ae=(function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e})(ae||{});function TS(e){return e.toLowerCase().replace(/_/g,"-")}var $i="en-US";var SS=$i;function nw(e){typeof e=="string"&&(SS=e.toLowerCase().replace(/_/g,"-"))}function zc(e,t,n){let r=L(),o=fe(),i=Se();return RS(o,r,r[ne],i,e,t,n),zc}function RS(e,t,n,r,o,i,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Pd(r,t,i),NT(r,e,t,s,n,o,i,c)&&(a=!1)),a){let u=r.outputs?.[o],l=r.hostDirectiveOutputs?.[o];if(l&&l.length)for(let d=0;d<l.length;d+=2){let h=l[d],f=l[d+1];c??=Pd(r,t,i),Wm(r,t,h,f,o,c)}if(u&&u.length)for(let d of u)c??=Pd(r,t,i),Wm(r,t,d,o,o,c)}}function AS(e=1){return ym(e)}function MS(e,t){let n=null,r=tC(e);for(let o=0;o<t.length;o++){let i=t[o];if(i==="*"){n=o;continue}if(r===null?Gy(e,i,!0):oC(r,i))return o}return n}function NS(e){let t=L()[ze][Ue];if(!t.projection){let n=e?e.length:1,r=t.projection=$g(n,null),o=r.slice(),i=t.child;for(;i!==null;){if(i.type!==128){let s=e?MS(i,e):0;s!==null&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i)}i=i.next}}}function xS(e,t=0,n,r,o,i){let s=L(),a=fe(),c=r?e+1:null;c!==null&&sh(s,a,c,r,o,i,null,n);let u=Eo(a,re+e,16,null,n||null);u.projection===null&&(u.projection=t),Cd();let d=!s[oo]||Ed();s[ze][Ue].projection[u.projection]===null&&c!==null?OS(s,a,c):d&&!Ac(u)&&xC(a,s,u)}function OS(e,t,n){let r=re+n,o=t.data[r],i=e[r],s=uf(i,o.tView.ssrId),a=Yf(e,o,void 0,{dehydratedView:s});Qf(i,a,0,gc(o,s))}function gh(e,t,n,r){jv(e,t,n,r)}function kS(e,t,n){Fv(e,t,n)}function mh(e){let t=L(),n=fe(),r=qa();bi(r+1);let o=nh(n,r);if(e.dirty&&Jg(t)===((o.metadata.flags&2)===2)){if(o.matches===null)e.reset([]);else{let i=$v(t,r);e.reset(i,Ey),e.notifyOnChanges()}return!0}return!1}function yh(){return th(L(),qa())}function PS(e,t,n,r,o){Vv(t,jv(e,n,r,o))}function LS(e,t,n,r){Vv(e,Fv(t,n,r))}function FS(e=1){bi(qa()+e)}function jS(e){let t=am();return $a(t,re+e)}function nc(e,t){return e<<17|t<<2}function br(e){return e>>17&32767}function US(e){return(e&2)==2}function $S(e,t){return e&131071|t<<17}function Ef(e){return e|2}function vo(e){return(e&131068)>>2}function Ud(e,t){return e&-131069|t<<2}function BS(e){return(e&1)===1}function _f(e){return e|1}function VS(e,t,n,r,o,i){let s=i?t.classBindings:t.styleBindings,a=br(s),c=vo(s);e[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||no(d,l)>0)&&(u=!0)}else l=n;if(o)if(c!==0){let h=br(e[a+1]);e[r+1]=nc(h,a),h!==0&&(e[h+1]=Ud(e[h+1],r)),e[a+1]=$S(e[a+1],r)}else e[r+1]=nc(a,0),a!==0&&(e[a+1]=Ud(e[a+1],r)),a=r;else e[r+1]=nc(c,0),a===0?a=r:e[c+1]=Ud(e[c+1],r),c=r;u&&(e[r+1]=Ef(e[r+1])),ty(e,l,r,!0),ty(e,l,r,!1),HS(t,l,e,r,i),s=nc(a,c),i?t.classBindings=s:t.styleBindings=s}function HS(e,t,n,r,o){let i=o?e.residualClasses:e.residualStyles;i!=null&&typeof t=="string"&&no(i,t)>=0&&(n[r+1]=_f(n[r+1]))}function ty(e,t,n,r){let o=e[n+1],i=t===null,s=r?br(o):vo(o),a=!1;for(;s!==0&&(a===!1||i);){let c=e[s],u=e[s+1];zS(c,t)&&(a=!0,e[s+1]=r?_f(u):Ef(u)),s=r?br(u):vo(u)}a&&(e[n+1]=r?Ef(o):_f(o))}function zS(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?no(e,t)>=0:!1}var yt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qS(e){return e.substring(yt.key,yt.keyEnd)}function GS(e){return WS(e),rw(e,ow(e,0,yt.textEnd))}function rw(e,t){let n=yt.textEnd;return n===t?-1:(t=yt.keyEnd=KS(e,yt.key=t,n),ow(e,t,n))}function WS(e){yt.key=0,yt.keyEnd=0,yt.value=0,yt.valueEnd=0,yt.textEnd=e.length}function ow(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function KS(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function iw(e,t,n){return aw(e,t,n,!1),iw}function sw(e,t){return aw(e,t,null,!0),sw}function ZS(e){JS(r0,YS,e,!0)}function YS(e,t){for(let n=GS(t);n>=0;n=rw(t,n))La(e,qS(t),!0)}function aw(e,t,n,r){let o=L(),i=fe(),s=Ha(2);if(i.firstUpdatePass&&uw(i,e,s,r),t!==Be&&Ft(o,s,t)){let a=i.data[sn()];lw(i,a,o,o[ne],e,o[s+1]=i0(t,n),r,s)}}function JS(e,t,n,r){let o=fe(),i=Ha(2);o.firstUpdatePass&&uw(o,null,i,r);let s=L();if(n!==Be&&Ft(s,i,n)){let a=o.data[sn()];if(dw(a,r)&&!cw(o,i)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=Na(c,n||"")),wf(o,a,s,n,r)}else o0(o,a,s,s[ne],s[i+1],s[i+1]=n0(e,t,n),r,i)}}function cw(e,t){return t>=e.expandoStartIndex}function uw(e,t,n,r){let o=e.data;if(o[n+1]===null){let i=o[sn()],s=cw(e,n);dw(i,r)&&t===null&&!s&&(t=!1),t=QS(o,i,t,r),VS(o,i,t,n,s,r)}}function QS(e,t,n,r){let o=hm(e),i=r?t.residualClasses:t.residualStyles;if(o===null)(r?t.classBindings:t.styleBindings)===0&&(n=$d(null,e,t,n,r),n=xi(n,t.attrs,r),i=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==o)if(n=$d(o,e,t,n,r),i===null){let c=XS(e,t,r);c!==void 0&&Array.isArray(c)&&(c=$d(null,e,t,c[1],r),c=xi(c,t.attrs,r),e0(e,t,r,c))}else i=t0(e,t,r)}return i!==void 0&&(r?t.residualClasses=i:t.residualStyles=i),n}function XS(e,t,n){let r=n?t.classBindings:t.styleBindings;if(vo(r)!==0)return e[br(r)]}function e0(e,t,n,r){let o=n?t.classBindings:t.styleBindings;e[br(o)]=r}function t0(e,t,n){let r,o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++){let s=e[i].hostAttrs;r=xi(r,s,n)}return xi(r,t.attrs,n)}function $d(e,t,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=t[a],r=xi(r,i.hostAttrs,o),i!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function xi(e,t,n){let r=n?1:2,o=-1;if(t!==null)for(let i=0;i<t.length;i++){let s=t[i];typeof s=="number"?o=s:o===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),La(e,s,n?!0:t[++i]))}return e===void 0?null:e}function n0(e,t,n){if(n==null||n==="")return xe;let r=[],o=vt(n);if(Array.isArray(o))for(let i=0;i<o.length;i++)e(r,o[i],!0);else if(typeof o=="object")for(let i in o)o.hasOwnProperty(i)&&e(r,i,o[i]);else typeof o=="string"&&t(r,o);return r}function r0(e,t,n){let r=String(t);r!==""&&!r.includes(" ")&&La(e,r,n)}function o0(e,t,n,r,o,i,s,a){o===Be&&(o=xe);let c=0,u=0,l=0<o.length?o[0]:null,d=0<i.length?i[0]:null;for(;l!==null||d!==null;){let h=c<o.length?o[c+1]:void 0,f=u<i.length?i[u+1]:void 0,p=null,g;l===d?(c+=2,u+=2,h!==f&&(p=d,g=f)):d===null||l!==null&&l<d?(c+=2,p=l):(u+=2,p=d,g=f),p!==null&&lw(e,t,n,r,p,g,s,a),l=c<o.length?o[c]:null,d=u<i.length?i[u]:null}}function lw(e,t,n,r,o,i,s,a){if(!(t.type&3))return;let c=e.data,u=c[a+1],l=BS(u)?ny(c,t,n,o,vo(u),s):void 0;if(!Dc(l)){Dc(i)||US(u)&&(i=ny(c,null,n,o,a,s));let d=dd(sn(),n);kC(r,s,d,o,i)}}function ny(e,t,n,r,o,i){let s=t===null,a;for(;o>0;){let c=e[o],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[o+1];h===Be&&(h=d?xe:void 0);let f=d?Fa(h,r):l===r?h:void 0;if(u&&!Dc(f)&&(f=Fa(c,r)),Dc(f)&&(a=f,s))return a;let p=e[o+1];o=s?br(p):vo(p)}if(t!==null){let c=i?t.residualClasses:t.residualStyles;c!=null&&(a=Fa(c,r))}return a}function Dc(e){return e!==void 0}function i0(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=tn(vt(e)))),e}function dw(e,t){return(e.flags&(t?8:16))!==0}function s0(e,t=""){let n=L(),r=fe(),o=e+re,i=r.firstCreatePass?Eo(r,o,1,t,null):r.data[o],s=a0(r,n,i,t,e);n[o]=s,Za()&&qf(r,n,s,i),co(i,!1)}var a0=(e,t,n,r,o)=>(Ya(!0),zI(t[ne],r));function fw(e,t,n,r=""){return Ft(e,lo(),n)?t+ur(n)+r:Be}function c0(e,t,n,r,o,i=""){let s=cm(),a=Mv(e,s,n,o);return Ha(2),a?t+ur(n)+r+ur(o)+i:Be}function hw(e){return vh("",e),hw}function vh(e,t,n){let r=L(),o=fw(r,e,t,n);return o!==Be&&gw(r,sn(),o),vh}function pw(e,t,n,r,o){let i=L(),s=c0(i,e,t,n,r,o);return s!==Be&&gw(i,sn(),s),pw}function gw(e,t,n){let r=dd(t,e);qI(e[ne],r,n)}function u0(e,t,n=""){return fw(L(),e,t,n)}function l0(e,t,n){let r=fe();if(r.firstCreatePass){let o=ht(e);bf(n,r.data,r.blueprint,o,!0),bf(t,r.data,r.blueprint,o,!1)}}function bf(e,t,n,r,o){if(e=ge(e),Array.isArray(e))for(let i=0;i<e.length;i++)bf(e[i],t,n,r,o);else{let i=fe(),s=L(),a=Se(),c=ir(e)?e:ge(e.provide),u=sd(e),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(ir(e)||!e.multi){let f=new vr(u,o,W,null),p=Vd(c,t,o?l:l+h,d);p===-1?(zd(dc(a,s),i,c),Bd(i,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{let f=Vd(c,t,l+h,d),p=Vd(c,t,l,l+h),g=f>=0&&n[f],y=p>=0&&n[p];if(o&&!y||!o&&!g){zd(dc(a,s),i,c);let m=h0(o?f0:d0,n.length,o,r,u,e);!o&&y&&(n[p].providerFactory=m),Bd(i,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(m),s.push(m)}else{let m=mw(n[o?p:f],u,!o&&r);Bd(i,e,f>-1?f:p,m)}!o&&r&&y&&n[p].componentProviders++}}}function Bd(e,t,n,r){let o=ir(t),i=Wg(t);if(o||i){let c=(i?ge(t.useClass):t).prototype.ngOnDestroy;if(c){let u=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function mw(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Vd(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function d0(e,t,n,r,o){return Df(this.multi,[])}function f0(e,t,n,r,o){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Si(r,r[M],this.providerFactory.index,o);s=c.slice(0,a),Df(i,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],Df(i,s);return s}function Df(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function h0(e,t,n,r,o,i){let s=new vr(e,n,W,null);return s.multi=[],s.index=t,s.componentProviders=0,mw(s,o,r&&!n),s}function p0(e,t=[]){return n=>{n.providersResolver=(r,o)=>l0(r,o?o(e):e,t)}}function g0(e,t,n){let r=_i()+e,o=L();return o[r]===Be?eh(o,r,n?t.call(n):t()):MT(o,r)}function m0(e,t,n,r){return vw(L(),_i(),e,t,n,r)}function yw(e,t){let n=e[t];return n===Be?void 0:n}function vw(e,t,n,r,o,i){let s=t+n;return Ft(e,s,o)?eh(e,s+1,i?r.call(i,o):r(o)):yw(e,s+1)}function y0(e,t,n,r,o,i,s){let a=t+n;return Mv(e,a,o,i)?eh(e,a+2,s?r.call(s,o,i):r(o,i)):yw(e,a+2)}function v0(e,t){let n=fe(),r,o=e+re;n.firstCreatePass?(r=w0(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];let i=r.factory||(r.factory=In(r.type,!0)),s,a=Fe(W);try{let c=lc(!1),u=i();return lc(c),fd(n,L(),o,u),u}finally{Fe(a)}}function w0(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function E0(e,t,n){let r=e+re,o=L(),i=$a(o,r);return ww(o,r)?vw(o,_i(),t,i.transform,n,i):i.transform(n)}function _0(e,t,n,r){let o=e+re,i=L(),s=$a(i,o);return ww(i,o)?y0(i,_i(),t,s.transform,n,r,s):s.transform(n,r)}function ww(e,t){return e[M].data[t].pure}function b0(e,t){return Lc(e,t)}var Ic=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},wh=(()=>{class e{compileModuleSync(n){return new bc(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=rd(n),i=zy(o.declarations).reduce((s,a)=>{let c=rn(a);return c&&s.push(new Er(c)),s},[]);return new Ic(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var D0=(()=>{class e{zone=v(se);changeDetectionScheduler=v(Ke);applicationRef=v(Fn);applicationErrorHandler=v($e);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ew({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new se(H(_({},_w()),{scheduleInRootZone:n})),[{provide:se,useFactory:e},{provide:Rt,multi:!0,useFactory:()=>{let r=v(D0,{optional:!0});return()=>r.initialize()}},{provide:Rt,multi:!0,useFactory:()=>{let r=v(I0);return()=>{r.initialize()}}},t===!0?{provide:Nd,useValue:!0}:[],{provide:Ja,useValue:n??Yy},{provide:$e,useFactory:()=>{let r=v(se),o=v(de),i;return s=>{r.runOutsideAngular(()=>{o.destroyed&&!i?setTimeout(()=>{throw s}):(i??=o.get(Xe),i.handleError(s))})}}}]}function _w(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var I0=(()=>{class e{subscription=new ie;initialized=!1;zone=v(se);pendingTasks=v(kt);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{se.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{se.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Eh=(()=>{class e{applicationErrorHandler=v($e);appRef=v(Fn);taskService=v(kt);ngZone=v(se);zonelessEnabled=v(fo);tracing=v(Pn,{optional:!0});disableScheduling=v(Nd,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ie;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(pc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(v(Ja,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ri||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?Fm:Jy;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(pc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Fm(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function C0(){return Ln("NgZoneless"),At([{provide:Ke,useExisting:Eh},{provide:se,useClass:Ri},{provide:fo,useValue:!0},{provide:Ja,useValue:!1},[]])}function T0(){return typeof $localize<"u"&&$localize.locale||$i}var Io=new T("",{providedIn:"root",factory:()=>v(Io,{optional:!0,skipSelf:!0})||T0()});function $t(e){return Rg(e)}function bh(e,t){return si(e,t?.equal)}var _h=class{[pe];constructor(t){this[pe]=t}destroy(){this[pe].destroy()}};function S0(e,t){let n=t?.injector??v(je),r=t?.manualCleanup!==!0?n.get(ot):null,o,i=n.get(gr,null,{optional:!0}),s=n.get(Ke);return i!==null?(o=M0(i.view,s,e),r instanceof di&&r._lView===i.view&&(r=null)):o=N0(e,n.get(Ii),s),o.injector=n,r!==null&&(o.onDestroyFn=r.onDestroy(()=>o.destroy())),new _h(o)}var bw=H(_({},Ag),{cleanupFns:void 0,zone:null,onDestroyFn:mr,run(){let e=uo(!1);try{Mg(this)}finally{uo(e)}},cleanup(){if(!this.cleanupFns?.length)return;let e=P(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],P(e)}}}),R0=H(_({},bw),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Dn(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),A0=H(_({},bw),{consumerMarkedDirty(){this.view[x]|=8192,Mn(this.view),this.notifier.notify(13)},destroy(){Dn(this),this.onDestroyFn(),this.cleanup(),this.view[on]?.delete(this)}});function M0(e,t,n){let r=Object.create(A0);return r.view=e,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=t,r.fn=Dw(r,n),e[on]??=new Set,e[on].add(r),r.consumerMarkedDirty(r),r}function N0(e,t,n){let r=Object.create(R0);return r.fn=Dw(r,e),r.scheduler=t,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function Dw(e,t){return()=>{t(n=>(e.cleanupFns??=[]).push(n))}}var Mw=Symbol("InputSignalNode#UNSET"),G0=H(_({},ai),{transformFn:void 0,applyValueToInputSignal(e,t){eo(e,t)}});function Nw(e,t){let n=Object.create(G0);n.value=e,n.transformFn=t?.transform;function r(){if(er(n),n.value===Mw){let o=null;throw new E(-950,o)}return n.value}return r[pe]=n,r}var Gc=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>ki(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},W0=new T("");W0.__NG_ELEMENT_ID__=e=>{let t=Se();if(t===null)throw new E(204,!1);if(t.type&2)return t.value;if(e&8)return null;throw new E(204,!1)};function Iw(e,t){return Nw(e,t)}function K0(e){return Nw(Mw,e)}var xw=(Iw.required=K0,Iw);function Cw(e,t){return rh(t)}function Z0(e,t){return oh(t)}var F8=(Cw.required=Z0,Cw);function Tw(e,t){return rh(t)}function Y0(e,t){return oh(t)}var j8=(Tw.required=Y0,Tw);var Ih=new T(""),J0=new T("");function Bi(e){return!e.moduleRef}function Q0(e){let t=Bi(e)?e.r3Injector:e.moduleRef.injector,n=t.get(se);return n.run(()=>{Bi(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get($e),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:r})}),Bi(e)){let i=()=>t.destroy(),s=e.platformInjector.get(Ih);s.add(i),t.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Ih);s.add(i),e.moduleRef.onDestroy(()=>{Ti(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return eR(r,n,()=>{let i=t.get(kt),s=i.add(),a=t.get(uh);return a.runInitializers(),a.donePromise.then(()=>{let c=t.get(Io,$i);if(nw(c||$i),!t.get(J0,!0))return Bi(e)?t.get(Fn):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Bi(e)){let l=t.get(Fn);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return X0?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void i.remove(s))})})}var X0;function eR(e,t,n){try{let r=n();return Do(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var qc=null;function tR(e=[],t){return je.create({name:t,providers:[{provide:pi,useValue:"platform"},{provide:Ih,useValue:new Set([()=>qc=null])},...e]})}function nR(e=[]){if(qc)return qc;let t=tR(e);return qc=t,Yv(),rR(t),t}function rR(e){let t=e.get(Sc,null);Ce(e,()=>{t?.forEach(n=>n())})}var Vi=(()=>{class e{static __NG_ELEMENT_ID__=oR}return e})();function oR(e){return iR(Se(),L(),(e&16)===16)}function iR(e,t,n){if(An(e)&&!n){let r=rt(e.index,t);return new xn(r,r)}else if(e.type&175){let r=t[ze];return new xn(r,t)}return null}var Ch=class{constructor(){}supports(t){return Xf(t)}create(t){return new Th(t)}},sR=(e,t)=>t,Th=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||sR}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){let s=!r||n&&n.currentIndex<Sw(r,o,i)?n:r,a=Sw(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)o++;else{i||(i=[]);let u=a-o,l=c-o;if(u!=l){for(let h=0;h<u;h++){let f=h<i.length?i[h]:i[h]=0,p=f+h;l<=p&&p<u&&(i[h]=f+1)}let d=s.previousIndex;i[d]=l-u}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!Xf(t))throw new E(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,o,i,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,i,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)),n=n._next}else o=0,Rv(t,a=>{s=this._trackByFn(o,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,o),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let i;return t===null?i=this._itTail:(i=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,i,o)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,o),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,i,o)):t=this._addAfter(new Sh(n,r),i,o)),t}_verifyReinsertion(t,n,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let o=t._prevRemoved,i=t._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let o=n===null?this._itHead:n._next;return t._next=o,t._prev=n,o===null?this._itTail=t:o._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new Wc),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Wc),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Sh=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},Rh=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Wc=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new Rh,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,o=this.map.get(r);return o?o.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Sw(e,t,n){let r=e.previousIndex;if(r===null)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}function Rw(){return new Mh([new Ch])}var Mh=(()=>{class e{factories;static \u0275prov=I({token:e,providedIn:"root",factory:Rw});constructor(n){this.factories=n}static create(n,r){if(r!=null){let o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:()=>{let r=v(e,{optional:!0,skipSelf:!0});return e.create(n,r||Rw())}}}find(n){let r=this.factories.find(o=>o.supports(n));if(r!=null)return r;throw new E(901,!1)}}return e})();function Ow(e){let{rootComponent:t,appProviders:n,platformProviders:r,platformRef:o}=e;G(8);try{let i=o?.injector??nR(r),s=[Ew({}),{provide:Ke,useExisting:Eh},_m,...n||[]],a=new Ni({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return Q0({r3Injector:a.injector,platformInjector:i,rootComponent:t})}catch(i){return Promise.reject(i)}finally{G(9)}}function Kc(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function U8(e,t=NaN){return!isNaN(parseFloat(e))&&!isNaN(Number(e))?Number(e):t}var Dh=Symbol("NOT_SET"),kw=new Set,aR=H(_({},ai),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,value:Dh,cleanup:null,consumerMarkedDirty(){if(this.sequence.impl.executing){if(this.sequence.lastPhase===null||this.sequence.lastPhase<this.phase)return;this.sequence.erroredOrDestroyed=!0}this.sequence.scheduler.notify(7)},phaseFn(e){if(this.sequence.lastPhase=this.phase,!this.dirty)return this.signal;if(this.dirty=!1,this.value!==Dh&&!nr(this))return this.signal;try{for(let o of this.cleanup??kw)o()}finally{this.cleanup?.clear()}let t=[];e!==void 0&&t.push(e),t.push(this.registerCleanupFn);let n=bn(this),r;try{r=this.userFn.apply(null,t)}finally{tr(this,n)}return(this.value===Dh||!this.equal(this.value,r))&&(this.value=r,this.version++),this.signal}}),Ah=class extends Ai{scheduler;lastPhase=null;nodes=[void 0,void 0,void 0,void 0];constructor(t,n,r,o,i,s=null){super(t,[void 0,void 0,void 0,void 0],r,!1,i.get(ot),s),this.scheduler=o;for(let a of Bf){let c=n[a];if(c===void 0)continue;let u=Object.create(aR);u.sequence=this,u.phase=a,u.userFn=c,u.dirty=!0,u.signal=()=>(er(u),u.value),u.signal[pe]=u,u.registerCleanupFn=l=>(u.cleanup??=new Set).add(l),this.nodes[a]=u,this.hooks[a]=l=>u.phaseFn(l)}}afterRun(){super.afterRun(),this.lastPhase=null}destroy(){super.destroy();for(let t of this.nodes)if(t)try{for(let n of t.cleanup??kw)n()}finally{Dn(t)}}};function $8(e,t){let n=t?.injector??v(je),r=n.get(Ke),o=n.get(Oc),i=n.get(Pn,null,{optional:!0});o.impl??=n.get(Vf);let s=e;typeof s=="function"&&(s={mixedReadWrite:e});let a=n.get(gr,null,{optional:!0}),c=new Ah(o.impl,[s.earlyRead,s.write,s.mixedReadWrite,s.read],a?.view,r,n,i?.snapshot(null));return o.impl.register(c),c}function B8(e,t){let n=rn(e),r=t.elementInjector||ro();return new Er(n).create(r,t.projectableNodes,t.hostElement,t.environmentInjector,t.directives,t.bindings)}var Fw=null;function dn(){return Fw}function Nh(e){Fw??=e}var Hi=class{},xh=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>v(jw),providedIn:"platform"})}return e})();var jw=(()=>{class e extends xh{_location;_history;_doc=v(ue);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return dn().getBaseHref(this._doc)}onPopState(n){let r=dn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=dn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Uw(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function Pw(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function jn(e){return e&&e[0]!=="?"?`?${e}`:e}var Co=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>v(Bw),providedIn:"root"})}return e})(),$w=new T(""),Bw=(()=>{class e extends Co{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??v(ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Uw(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+jn(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+jn(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+jn(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(A(xh),A($w,8))};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),To=(()=>{class e{_subject=new ee;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=lR(Pw(Lw(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+jn(r))}normalize(n){return e.stripTrailingSlash(uR(this._basePath,Lw(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+jn(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+jn(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=jn;static joinWithSlash=Uw;static stripTrailingSlash=Pw;static \u0275fac=function(r){return new(r||e)(A(Co))};static \u0275prov=I({token:e,factory:()=>cR(),providedIn:"root"})}return e})();function cR(){return new To(A(Co))}function uR(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function Lw(e){return e.replace(/\/index.html$/,"")}function lR(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var Uh=(function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e})(Uh||{});var Pe=(function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e})(Pe||{}),Z=(function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e})(Z||{}),Ge=(function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e})(Ge||{}),We={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Ww(e){return qe(e)[ae.LocaleId]}function Kw(e,t,n){let r=qe(e),o=[r[ae.DayPeriodsFormat],r[ae.DayPeriodsStandalone]],i=it(o,t);return it(i,n)}function Zw(e,t,n){let r=qe(e),o=[r[ae.DaysFormat],r[ae.DaysStandalone]],i=it(o,t);return it(i,n)}function Yw(e,t,n){let r=qe(e),o=[r[ae.MonthsFormat],r[ae.MonthsStandalone]],i=it(o,t);return it(i,n)}function Jw(e,t){let r=qe(e)[ae.Eras];return it(r,t)}function zi(e,t){let n=qe(e);return it(n[ae.DateFormat],t)}function qi(e,t){let n=qe(e);return it(n[ae.TimeFormat],t)}function Gi(e,t){let r=qe(e)[ae.DateTimeFormat];return it(r,t)}function Vt(e,t){let n=qe(e),r=n[ae.NumberSymbols][t];if(typeof r>"u"){if(t===We.CurrencyDecimal)return n[ae.NumberSymbols][We.Decimal];if(t===We.CurrencyGroup)return n[ae.NumberSymbols][We.Group]}return r}function Qw(e,t){return qe(e)[ae.NumberFormats][t]}function Xw(e){if(!e[ae.ExtraData])throw new E(2303,!1)}function eE(e){let t=qe(e);return Xw(t),(t[ae.ExtraData][2]||[]).map(r=>typeof r=="string"?Oh(r):[Oh(r[0]),Oh(r[1])])}function tE(e,t,n){let r=qe(e);Xw(r);let o=[r[ae.ExtraData][0],r[ae.ExtraData][1]],i=it(o,t)||[];return it(i,n)||[]}function it(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new E(2304,!1)}function Oh(e){let[t,n]=e.split(":");return{hours:+t,minutes:+n}}var dR=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Zc={},fR=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function nE(e,t,n,r){let o=_R(e);t=fn(n,t)||t;let s=[],a;for(;t;)if(a=fR.exec(t),a){s=s.concat(a.slice(1));let l=s.pop();if(!l)break;t=l}else{s.push(t);break}let c=o.getTimezoneOffset();r&&(c=oE(r,c),o=ER(o,r));let u="";return s.forEach(l=>{let d=vR(l);u+=d?d(o,n,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function eu(e,t,n){let r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function fn(e,t){let n=Ww(e);if(Zc[n]??={},Zc[n][t])return Zc[n][t];let r="";switch(t){case"shortDate":r=zi(e,Ge.Short);break;case"mediumDate":r=zi(e,Ge.Medium);break;case"longDate":r=zi(e,Ge.Long);break;case"fullDate":r=zi(e,Ge.Full);break;case"shortTime":r=qi(e,Ge.Short);break;case"mediumTime":r=qi(e,Ge.Medium);break;case"longTime":r=qi(e,Ge.Long);break;case"fullTime":r=qi(e,Ge.Full);break;case"short":let o=fn(e,"shortTime"),i=fn(e,"shortDate");r=Yc(Gi(e,Ge.Short),[o,i]);break;case"medium":let s=fn(e,"mediumTime"),a=fn(e,"mediumDate");r=Yc(Gi(e,Ge.Medium),[s,a]);break;case"long":let c=fn(e,"longTime"),u=fn(e,"longDate");r=Yc(Gi(e,Ge.Long),[c,u]);break;case"full":let l=fn(e,"fullTime"),d=fn(e,"fullDate");r=Yc(Gi(e,Ge.Full),[l,d]);break}return r&&(Zc[n][t]=r),r}function Yc(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,r){return t!=null&&r in t?t[r]:n})),e}function _t(e,t,n="-",r,o){let i="";(e<0||o&&e<=0)&&(o?e=-e+1:(e=-e,i=n));let s=String(e);for(;s.length<t;)s="0"+s;return r&&(s=s.slice(s.length-t)),i+s}function hR(e,t){return _t(e,3).substring(0,t)}function he(e,t,n=0,r=!1,o=!1){return function(i,s){let a=pR(e,i);if((n>0||a>-n)&&(a+=n),e===3)a===0&&n===-12&&(a=12);else if(e===6)return hR(a,t);let c=Vt(s,We.MinusSign);return _t(a,t,c,r,o)}}function pR(e,t){switch(e){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new E(2301,!1)}}function J(e,t,n=Pe.Format,r=!1){return function(o,i){return gR(o,i,e,t,n,r)}}function gR(e,t,n,r,o,i){switch(n){case 2:return Yw(t,o,r)[e.getMonth()];case 1:return Zw(t,o,r)[e.getDay()];case 0:let s=e.getHours(),a=e.getMinutes();if(i){let u=eE(t),l=tE(t,o,r),d=u.findIndex(h=>{if(Array.isArray(h)){let[f,p]=h,g=s>=f.hours&&a>=f.minutes,y=s<p.hours||s===p.hours&&a<p.minutes;if(f.hours<p.hours){if(g&&y)return!0}else if(g||y)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(d!==-1)return l[d]}return Kw(t,o,r)[s<12?0:1];case 3:return Jw(t,r)[e.getFullYear()<=0?0:1];default:let c=n;throw new E(2302,!1)}}function Jc(e){return function(t,n,r){let o=-1*r,i=Vt(n,We.MinusSign),s=o>0?Math.floor(o/60):Math.ceil(o/60);switch(e){case 0:return(o>=0?"+":"")+_t(s,2,i)+_t(Math.abs(o%60),2,i);case 1:return"GMT"+(o>=0?"+":"")+_t(s,1,i);case 2:return"GMT"+(o>=0?"+":"")+_t(s,2,i)+":"+_t(Math.abs(o%60),2,i);case 3:return r===0?"Z":(o>=0?"+":"")+_t(s,2,i)+":"+_t(Math.abs(o%60),2,i);default:throw new E(2310,!1)}}}var mR=0,Xc=4;function yR(e){let t=eu(e,mR,1).getDay();return eu(e,0,1+(t<=Xc?Xc:Xc+7)-t)}function rE(e){let t=e.getDay(),n=t===0?-3:Xc-t;return eu(e.getFullYear(),e.getMonth(),e.getDate()+n)}function kh(e,t=!1){return function(n,r){let o;if(t){let i=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();o=1+Math.floor((s+i)/7)}else{let i=rE(n),s=yR(i.getFullYear()),a=i.getTime()-s.getTime();o=1+Math.round(a/6048e5)}return _t(o,e,Vt(r,We.MinusSign))}}function Qc(e,t=!1){return function(n,r){let i=rE(n).getFullYear();return _t(i,e,Vt(r,We.MinusSign),t)}}var Ph={};function vR(e){if(Ph[e])return Ph[e];let t;switch(e){case"G":case"GG":case"GGG":t=J(3,Z.Abbreviated);break;case"GGGG":t=J(3,Z.Wide);break;case"GGGGG":t=J(3,Z.Narrow);break;case"y":t=he(0,1,0,!1,!0);break;case"yy":t=he(0,2,0,!0,!0);break;case"yyy":t=he(0,3,0,!1,!0);break;case"yyyy":t=he(0,4,0,!1,!0);break;case"Y":t=Qc(1);break;case"YY":t=Qc(2,!0);break;case"YYY":t=Qc(3);break;case"YYYY":t=Qc(4);break;case"M":case"L":t=he(1,1,1);break;case"MM":case"LL":t=he(1,2,1);break;case"MMM":t=J(2,Z.Abbreviated);break;case"MMMM":t=J(2,Z.Wide);break;case"MMMMM":t=J(2,Z.Narrow);break;case"LLL":t=J(2,Z.Abbreviated,Pe.Standalone);break;case"LLLL":t=J(2,Z.Wide,Pe.Standalone);break;case"LLLLL":t=J(2,Z.Narrow,Pe.Standalone);break;case"w":t=kh(1);break;case"ww":t=kh(2);break;case"W":t=kh(1,!0);break;case"d":t=he(2,1);break;case"dd":t=he(2,2);break;case"c":case"cc":t=he(7,1);break;case"ccc":t=J(1,Z.Abbreviated,Pe.Standalone);break;case"cccc":t=J(1,Z.Wide,Pe.Standalone);break;case"ccccc":t=J(1,Z.Narrow,Pe.Standalone);break;case"cccccc":t=J(1,Z.Short,Pe.Standalone);break;case"E":case"EE":case"EEE":t=J(1,Z.Abbreviated);break;case"EEEE":t=J(1,Z.Wide);break;case"EEEEE":t=J(1,Z.Narrow);break;case"EEEEEE":t=J(1,Z.Short);break;case"a":case"aa":case"aaa":t=J(0,Z.Abbreviated);break;case"aaaa":t=J(0,Z.Wide);break;case"aaaaa":t=J(0,Z.Narrow);break;case"b":case"bb":case"bbb":t=J(0,Z.Abbreviated,Pe.Standalone,!0);break;case"bbbb":t=J(0,Z.Wide,Pe.Standalone,!0);break;case"bbbbb":t=J(0,Z.Narrow,Pe.Standalone,!0);break;case"B":case"BB":case"BBB":t=J(0,Z.Abbreviated,Pe.Format,!0);break;case"BBBB":t=J(0,Z.Wide,Pe.Format,!0);break;case"BBBBB":t=J(0,Z.Narrow,Pe.Format,!0);break;case"h":t=he(3,1,-12);break;case"hh":t=he(3,2,-12);break;case"H":t=he(3,1);break;case"HH":t=he(3,2);break;case"m":t=he(4,1);break;case"mm":t=he(4,2);break;case"s":t=he(5,1);break;case"ss":t=he(5,2);break;case"S":t=he(6,1);break;case"SS":t=he(6,2);break;case"SSS":t=he(6,3);break;case"Z":case"ZZ":case"ZZZ":t=Jc(0);break;case"ZZZZZ":t=Jc(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Jc(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=Jc(2);break;default:return null}return Ph[e]=t,t}function oE(e,t){e=e.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function wR(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function ER(e,t,n){let o=e.getTimezoneOffset(),i=oE(t,o);return wR(e,-1*(i-o))}function _R(e){if(Vw(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[o,i=1,s=1]=e.split("-").map(a=>+a);return eu(o,i-1,s)}let n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let r;if(r=e.match(dR))return bR(r)}let t=new Date(e);if(!Vw(t))throw new E(2311,!1);return t}function bR(e){let t=new Date(0),n=0,r=0,o=e[8]?t.setUTCFullYear:t.setFullYear,i=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),o.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-n,a=Number(e[5]||0)-r,c=Number(e[6]||0),u=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return i.call(t,s,a,c,u),t}function Vw(e){return e instanceof Date&&!isNaN(e.valueOf())}var DR=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Hw=22,tu=".",Wi="0",IR=";",CR=",",Lh="#";function TR(e,t,n,r,o,i,s=!1){let a="",c=!1;if(!isFinite(e))a=Vt(n,We.Infinity);else{let u=AR(e);s&&(u=RR(u));let l=t.minInt,d=t.minFrac,h=t.maxFrac;if(i){let D=i.match(DR);if(D===null)throw new E(2306,!1);let b=D[1],w=D[3],j=D[5];b!=null&&(l=Fh(b)),w!=null&&(d=Fh(w)),j!=null?h=Fh(j):w!=null&&d>h&&(h=d)}MR(u,d,h);let f=u.digits,p=u.integerLen,g=u.exponent,y=[];for(c=f.every(D=>!D);p<l;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?y=f.splice(p,f.length):(y=f,f=[0]);let m=[];for(f.length>=t.lgSize&&m.unshift(f.splice(-t.lgSize,f.length).join(""));f.length>t.gSize;)m.unshift(f.splice(-t.gSize,f.length).join(""));f.length&&m.unshift(f.join("")),a=m.join(Vt(n,r)),y.length&&(a+=Vt(n,o)+y.join("")),g&&(a+=Vt(n,We.Exponential)+"+"+g)}return e<0&&!c?a=t.negPre+a+t.negSuf:a=t.posPre+a+t.posSuf,a}function iE(e,t,n){let r=Qw(t,Uh.Decimal),o=SR(r,Vt(t,We.MinusSign));return TR(e,o,t,We.Group,We.Decimal,n)}function SR(e,t="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(IR),o=r[0],i=r[1],s=o.indexOf(tu)!==-1?o.split(tu):[o.substring(0,o.lastIndexOf(Wi)+1),o.substring(o.lastIndexOf(Wi)+1)],a=s[0],c=s[1]||"";n.posPre=a.substring(0,a.indexOf(Lh));for(let l=0;l<c.length;l++){let d=c.charAt(l);d===Wi?n.minFrac=n.maxFrac=l+1:d===Lh?n.maxFrac=l+1:n.posSuf+=d}let u=a.split(CR);if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,i){let l=o.length-n.posPre.length-n.posSuf.length,d=i.indexOf(Lh);n.negPre=i.substring(0,d).replace(/'/g,""),n.negSuf=i.slice(d+l).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function RR(e){if(e.digits[0]===0)return e;let t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(t===0?e.digits.push(0,0):t===1&&e.digits.push(0),e.integerLen+=2),e}function AR(e){let t=Math.abs(e)+"",n=0,r,o,i,s,a;for((o=t.indexOf(tu))>-1&&(t=t.replace(tu,"")),(i=t.search(/e/i))>0?(o<0&&(o=i),o+=+t.slice(i+1),t=t.substring(0,i)):o<0&&(o=t.length),i=0;t.charAt(i)===Wi;i++);if(i===(a=t.length))r=[0],o=1;else{for(a--;t.charAt(a)===Wi;)a--;for(o-=i,r=[],s=0;i<=a;i++,s++)r[s]=Number(t.charAt(i))}return o>Hw&&(r=r.splice(0,Hw-1),n=o-1,o=1),{digits:r,exponent:n,integerLen:o}}function MR(e,t,n){if(t>n)throw new E(2307,!1);let r=e.digits,o=r.length-e.integerLen,i=Math.min(Math.max(t,o),n),s=i+e.integerLen,a=r[s];if(s>0){r.splice(Math.max(e.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{o=Math.max(0,o),e.integerLen=1,r.length=Math.max(1,s=i+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[s-1]++;for(;o<Math.max(0,i);o++)r.push(0);let c=i!==0,u=t+e.integerLen,l=r.reduceRight(function(d,h,f,p){return h=h+d,p[f]=h<10?h:h-10,c&&(p[f]===0&&f>=u?p.pop():c=!1),h>=10?1:0},0);l&&(r.unshift(l),e.integerLen++)}function Fh(e){let t=parseInt(e);if(isNaN(t))throw new E(2305,!1);return t}var jh=/\s+/,zw=[],NR=(()=>{class e{_ngEl;_renderer;initialClasses=zw;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(jh):zw}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(jh):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let o=this.stateMap.get(n);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],o=n[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(jh).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(r){return new(r||e)(W(jt),W(_o))};static \u0275dir=Et({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var nu=class{$implicit;ngForOf;index;count;constructor(t,n,r,o){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},sE=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((o,i,s)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new nu(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(i===null?void 0:i);else if(i!==null){let a=r.get(i);r.move(a,s),qw(a,o)}});for(let o=0,i=r.length;o<i;o++){let a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);qw(i,o)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(W(Ut),W(On),W(Mh))};static \u0275dir=Et({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function qw(e,t){e.context.$implicit=t.item}var xR=(()=>{class e{_viewContainer;_context=new ru;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Gw(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Gw(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(W(Ut),W(On))};static \u0275dir=Et({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),ru=class{$implicit=null;ngIf=null};function Gw(e,t){if(e&&!e.createEmbeddedView)throw new E(2020,!1)}var OR=(()=>{class e{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(n){this._viewContainerRef=n}ngOnChanges(n){if(this._shouldRecreateView(n)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let o=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,o)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,o):!1,get:(n,r,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,o)}})}static \u0275fac=function(r){return new(r||e)(W(Ut))};static \u0275dir=Et({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[kn]})}return e})();function aE(e,t){return new E(2100,!1)}var kR="mediumDate",cE=new T(""),uE=new T(""),PR=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(n,r,o){this.locale=n,this.defaultTimezone=r,this.defaultOptions=o}transform(n,r,o,i){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??kR,a=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return nE(n,s,i||this.locale,a)}catch(s){throw aE(e,s.message)}}static \u0275fac=function(r){return new(r||e)(W(Io,16),W(cE,24),W(uE,24))};static \u0275pipe=Uc({name:"date",type:e,pure:!0})}return e})();var LR=(()=>{class e{_locale;constructor(n){this._locale=n}transform(n,r,o){if(!FR(n))return null;o||=this._locale;try{let i=jR(n);return iE(i,o,r)}catch(i){throw aE(e,i.message)}}static \u0275fac=function(r){return new(r||e)(W(Io,16))};static \u0275pipe=Uc({name:"number",type:e,pure:!0})}return e})();function FR(e){return!(e==null||e===""||e!==e)}function jR(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new E(2309,!1);return e}function Ki(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}var Dr=class{};var $h="browser";function Wq(e){return e===$h}var Zi=class{_doc;constructor(t){this._doc=t}manager},ou=(()=>{class e extends Zi{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(A(ue))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})(),su=new T(""),qh=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let o=n.filter(s=>!(s instanceof ou));this._plugins=o.slice().reverse();let i=n.find(s=>s instanceof ou);i&&this._plugins.push(i)}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new E(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(A(su),A(se))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})(),Bh="ng-app-id";function lE(e){for(let t of e)t.remove()}function dE(e,t){let n=t.createElement("style");return n.textContent=e,n}function BR(e,t,n,r){let o=e.head?.querySelectorAll(`style[${Bh}="${t}"],link[${Bh}="${t}"]`);if(o)for(let i of o)i.removeAttribute(Bh),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function Hh(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Gh=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,BR(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let o of n)this.addUsage(o,this.inline,dE);r?.forEach(o=>this.addUsage(o,this.external,Hh))}removeStyles(n,r){for(let o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){let i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){let o=r.get(n);o&&(o.usage--,o.usage<=0&&(lE(o.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])lE(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(n,dE(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(n,Hh(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(A(ue),A(Tc),A(Rc,8),A(Pi))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})(),Vh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Wh=/%COMP%/g;var hE="%COMP%",VR=`_nghost-${hE}`,HR=`_ngcontent-${hE}`,zR=!0,qR=new T("",{providedIn:"root",factory:()=>zR});function GR(e){return HR.replace(Wh,e)}function WR(e){return VR.replace(Wh,e)}function pE(e,t){return t.map(n=>n.replace(Wh,e))}var Kh=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,o,i,s,a,c=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new Yi(n,s,a,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(n,r);return o instanceof iu?o.applyToHost(n):o instanceof Ji&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case an.Emulated:i=new iu(c,u,r,this.appId,l,s,a,d,h);break;case an.ShadowDom:return new zh(c,u,n,r,s,a,this.nonce,d,h);default:i=new Ji(c,u,r,l,s,a,d,h);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(A(qh),A(Gh),A(Tc),A(qR),A(ue),A(se),A(Rc),A(Pn,8))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})(),Yi=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,o,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Vh[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(fE(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(fE(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new E(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;let i=Vh[o];i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let o=Vh[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(Lt.DashCase|Lt.Important)?t.style.setProperty(n,r,o&Lt.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Lt.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,o){if(typeof t=="string"&&(t=dn().getGlobalEventTarget(this.doc,t),!t))throw new E(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(t,n,i)),this.eventManager.addEventListener(t,n,i,o)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function fE(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var zh=class extends Yi{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,o,i,s,a,c,u){super(t,i,s,c,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=o.styles;l=pE(o.id,l);for(let h of l){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}let d=o.getExternalStyles?.();if(d)for(let h of d){let f=Hh(h,i);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ji=class extends Yi{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,o,i,s,a,c,u){super(t,i,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o;let l=r.styles;this.styles=u?pE(u,l):l,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&yo.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},iu=class extends Ji{contentAttr;hostAttr;constructor(t,n,r,o,i,s,a,c,u){let l=o+"-"+r.id;super(t,n,r,i,s,a,c,u,l),this.contentAttr=GR(l),this.hostAttr=WR(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var au=class e extends Hi{supportsDOMEvents=!0;static makeCurrent(){Nh(new e)}onAndCancel(t,n,r,o){return t.addEventListener(n,r,o),()=>{t.removeEventListener(n,r,o)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=KR();return n==null?null:ZR(n)}resetBaseElement(){Qi=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ki(document.cookie,t)}},Qi=null;function KR(){return Qi=Qi||document.head.querySelector("base"),Qi?Qi.getAttribute("href"):null}function ZR(e){return new URL(e,document.baseURI).pathname}var YR=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})(),gE=["alt","control","meta","shift"],JR={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},QR={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},mE=(()=>{class e extends Zi{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,o,i){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>dn().onAndCancel(n,s.domEventName,a,i))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),gE.forEach(u=>{let l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let o=JR[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),gE.forEach(s=>{if(s!==o){let a=QR[s];a(n)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{e.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(A(ue))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})();function XR(e,t,n){let r=_({rootComponent:e,platformRef:n?.platformRef},eA(t));return Ow(r)}function eA(e){return{appProviders:[...iA,...e?.providers??[]],platformProviders:oA}}function tA(){au.makeCurrent()}function nA(){return new Xe}function rA(){return Tf(document),document}var oA=[{provide:Pi,useValue:$h},{provide:Sc,useValue:tA,multi:!0},{provide:ue,useFactory:rA}];var iA=[{provide:pi,useValue:"root"},{provide:Xe,useFactory:nA},{provide:su,useClass:ou,multi:!0,deps:[ue]},{provide:su,useClass:mE,multi:!0,deps:[ue]},Kh,Gh,qh,{provide:wr,useExisting:Kh},{provide:Dr,useClass:YR},[]];var Ao=class{},Xi=class{},Un=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let o=n.slice(0,r),i=n.slice(r+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let o=(t.op==="a"?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":let i=t.value;if(!i)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>i.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(i=>i.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var uu=class{encodeKey(t){return yE(t)}encodeValue(t){return yE(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function sA(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{let i=o.indexOf("="),[s,a]=i==-1?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,i)),t.decodeValue(o.slice(i+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var aA=/%(\d[a-f0-9])/gi,cA={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function yE(e){return encodeURIComponent(e).replace(aA,(t,n)=>cA[n]??t)}function cu(e){return`${e}`}var hn=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new uu,t.fromString){if(t.fromObject)throw new E(2805,!1);this.map=sA(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],o=Array.isArray(r)?r.map(cu):[cu(r)];this.map.set(n,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let o=t[r];Array.isArray(o)?o.forEach(i=>{n.push({param:r,value:i,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(cu(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],o=r.indexOf(cu(t.value));o!==-1&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var lu=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function uA(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function vE(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function wE(e){return typeof Blob<"u"&&e instanceof Blob}function EE(e){return typeof FormData<"u"&&e instanceof FormData}function lA(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var _E="Content-Type",bE="Accept",DE="X-Request-URL",IE="text/plain",CE="application/json",dA=`${CE}, ${IE}, */*`,So=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,n,r,o){this.url=n,this.method=t.toUpperCase();let i;if(uA(this.method)||o?(this.body=r!==void 0?r:null,i=o):i=r,i){if(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,this.keepalive=!!i.keepalive,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),i.priority&&(this.priority=i.priority),i.cache&&(this.cache=i.cache),i.credentials&&(this.credentials=i.credentials),typeof i.timeout=="number"){if(i.timeout<1||!Number.isInteger(i.timeout))throw new E(2822,"");this.timeout=i.timeout}i.mode&&(this.mode=i.mode),i.redirect&&(this.redirect=i.redirect),i.integrity&&(this.integrity=i.integrity),i.referrer&&(this.referrer=i.referrer),this.transferCache=i.transferCache}if(this.headers??=new Un,this.context??=new lu,!this.params)this.params=new hn,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||vE(this.body)||wE(this.body)||EE(this.body)||lA(this.body)?this.body:this.body instanceof hn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||EE(this.body)?null:wE(this.body)?this.body.type||null:vE(this.body)?null:typeof this.body=="string"?IE:this.body instanceof hn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?CE:null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,i=t.keepalive??this.keepalive,s=t.priority||this.priority,a=t.cache||this.cache,c=t.mode||this.mode,u=t.redirect||this.redirect,l=t.credentials||this.credentials,d=t.referrer||this.referrer,h=t.integrity||this.integrity,f=t.transferCache??this.transferCache,p=t.timeout??this.timeout,g=t.body!==void 0?t.body:this.body,y=t.withCredentials??this.withCredentials,m=t.reportProgress??this.reportProgress,D=t.headers||this.headers,b=t.params||this.params,w=t.context??this.context;return t.setHeaders!==void 0&&(D=Object.keys(t.setHeaders).reduce((j,ve)=>j.set(ve,t.setHeaders[ve]),D)),t.setParams&&(b=Object.keys(t.setParams).reduce((j,ve)=>j.set(ve,t.setParams[ve]),b)),new e(n,r,g,{params:b,headers:D,context:w,reportProgress:m,responseType:o,withCredentials:y,transferCache:f,keepalive:i,cache:a,priority:s,timeout:p,mode:c,redirect:u,credentials:l,referrer:d,integrity:h})}},Ir=(function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e})(Ir||{}),Mo=class{headers;status;statusText;url;ok;type;redirected;constructor(t,n=200,r="OK"){this.headers=t.headers||new Un,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.redirected=t.redirected,this.ok=this.status>=200&&this.status<300}},du=class e extends Mo{constructor(t={}){super(t)}type=Ir.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},es=class e extends Mo{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Ir.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected})}},Ro=class extends Mo{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},fA=200,hA=204;function Zh(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,credentials:e.credentials,transferCache:e.transferCache,timeout:e.timeout,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect,integrity:e.integrity,referrer:e.referrer}}var TE=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,o={}){let i;if(n instanceof So)i=n;else{let c;o.headers instanceof Un?c=o.headers:c=new Un(o.headers);let u;o.params&&(o.params instanceof hn?u=o.params:u=new hn({fromObject:o.params})),i=new So(n,r,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache,keepalive:o.keepalive,priority:o.priority,cache:o.cache,mode:o.mode,redirect:o.redirect,credentials:o.credentials,referrer:o.referrer,integrity:o.integrity,timeout:o.timeout})}let s=R(i).pipe(Jt(c=>this.handler.handle(c)));if(n instanceof So||o.observe==="events")return s;let a=s.pipe(Ie(c=>c instanceof es));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(B(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new E(2806,!1);return c.body}));case"blob":return a.pipe(B(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new E(2807,!1);return c.body}));case"text":return a.pipe(B(c=>{if(c.body!==null&&typeof c.body!="string")throw new E(2808,!1);return c.body}));case"json":default:return a.pipe(B(c=>c.body))}case"response":return a;default:throw new E(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new hn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,Zh(o,r))}post(n,r,o={}){return this.request("POST",n,Zh(o,r))}put(n,r,o={}){return this.request("PUT",n,Zh(o,r))}static \u0275fac=function(r){return new(r||e)(A(Ao))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})();var pA=new T("");function gA(e,t){return t(e)}function mA(e,t,n){return(r,o)=>Ce(n,()=>t(r,i=>e(i,o)))}var SE=new T(""),RE=new T(""),AE=new T("",{providedIn:"root",factory:()=>!0});var fu=(()=>{class e extends Ao{backend;injector;chain=null;pendingTasks=v(Di);contributeToStability=v(AE);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(SE),...this.injector.get(RE,[])]));this.chain=r.reduceRight((o,i)=>mA(o,i,this.injector),gA)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(Qn(r))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(A(Xi),A(de))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})();var yA=/^\)\]\}',?\n/,vA=RegExp(`^${DE}:`,"m");function wA(e){return"responseURL"in e&&e.responseURL?e.responseURL:vA.test(e.getAllResponseHeaders())?e.getResponseHeader(DE):null}var Yh=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new E(-2800,!1);let r=this.xhrFactory;return R(null).pipe(Me(()=>new V(i=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((y,m)=>s.setRequestHeader(y,m.join(","))),n.headers.has(bE)||s.setRequestHeader(bE,dA),!n.headers.has(_E)){let y=n.detectContentTypeHeader();y!==null&&s.setRequestHeader(_E,y)}if(n.timeout&&(s.timeout=n.timeout),n.responseType){let y=n.responseType.toLowerCase();s.responseType=y!=="json"?y:"text"}let a=n.serializeBody(),c=null,u=()=>{if(c!==null)return c;let y=s.statusText||"OK",m=new Un(s.getAllResponseHeaders()),D=wA(s)||n.url;return c=new du({headers:m,status:s.status,statusText:y,url:D}),c},l=()=>{let{headers:y,status:m,statusText:D,url:b}=u(),w=null;m!==hA&&(w=typeof s.response>"u"?s.responseText:s.response),m===0&&(m=w?fA:0);let j=m>=200&&m<300;if(n.responseType==="json"&&typeof w=="string"){let ve=w;w=w.replace(yA,"");try{w=w!==""?JSON.parse(w):null}catch(K){w=ve,j&&(j=!1,w={error:K,text:w})}}j?(i.next(new es({body:w,headers:y,status:m,statusText:D,url:b||void 0})),i.complete()):i.error(new Ro({error:w,headers:y,status:m,statusText:D,url:b||void 0}))},d=y=>{let{url:m}=u(),D=new Ro({error:y,status:s.status||0,statusText:s.statusText||"Unknown Error",url:m||void 0});i.error(D)},h=d;n.timeout&&(h=y=>{let{url:m}=u(),D=new Ro({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:m||void 0});i.error(D)});let f=!1,p=y=>{f||(i.next(u()),f=!0);let m={type:Ir.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(m.total=y.total),n.responseType==="text"&&s.responseText&&(m.partialText=s.responseText),i.next(m)},g=y=>{let m={type:Ir.UploadProgress,loaded:y.loaded};y.lengthComputable&&(m.total=y.total),i.next(m)};return s.addEventListener("load",l),s.addEventListener("error",d),s.addEventListener("timeout",h),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",p),a!==null&&s.upload&&s.upload.addEventListener("progress",g)),s.send(a),i.next({type:Ir.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",l),s.removeEventListener("timeout",h),n.reportProgress&&(s.removeEventListener("progress",p),a!==null&&s.upload&&s.upload.removeEventListener("progress",g)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(A(Dr))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})(),ME=new T(""),EA="XSRF-TOKEN",_A=new T("",{providedIn:"root",factory:()=>EA}),bA="X-XSRF-TOKEN",DA=new T("",{providedIn:"root",factory:()=>bA}),ts=class{},IA=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ki(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)(A(ue),A(_A))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})(),CA=/^(?:https?:)?\/\//i;function TA(e,t){if(!v(ME)||e.method==="GET"||e.method==="HEAD"||CA.test(e.url))return t(e);let n=v(ts).getToken(),r=v(DA);return n!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,n)})),t(e)}function SA(...e){let t=[TE,Yh,fu,{provide:Ao,useExisting:fu},{provide:Xi,useFactory:()=>v(pA,{optional:!0})??v(Yh)},{provide:SE,useValue:TA,multi:!0},{provide:ME,useValue:!0},{provide:ts,useClass:IA}];for(let n of e)t.push(...n.\u0275providers);return At(t)}var NE=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(A(ue))};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var RA=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=A(AA),o},providedIn:"root"})}return e})(),AA=(()=>{class e extends RA{_doc;constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case wt.NONE:return r;case wt.HTML:return un(r,"HTML")?vt(r):xf(this._doc,String(r)).toString();case wt.STYLE:return un(r,"Style")?vt(r):r;case wt.SCRIPT:if(un(r,"Script"))return vt(r);throw new E(5200,!1);case wt.URL:return un(r,"URL")?vt(r):Li(String(r));case wt.RESOURCE_URL:if(un(r,"ResourceURL"))return vt(r);throw new E(5201,!1);default:throw new E(5202,!1)}}bypassSecurityTrustHtml(n){return Sf(n)}bypassSecurityTrustStyle(n){return Rf(n)}bypassSecurityTrustScript(n){return Af(n)}bypassSecurityTrustUrl(n){return Mf(n)}bypassSecurityTrustResourceUrl(n){return Nf(n)}static \u0275fac=function(r){return new(r||e)(A(ue))};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var F="primary",ms=Symbol("RouteTitle"),tp=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Sr(e){return new tp(e)}function UE(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=e[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function NA(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Ht(e[n],t[n]))return!1;return!0}function Ht(e,t){let n=e?np(e):void 0,r=t?np(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!$E(e[o],t[o]))return!1;return!0}function np(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function $E(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((o,i)=>r[i]===o)}else return e===t}function BE(e){return e.length>0?e[e.length-1]:null}function mn(e){return _l(e)?e:Do(e)?te(Promise.resolve(e)):R(e)}var xA={exact:HE,subset:zE},VE={exact:OA,subset:kA,ignored:()=>!0};function xE(e,t,n){return xA[n.paths](e.root,t.root,n.matrixParams)&&VE[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function OA(e,t){return Ht(e,t)}function HE(e,t,n){if(!Cr(e.segments,t.segments)||!gu(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!HE(e.children[r],t.children[r],n))return!1;return!0}function kA(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>$E(e[n],t[n]))}function zE(e,t,n){return qE(e,t,t.segments,n)}function qE(e,t,n,r){if(e.segments.length>n.length){let o=e.segments.slice(0,n.length);return!(!Cr(o,n)||t.hasChildren()||!gu(o,n,r))}else if(e.segments.length===n.length){if(!Cr(e.segments,n)||!gu(e.segments,n,r))return!1;for(let o in t.children)if(!e.children[o]||!zE(e.children[o],t.children[o],r))return!1;return!0}else{let o=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!Cr(e.segments,o)||!gu(e.segments,o,r)||!e.children[F]?!1:qE(e.children[F],t,i,r)}}function gu(e,t,n){return t.every((r,o)=>VE[n](e[o].parameters,r.parameters))}var qt=class{root;queryParams;fragment;_queryParamMap;constructor(t=new z([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Sr(this.queryParams),this._queryParamMap}toString(){return FA.serialize(this)}},z=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mu(this)}},$n=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Sr(this.parameters),this._parameterMap}toString(){return WE(this)}};function PA(e,t){return Cr(e,t)&&e.every((n,r)=>Ht(n.parameters,t[r].parameters))}function Cr(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function LA(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===F&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==F&&(n=n.concat(t(o,r)))}),n}var ys=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>new Rr,providedIn:"root"})}return e})(),Rr=class{parse(t){let n=new op(t);return new qt(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${ns(t.root,!0)}`,r=$A(t.queryParams),o=typeof t.fragment=="string"?`#${jA(t.fragment)}`:"";return`${n}${r}${o}`}},FA=new Rr;function mu(e){return e.segments.map(t=>WE(t)).join("/")}function ns(e,t){if(!e.hasChildren())return mu(e);if(t){let n=e.children[F]?ns(e.children[F],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==F&&r.push(`${o}:${ns(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=LA(e,(r,o)=>o===F?[ns(e.children[F],!1)]:[`${o}:${ns(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[F]!=null?`${mu(e)}/${n[0]}`:`${mu(e)}/(${n.join("//")})`}}function GE(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hu(e){return GE(e).replace(/%3B/gi,";")}function jA(e){return encodeURI(e)}function rp(e){return GE(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yu(e){return decodeURIComponent(e)}function OE(e){return yu(e.replace(/\+/g,"%20"))}function WE(e){return`${rp(e.path)}${UA(e.parameters)}`}function UA(e){return Object.entries(e).map(([t,n])=>`;${rp(t)}=${rp(n)}`).join("")}function $A(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${hu(n)}=${hu(o)}`).join("&"):`${hu(n)}=${hu(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var BA=/^[^\/()?;#]+/;function Jh(e){let t=e.match(BA);return t?t[0]:""}var VA=/^[^\/()?;=#]+/;function HA(e){let t=e.match(VA);return t?t[0]:""}var zA=/^[^=?&#]+/;function qA(e){let t=e.match(zA);return t?t[0]:""}var GA=/^[^&#]+/;function WA(e){let t=e.match(GA);return t?t[0]:""}var op=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new z([],{}):new z([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[F]=new z(t,n)),r}parseSegment(){let t=Jh(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new E(4009,!1);return this.capture(t),new $n(yu(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=HA(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Jh(this.remaining);o&&(r=o,this.capture(r))}t[yu(n)]=yu(r)}parseQueryParam(t){let n=qA(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=WA(this.remaining);s&&(r=s,this.capture(r))}let o=OE(n),i=OE(r);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Jh(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new E(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=F);let s=this.parseChildren();n[i??F]=Object.keys(s).length===1&&s[F]?s[F]:new z([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new E(4011,!1)}};function KE(e){return e.segments.length>0?new z([],{[F]:e}):e}function ZE(e){let t={};for(let[r,o]of Object.entries(e.children)){let i=ZE(o);if(r===F&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[r]=i)}let n=new z(e.segments,t);return KA(n)}function KA(e){if(e.numberOfChildren===1&&e.children[F]){let t=e.children[F];return new z(e.segments.concat(t.segments),t.children)}return e}function Bn(e){return e instanceof qt}function YE(e,t,n=null,r=null){let o=JE(e);return QE(o,t,n,r)}function JE(e){let t;function n(i){let s={};for(let c of i.children){let u=n(c);s[c.outlet]=u}let a=new z(i.url,s);return i===e&&(t=a),a}let r=n(e.root),o=KE(r);return t??o}function QE(e,t,n,r){let o=e;for(;o.parent;)o=o.parent;if(t.length===0)return Qh(o,o,o,n,r);let i=ZA(t);if(i.toRoot())return Qh(o,o,new z([],{}),n,r);let s=YA(i,o,e),a=s.processChildren?os(s.segmentGroup,s.index,i.commands):e_(s.segmentGroup,s.index,i.commands);return Qh(o,s.segmentGroup,a,n,r)}function vu(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function as(e){return typeof e=="object"&&e!=null&&e.outlets}function Qh(e,t,n,r,o){let i={};r&&Object.entries(r).forEach(([c,u])=>{i[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let s;e===t?s=n:s=XE(e,t,n);let a=KE(ZE(s));return new qt(a,i,o)}function XE(e,t,n){let r={};return Object.entries(e.children).forEach(([o,i])=>{i===t?r[o]=n:r[o]=XE(i,t,n)}),new z(e.segments,r)}var wu=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&vu(r[0]))throw new E(4003,!1);let o=r.find(as);if(o&&o!==BE(r))throw new E(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function ZA(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new wu(!0,0,e);let t=0,n=!1,r=e.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new wu(n,t,r)}var Oo=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function YA(e,t,n){if(e.isAbsolute)return new Oo(t,!0,0);if(!n)return new Oo(t,!1,NaN);if(n.parent===null)return new Oo(n,!0,0);let r=vu(e.commands[0])?0:1,o=n.segments.length-1+r;return JA(n,o,e.numberOfDoubleDots)}function JA(e,t,n){let r=e,o=t,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new E(4005,!1);o=r.segments.length}return new Oo(r,!1,o-i)}function QA(e){return as(e[0])?e[0].outlets:{[F]:e}}function e_(e,t,n){if(e??=new z([],{}),e.segments.length===0&&e.hasChildren())return os(e,t,n);let r=XA(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let i=new z(e.segments.slice(0,r.pathIndex),{});return i.children[F]=new z(e.segments.slice(r.pathIndex),e.children),os(i,0,o)}else return r.match&&o.length===0?new z(e.segments,{}):r.match&&!e.hasChildren()?ip(e,t,n):r.match?os(e,0,o):ip(e,t,n)}function os(e,t,n){if(n.length===0)return new z(e.segments,{});{let r=QA(n),o={};if(Object.keys(r).some(i=>i!==F)&&e.children[F]&&e.numberOfChildren===1&&e.children[F].segments.length===0){let i=os(e.children[F],t,n);return new z(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=e_(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new z(e.segments,o)}}function XA(e,t,n){let r=0,o=t,i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return i;let s=e.segments[o],a=n[r];if(as(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(o>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!PE(c,u,s))return i;r+=2}else{if(!PE(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function ip(e,t,n){let r=e.segments.slice(0,t),o=0;for(;o<n.length;){let i=n[o];if(as(i)){let c=eM(i.outlets);return new z(r,c)}if(o===0&&vu(n[0])){let c=e.segments[t];r.push(new $n(c.path,kE(n[0]))),o++;continue}let s=as(i)?i.outlets[F]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&vu(a)?(r.push(new $n(s,kE(a))),o+=2):(r.push(new $n(s,{})),o++)}return new z(r,{})}function eM(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=ip(new z([],{}),0,r))}),t}function kE(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function PE(e,t,n){return e==n.path&&Ht(t,n.parameters)}var is="imperative",_e=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})(_e||{}),Je=class{id;url;constructor(t,n){this.id=t,this.url=n}},Ar=class extends Je{type=_e.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",o=null){super(t,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Dt=class extends Je{urlAfterRedirects;type=_e.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ve=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})(Ve||{}),cs=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})(cs||{}),zt=class extends Je{reason;code;type=_e.NavigationCancel;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},pn=class extends Je{reason;code;type=_e.NavigationSkipped;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}},Po=class extends Je{error;target;type=_e.NavigationError;constructor(t,n,r,o){super(t,n),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},us=class extends Je{urlAfterRedirects;state;type=_e.RoutesRecognized;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Eu=class extends Je{urlAfterRedirects;state;type=_e.GuardsCheckStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_u=class extends Je{urlAfterRedirects;state;shouldActivate;type=_e.GuardsCheckEnd;constructor(t,n,r,o,i){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},bu=class extends Je{urlAfterRedirects;state;type=_e.ResolveStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Du=class extends Je{urlAfterRedirects;state;type=_e.ResolveEnd;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Iu=class{route;type=_e.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Cu=class{route;type=_e.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Tu=class{snapshot;type=_e.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Su=class{snapshot;type=_e.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ru=class{snapshot;type=_e.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Au=class{snapshot;type=_e.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ls=class{},Lo=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function tM(e){return!(e instanceof ls)&&!(e instanceof Lo)}function nM(e,t){return e.providers&&!e._injector&&(e._injector=Ui(e.providers,t,`Route: ${e.path}`)),e._injector??t}function bt(e){return e.outlet||F}function rM(e,t){let n=e.filter(r=>bt(r)===t);return n.push(...e.filter(r=>bt(r)!==t)),n}function Uo(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Mu=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Uo(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new $o(this.rootInjector)}},$o=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Mu(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(A(de))};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Nu=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=sp(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=sp(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=ap(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return ap(t,this._root).map(n=>n.value)}};function sp(e,t){if(e===t.value)return t;for(let n of t.children){let r=sp(e,n);if(r)return r}return null}function ap(e,t){if(e===t.value)return[t];for(let n of t.children){let r=ap(e,n);if(r.length)return r.unshift(t),r}return[]}var Ye=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function xo(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var ds=class extends Nu{snapshot;constructor(t,n){super(t),this.snapshot=n,gp(this,t)}toString(){return this.snapshot.toString()}};function t_(e){let t=oM(e),n=new De([new $n("",{})]),r=new De({}),o=new De({}),i=new De({}),s=new De(""),a=new gn(n,r,i,s,o,F,e,t.root);return a.snapshot=t.root,new ds(new Ye(a,[]),t)}function oM(e){let t={},n={},r={},i=new Tr([],t,r,"",n,F,e,null,{});return new fs("",new Ye(i,[]))}var gn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,o,i,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(B(u=>u[ms]))??R(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(B(t=>Sr(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(B(t=>Sr(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function xu(e,t,n="emptyOnly"){let r,{routeConfig:o}=e;return t!==null&&(n==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:_(_({},t.params),e.params),data:_(_({},t.data),e.data),resolve:_(_(_(_({},e.data),t.data),o?.data),e._resolvedData)}:r={params:_({},e.params),data:_({},e.data),resolve:_(_({},e.data),e._resolvedData??{})},o&&r_(o)&&(r.resolve[ms]=o.title),r}var Tr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ms]}constructor(t,n,r,o,i,s,a,c,u){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Sr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Sr(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},fs=class extends Nu{url;constructor(t,n){super(n),this.url=t,gp(this,n)}toString(){return n_(this._root)}};function gp(e,t){t.value._routerState=e,t.children.forEach(n=>gp(e,n))}function n_(e){let t=e.children.length>0?` { ${e.children.map(n_).join(", ")} } `:"";return`${e.value}${t}`}function Xh(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Ht(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Ht(t.params,n.params)||e.paramsSubject.next(n.params),NA(t.url,n.url)||e.urlSubject.next(n.url),Ht(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function cp(e,t){let n=Ht(e.params,t.params)&&PA(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||cp(e.parent,t.parent))}function r_(e){return typeof e.title=="string"||e.title===null}var o_=new T(""),mp=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=F;activateEvents=new ke;deactivateEvents=new ke;attachEvents=new ke;detachEvents=new ke;routerOutletData=xw();parentContexts=v($o);location=v(Ut);changeDetector=v(Vi);inputBinder=v(Lu,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new E(4013,!1);this._activatedRoute=n;let o=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new up(n,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Et({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[kn]})}return e})(),up=class{route;childContexts;parent;outletData;constructor(t,n,r,o){this.route=t,this.childContexts=n,this.parent=r,this.outletData=o}get(t,n){return t===gn?this.route:t===$o?this.childContexts:t===o_?this.outletData:this.parent.get(t,n)}},Lu=new T("");var yp=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=ih({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&Hc(0,"router-outlet")},dependencies:[mp],encapsulation:2})}return e})();function vp(e){let t=e.children&&e.children.map(vp),n=t?H(_({},e),{children:t}):_({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==F&&(n.component=yp),n}function iM(e,t,n){let r=hs(e,t._root,n?n._root:void 0);return new ds(r,t)}function hs(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let o=sM(e,t,n);return new Ye(r,o)}else{if(e.shouldAttach(t.value)){let i=e.retrieve(t.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>hs(e,a)),s}}let r=aM(t.value),o=t.children.map(i=>hs(e,i));return new Ye(r,o)}}function sM(e,t,n){return t.children.map(r=>{for(let o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return hs(e,r,o);return hs(e,r)})}function aM(e){return new gn(new De(e.url),new De(e.params),new De(e.queryParams),new De(e.fragment),new De(e.data),e.outlet,e.component,e)}var Fo=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},i_="ngNavigationCancelingError";function Ou(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Bn(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=s_(!1,Ve.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function s_(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[i_]=!0,n.cancellationCode=t,n}function cM(e){return a_(e)&&Bn(e.url)}function a_(e){return!!e&&e[i_]}var uM=(e,t,n,r)=>B(o=>(new lp(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)),lp=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,o,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Xh(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let o=xo(n);t.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=xo(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=xo(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let o=xo(n);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new Au(i.value.snapshot))}),t.children.length&&this.forwardEvent(new Su(t.value.snapshot))}activateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(Xh(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Xh(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},ku=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},ko=class{component;route;constructor(t,n){this.component=t,this.route=n}};function lM(e,t,n){let r=e._root,o=t?t._root:null;return rs(r,o,n,[r.value])}function dM(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Bo(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!Gl(e)?e:t.get(e):r}function rs(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=xo(t);return e.children.forEach(s=>{fM(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>ss(a,n.getContext(s),o)),o}function fM(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=hM(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new ku(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?rs(e,t,a?a.children:null,r,o):rs(e,t,n,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new ko(a.outlet.component,s))}else s&&ss(t,a,o),o.canActivateChecks.push(new ku(r)),i.component?rs(e,null,a?a.children:null,r,o):rs(e,null,n,r,o);return o}function hM(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Cr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Cr(e.url,t.url)||!Ht(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cp(e,t)||!Ht(e.queryParams,t.queryParams);case"paramsChange":default:return!cp(e,t)}}function ss(e,t,n){let r=xo(e),o=e.value;Object.entries(r).forEach(([i,s])=>{o.component?t?ss(s,t.children.getContext(i),n):ss(s,null,n):ss(s,t,n)}),o.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new ko(t.outlet.component,o)):n.canDeactivateChecks.push(new ko(null,o)):n.canDeactivateChecks.push(new ko(null,o))}function vs(e){return typeof e=="function"}function pM(e){return typeof e=="boolean"}function gM(e){return e&&vs(e.canLoad)}function mM(e){return e&&vs(e.canActivate)}function yM(e){return e&&vs(e.canActivateChild)}function vM(e){return e&&vs(e.canDeactivate)}function wM(e){return e&&vs(e.canMatch)}function c_(e){return e instanceof Zt||e?.name==="EmptyError"}var pu=Symbol("INITIAL_VALUE");function jo(){return Me(e=>ga(e.map(t=>t.pipe(Qt(1),Tl(pu)))).pipe(B(t=>{for(let n of t)if(n!==!0){if(n===pu)return pu;if(n===!1||EM(n))return n}return!0}),Ie(t=>t!==pu),Qt(1)))}function EM(e){return Bn(e)||e instanceof Fo}function _M(e,t){return le(n=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return s.length===0&&i.length===0?R(H(_({},n),{guardsResult:!0})):bM(s,r,o,e).pipe(le(a=>a&&pM(a)?DM(r,i,e,t):R(a)),B(a=>H(_({},n),{guardsResult:a})))})}function bM(e,t,n,r){return te(e).pipe(le(o=>RM(o.component,o.route,n,t,r)),Xt(o=>o!==!0,!0))}function DM(e,t,n,r){return te(t).pipe(Jt(o=>Yr(CM(o.route.parent,r),IM(o.route,r),SM(e,o.path,n),TM(e,o.route,n))),Xt(o=>o!==!0,!0))}function IM(e,t){return e!==null&&t&&t(new Ru(e)),R(!0)}function CM(e,t){return e!==null&&t&&t(new Tu(e)),R(!0)}function TM(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return R(!0);let o=r.map(i=>oi(()=>{let s=Uo(t)??n,a=Bo(i,s),c=mM(a)?a.canActivate(t,e):Ce(s,()=>a(t,e));return mn(c).pipe(Xt())}));return R(o).pipe(jo())}function SM(e,t,n){let r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>dM(s)).filter(s=>s!==null).map(s=>oi(()=>{let a=s.guards.map(c=>{let u=Uo(s.node)??n,l=Bo(c,u),d=yM(l)?l.canActivateChild(r,e):Ce(u,()=>l(r,e));return mn(d).pipe(Xt())});return R(a).pipe(jo())}));return R(i).pipe(jo())}function RM(e,t,n,r,o){let i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!i||i.length===0)return R(!0);let s=i.map(a=>{let c=Uo(t)??o,u=Bo(a,c),l=vM(u)?u.canDeactivate(e,t,n,r):Ce(c,()=>u(e,t,n,r));return mn(l).pipe(Xt())});return R(s).pipe(jo())}function AM(e,t,n,r){let o=t.canLoad;if(o===void 0||o.length===0)return R(!0);let i=o.map(s=>{let a=Bo(s,e),c=gM(a)?a.canLoad(t,n):Ce(e,()=>a(t,n));return mn(c)});return R(i).pipe(jo(),u_(r))}function u_(e){return vl(we(t=>{if(typeof t!="boolean")throw Ou(e,t)}),B(t=>t===!0))}function MM(e,t,n,r){let o=t.canMatch;if(!o||o.length===0)return R(!0);let i=o.map(s=>{let a=Bo(s,e),c=wM(a)?a.canMatch(t,n):Ce(e,()=>a(t,n));return mn(c)});return R(i).pipe(jo(),u_(r))}var ps=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},gs=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function No(e){return Zr(new ps(e))}function NM(e){return Zr(new E(4e3,!1))}function xM(e){return Zr(s_(!1,Ve.GuardRejected))}var dp=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return R(r);if(o.numberOfChildren>1||!o.children[F])return NM(`${t.redirectTo}`);o=o.children[F]}}applyRedirectCommands(t,n,r,o,i){return OM(n,o,i).pipe(B(s=>{if(s instanceof qt)throw new gs(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if(s[0]==="/")throw new gs(a);return a}))}applyRedirectCreateUrlTree(t,n,r,o){let i=this.createSegmentGroup(t,n.root,r,o);return new qt(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(t,n,r,o){let i=this.createSegments(t,n.segments,r,o),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,o)}),new z(i,s)}createSegments(t,n,r,o){return n.map(i=>i.path[0]===":"?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,n,r){let o=r[n.path.substring(1)];if(!o)throw new E(4001,!1);return o}findOrReturn(t,n){let r=0;for(let o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}};function OM(e,t,n){if(typeof e=="string")return R(e);let r=e,{queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,params:u,data:l,title:d}=t;return mn(Ce(n,()=>r({params:u,data:l,queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,title:d})))}var fp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kM(e,t,n,r,o){let i=l_(e,t,n);return i.matched?(r=nM(t,r),MM(r,t,n,o).pipe(B(s=>s===!0?i:_({},fp)))):R(i)}function l_(e,t,n){if(t.path==="**")return PM(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?_({},fp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(t.matcher||UE)(n,e,t);if(!o)return _({},fp);let i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});let s=o.consumed.length>0?_(_({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function PM(e){return{matched:!0,parameters:e.length>0?BE(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function LE(e,t,n,r){return n.length>0&&jM(e,n,r)?{segmentGroup:new z(t,FM(r,new z(n,e.children))),slicedSegments:[]}:n.length===0&&UM(e,n,r)?{segmentGroup:new z(e.segments,LM(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new z(e.segments,e.children),slicedSegments:n}}function LM(e,t,n,r){let o={};for(let i of n)if(Fu(e,t,i)&&!r[bt(i)]){let s=new z([],{});o[bt(i)]=s}return _(_({},r),o)}function FM(e,t){let n={};n[F]=t;for(let r of e)if(r.path===""&&bt(r)!==F){let o=new z([],{});n[bt(r)]=o}return n}function jM(e,t,n){return n.some(r=>Fu(e,t,r)&&bt(r)!==F)}function UM(e,t,n){return n.some(r=>Fu(e,t,r))}function Fu(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function $M(e,t,n){return t.length===0&&!e.children[n]}var hp=class{};function BM(e,t,n,r,o,i,s="emptyOnly"){return new pp(e,t,n,r,o,s,i).recognize()}var VM=31,pp=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,o,i,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new dp(this.urlSerializer,this.urlTree)}noMatchError(t){return new E(4002,`'${t.segmentGroup}'`)}recognize(){let t=LE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(B(({children:n,rootSnapshot:r})=>{let o=new Ye(r,n),i=new fs("",o),s=YE(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(t){let n=new Tr([],Object.freeze({}),Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),F,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,F,n).pipe(B(r=>({children:r,rootSnapshot:n})),Yt(r=>{if(r instanceof gs)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ps?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,i):this.processSegment(t,n,r,r.segments,o,!0,i).pipe(B(s=>s instanceof Ye?[s]:[]))}processChildren(t,n,r,o){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return te(i).pipe(Jt(s=>{let a=r.children[s],c=rM(n,s);return this.processSegmentGroup(t,c,a,s,o)}),Dl((s,a)=>(s.push(...a),s)),_n(null),bl(),le(s=>{if(s===null)return No(r);let a=d_(s);return HM(a),R(a)}))}processSegment(t,n,r,o,i,s,a){return te(n).pipe(Jt(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,o,i,s,a).pipe(Yt(u=>{if(u instanceof ps)return R(null);throw u}))),Xt(c=>!!c),Yt(c=>{if(c_(c))return $M(r,o,i)?R(new hp):No(r);throw c}))}processSegmentAgainstRoute(t,n,r,o,i,s,a,c){return bt(r)!==s&&(s===F||!Fu(o,i,r))?No(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,o,r,i,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,i,s,c):No(o)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s,a){let{matched:c,parameters:u,consumedSegments:l,positionalParamSegments:d,remainingSegments:h}=l_(n,o,i);if(!c)return No(n);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>VM&&(this.allowRedirects=!1));let f=new Tr(i,u,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,FE(o),bt(o),o.component??o._loadedComponent??null,o,jE(o)),p=xu(f,a,this.paramsInheritanceStrategy);return f.params=Object.freeze(p.params),f.data=Object.freeze(p.data),this.applyRedirects.applyRedirectCommands(l,o.redirectTo,d,f,t).pipe(Me(y=>this.applyRedirects.lineralizeSegments(o,y)),le(y=>this.processSegment(t,r,n,y.concat(h),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,o,i,s){let a=kM(n,r,o,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Me(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,o).pipe(Me(({routes:u})=>{let l=r._loadedInjector??t,{parameters:d,consumedSegments:h,remainingSegments:f}=c,p=new Tr(h,d,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,FE(r),bt(r),r.component??r._loadedComponent??null,r,jE(r)),g=xu(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(g.params),p.data=Object.freeze(g.data);let{segmentGroup:y,slicedSegments:m}=LE(n,h,f,u);if(m.length===0&&y.hasChildren())return this.processChildren(l,u,y,p).pipe(B(b=>new Ye(p,b)));if(u.length===0&&m.length===0)return R(new Ye(p,[]));let D=bt(r)===i;return this.processSegment(l,u,y,m,D?F:i,!0,p).pipe(B(b=>new Ye(p,b instanceof Ye?[b]:[])))}))):No(n)))}getChildConfig(t,n,r){return n.children?R({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?R({routes:n._loadedRoutes,injector:n._loadedInjector}):AM(t,n,r,this.urlSerializer).pipe(le(o=>o?this.configLoader.loadChildren(t,n).pipe(we(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):xM(n))):R({routes:[],injector:t})}};function HM(e){e.sort((t,n)=>t.value.outlet===F?-1:n.value.outlet===F?1:t.value.outlet.localeCompare(n.value.outlet))}function zM(e){let t=e.value.routeConfig;return t&&t.path===""}function d_(e){let t=[],n=new Set;for(let r of e){if(!zM(r)){t.push(r);continue}let o=t.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),n.add(o)):t.push(r)}for(let r of n){let o=d_(r.children);t.push(new Ye(r.value,o))}return t.filter(r=>!n.has(r))}function FE(e){return e.data||{}}function jE(e){return e.resolve||{}}function qM(e,t,n,r,o,i){return le(s=>BM(e,t,n,r,s.extractedUrl,o,i).pipe(B(({state:a,tree:c})=>H(_({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function GM(e,t){return le(n=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return R(n);let i=new Set(o.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let u of f_(c))s.add(u);let a=0;return te(s).pipe(Jt(c=>i.has(c)?WM(c,r,e,t):(c.data=xu(c,c.parent,e).resolve,R(void 0))),we(()=>a++),Jr(1),le(c=>a===s.size?R(n):Ae))})}function f_(e){let t=e.children.map(n=>f_(n)).flat();return[e,...t]}function WM(e,t,n,r){let o=e.routeConfig,i=e._resolve;return o?.title!==void 0&&!r_(o)&&(i[ms]=o.title),oi(()=>(e.data=xu(e,e.parent,n).resolve,KM(i,e,t,r).pipe(B(s=>(e._resolvedData=s,e.data=_(_({},e.data),s),null)))))}function KM(e,t,n,r){let o=np(e);if(o.length===0)return R({});let i={};return te(o).pipe(le(s=>ZM(e[s],t,n,r).pipe(Xt(),we(a=>{if(a instanceof Fo)throw Ou(new Rr,a);i[s]=a}))),Jr(1),B(()=>i),Yt(s=>c_(s)?Ae:Zr(s)))}function ZM(e,t,n,r){let o=Uo(t)??r,i=Bo(e,o),s=i.resolve?i.resolve(t,n):Ce(o,()=>i(t,n));return mn(s)}function ep(e){return Me(t=>{let n=e(t);return n?te(n).pipe(B(()=>t)):R(t)})}var wp=(()=>{class e{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===F);return r}getResolvedTitleForRoute(n){return n.data[ms]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>v(h_),providedIn:"root"})}return e})(),h_=(()=>{class e extends wp{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(A(NE))};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Vo=new T("",{providedIn:"root",factory:()=>({})}),ws=new T(""),p_=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=v(wh);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return R(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=mn(Ce(n,()=>r.loadComponent())).pipe(B(m_),Me(y_),we(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Qn(()=>{this.componentLoaders.delete(r)})),i=new Wr(o,()=>new ee).pipe(Gr());return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return R({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=g_(r,this.compiler,n,this.onLoadEndListener).pipe(Qn(()=>{this.childrenLoaders.delete(r)})),s=new Wr(i,()=>new ee).pipe(Gr());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function g_(e,t,n,r){return mn(Ce(n,()=>e.loadChildren())).pipe(B(m_),Me(y_),le(o=>o instanceof jc||Array.isArray(o)?R(o):te(t.compileModuleAsync(o))),B(o=>{r&&r(e);let i,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(i=o.create(n).injector,s=i.get(ws,[],{optional:!0,self:!0}).flat()),{routes:s.map(vp),injector:i}}))}function YM(e){return e&&typeof e=="object"&&"default"in e}function m_(e){return YM(e)?e.default:e}function y_(e){return R(e)}var ju=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>v(JM),providedIn:"root"})}return e})(),JM=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),v_=new T("");var w_=new T(""),E_=(()=>{class e{currentNavigation=gt(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new ee;transitionAbortWithErrorSubject=new ee;configLoader=v(p_);environmentInjector=v(de);destroyRef=v(ot);urlSerializer=v(ys);rootContexts=v($o);location=v(To);inputBindingEnabled=v(Lu,{optional:!0})!==null;titleStrategy=v(wp);options=v(Vo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=v(ju);createViewTransition=v(v_,{optional:!0});navigationErrorHandler=v(w_,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>R(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=o=>this.events.next(new Iu(o)),r=o=>this.events.next(new Cu(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;$t(()=>{this.transitions?.next(H(_({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(n){return this.transitions=new De(null),this.transitions.pipe(Ie(r=>r!==null),Me(r=>{let o=!1;return R(r).pipe(Me(i=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ve.SupersededByNewNavigation),Ae;this.currentTransition=r,this.currentNavigation.set({id:i.id,initialUrl:i.rawUrl,extractedUrl:i.extractedUrl,targetBrowserUrl:typeof i.extras.browserUrl=="string"?this.urlSerializer.parse(i.extras.browserUrl):i.extras.browserUrl,trigger:i.source,extras:i.extras,previousNavigation:this.lastSuccessfulNavigation?H(_({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>i.abortController.abort()});let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=i.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new pn(i.id,this.urlSerializer.serialize(i.rawUrl),"",cs.IgnoredSameUrlNavigation)),i.resolve(!1),Ae;if(this.urlHandlingStrategy.shouldProcessUrl(i.rawUrl))return R(i).pipe(Me(c=>(this.events.next(new Ar(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Ae:Promise.resolve(c))),qM(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),we(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(l=>(l.finalUrl=c.urlAfterRedirects,l));let u=new us(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(i.currentRawUrl)){let{id:c,extractedUrl:u,source:l,restoredState:d,extras:h}=i,f=new Ar(c,this.urlSerializer.serialize(u),l,d);this.events.next(f);let p=t_(this.rootComponentType).snapshot;return this.currentTransition=r=H(_({},i),{targetSnapshot:p,urlAfterRedirects:u,extras:H(_({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(g=>(g.finalUrl=u,g)),R(r)}else return this.events.next(new pn(i.id,this.urlSerializer.serialize(i.extractedUrl),"",cs.IgnoredByUrlHandlingStrategy)),i.resolve(!1),Ae}),we(i=>{let s=new Eu(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(s)}),B(i=>(this.currentTransition=r=H(_({},i),{guards:lM(i.targetSnapshot,i.currentSnapshot,this.rootContexts)}),r)),_M(this.environmentInjector,i=>this.events.next(i)),we(i=>{if(r.guardsResult=i.guardsResult,i.guardsResult&&typeof i.guardsResult!="boolean")throw Ou(this.urlSerializer,i.guardsResult);let s=new _u(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot,!!i.guardsResult);this.events.next(s)}),Ie(i=>i.guardsResult?!0:(this.cancelNavigationTransition(i,"",Ve.GuardRejected),!1)),ep(i=>{if(i.guards.canActivateChecks.length!==0)return R(i).pipe(we(s=>{let a=new bu(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Me(s=>{let a=!1;return R(s).pipe(GM(this.paramsInheritanceStrategy,this.environmentInjector),we({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Ve.NoDataFromResolver)}}))}),we(s=>{let a=new Du(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),ep(i=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent){let u=Uo(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(u,a.routeConfig).pipe(we(l=>{a.component=l}),B(()=>{})))}for(let u of a.children)c.push(...s(u));return c};return ga(s(i.targetSnapshot.root)).pipe(_n(null),Qt(1))}),ep(()=>this.afterPreactivation()),Me(()=>{let{currentSnapshot:i,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,i.root,s.root);return a?te(a).pipe(B(()=>r)):R(r)}),B(i=>{let s=iM(n.routeReuseStrategy,i.targetSnapshot,i.currentRouterState);return this.currentTransition=r=H(_({},i),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),we(()=>{this.events.next(new ls)}),uM(this.rootContexts,n.routeReuseStrategy,i=>this.events.next(i),this.inputBindingEnabled),Qt(1),ya(new V(i=>{let s=r.abortController.signal,a=()=>i.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Ie(()=>!o&&!r.targetRouterState),we(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Ve.Aborted)}))),we({next:i=>{o=!0,this.lastSuccessfulNavigation=$t(this.currentNavigation),this.events.next(new Dt(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects))),this.titleStrategy?.updateTitle(i.targetRouterState.snapshot),i.resolve(!0)},complete:()=>{o=!0}}),ya(this.transitionAbortWithErrorSubject.pipe(we(i=>{throw i}))),Qn(()=>{o||this.cancelNavigationTransition(r,"",Ve.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Yt(i=>{if(this.destroyed)return r.resolve(!1),Ae;if(o=!0,a_(i))this.events.next(new zt(r.id,this.urlSerializer.serialize(r.extractedUrl),i.message,i.cancellationCode)),cM(i)?this.events.next(new Lo(i.url,i.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Po(r.id,this.urlSerializer.serialize(r.extractedUrl),i,r.targetSnapshot??void 0);try{let a=Ce(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Fo){let{message:c,cancellationCode:u}=Ou(this.urlSerializer,a);this.events.next(new zt(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new Lo(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),i}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Ae}))}))}cancelNavigationTransition(n,r,o){let i=new zt(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=$t(this.currentNavigation),o=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==o?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function QM(e){return e!==is}var __=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>v(XM),providedIn:"root"})}return e})(),Pu=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},XM=(()=>{class e extends Pu{static \u0275fac=(()=>{let n;return function(o){return(n||(n=Cc(e)))(o||e)}})();static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),b_=(()=>{class e{urlSerializer=v(ys);options=v(Vo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=v(To);urlHandlingStrategy=v(ju);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new qt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:o}){let i=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=o??i;return s instanceof qt?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:o}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=n):this.rawUrlTree=o}routerState=t_(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>v(eN),providedIn:"root"})}return e})(),eN=(()=>{class e extends b_{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Ar?this.updateStateMemento():n instanceof pn?this.commitTransition(r):n instanceof us?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof ls?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof zt&&n.code!==Ve.SupersededByNewNavigation&&n.code!==Ve.Redirect?this.restoreHistory(r):n instanceof Po?this.restoreHistory(r,!0):n instanceof Dt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||i){let a=this.browserPageId,c=_(_({},s),this.generateNgRouterState(o,a));this.location.replaceState(n,"",c)}else{let a=_(_({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===n.finalUrl&&i===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Cc(e)))(o||e)}})();static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ep(e,t){e.events.pipe(Ie(n=>n instanceof Dt||n instanceof zt||n instanceof Po||n instanceof pn),B(n=>n instanceof Dt||n instanceof pn?0:(n instanceof zt?n.code===Ve.Redirect||n.code===Ve.SupersededByNewNavigation:!1)?2:1),Ie(n=>n!==2),Qt(1)).subscribe(()=>{t()})}var tN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Vn=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=v($c);stateManager=v(b_);options=v(Vo,{optional:!0})||{};pendingTasks=v(kt);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=v(E_);urlSerializer=v(ys);location=v(To);urlHandlingStrategy=v(ju);injector=v(de);_events=new ee;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=v(__);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=v(ws,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!v(Lu,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ie;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=$t(this.navigationTransitions.currentNavigation);if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof zt&&r.code!==Ve.Redirect&&r.code!==Ve.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Dt)this.navigated=!0;else if(r instanceof Lo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=_({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||QM(o.source)},s);this.scheduleNavigation(a,is,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}tM(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),is,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,o)=>{this.navigateToSyncWithBrowser(n,o,r)})}navigateToSyncWithBrowser(n,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=_({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,i).catch(c=>{this.disposed||this.injector.get($e)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return $t(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(vp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,l=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":l=_(_({},this.currentUrlTree.queryParams),i);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}l!==null&&(l=this.removeEmptyProps(l));let d;try{let h=o?o.snapshot:this.routerState.snapshot.root;d=JE(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return QE(d,n,l,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=Bn(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,is,null,r)}navigate(n,r={skipLocationChange:!1}){return rN(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(nn(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=_({},tN):r===!1?o=_({},nN):o=r,Bn(n))return xE(this.currentUrlTree,n,o);let i=this.parseUrl(n);return xE(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((d,h)=>{a=d,c=h});let l=this.pendingTasks.add();return Ep(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function rN(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new E(4008,!1)}var Uu=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=gt(null);get href(){return $t(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ee;applicationErrorHandler=v($e);options=v(Vo,{optional:!0});constructor(n,r,o,i,s,a){this.router=n,this.route=r,this.tabIndexAttribute=o,this.renderer=i,this.el=s,this.locationStrategy=a,this.reactiveHref.set(v(new Gc("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=o=>o==="merge"||o==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(o=>{o instanceof Dt&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Bn(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,o,i,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||o||i||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let o=this.renderer,i=this.el.nativeElement;r!==null?o.setAttribute(i,n,r):o.removeAttribute(i,n)}get urlTree(){return this.routerLinkInput===null?null:Bn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(W(Vn),W(gn),ki("tabindex"),W(_o),W(jt),W(Co))};static \u0275dir=Et({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,o){r&1&&zc("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Vc("href",o.reactiveHref(),Of)("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Kc],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Kc],replaceUrl:[2,"replaceUrl","replaceUrl",Kc],routerLink:"routerLink"},features:[kn]})}return e})(),iN=(()=>{class e{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new ke;constructor(n,r,o,i,s){this.router=n,this.element=r,this.renderer=o,this.cdr=i,this.link=s,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof Dt&&this.update()})}ngAfterContentInit(){R(this.links.changes,R(null)).pipe(En()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=te(n).pipe(En()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=sN(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let i=o.urlTree;return i?n.isActive(i,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(r){return new(r||e)(W(Vn),W(jt),W(_o),W(Vi),W(Uu,8))};static \u0275dir=Et({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,o,i){if(r&1&&gh(i,Uu,5),r&2){let s;mh(s=yh())&&(o.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[kn]})}return e})();function sN(e){return!!e.paths}var aN=new T("");function cN(e,...t){return At([{provide:ws,multi:!0,useValue:e},[],{provide:gn,useFactory:uN,deps:[Vn]},{provide:Bc,multi:!0,useFactory:lN},t.map(n=>n.\u0275providers)])}function uN(e){return e.routerState.root}function lN(){let e=v(je);return t=>{let n=e.get(Fn);if(t!==n.components[0])return;let r=e.get(Vn),o=e.get(dN);e.get(fN)===1&&r.initialNavigation(),e.get(hN,null,{optional:!0})?.setUpPreloading(),e.get(aN,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var dN=new T("",{factory:()=>new ee}),fN=new T("",{providedIn:"root",factory:()=>1});var hN=new T("");var D_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);var Ho=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},Es=class extends Ho{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},zo=class extends Ho{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},qo=class extends Ho{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},$u=(function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e})($u||{});var _s=class{constructor(t,{headers:n={},customFetch:r,region:o=$u.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=D_(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Xs(this,arguments,void 0,function*(n,r={}){var o;let i,s;try{let{headers:a,method:c,body:u,signal:l,timeout:d}=r,h={},{region:f}=r;f||(f=this.region);let p=new URL(`${this.url}/${n}`);f&&f!=="any"&&(h["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let g;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(h["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(h["Content-Type"]="application/json",g=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?g=JSON.stringify(u):g=u;let y=l;d&&(s=new AbortController,i=setTimeout(()=>s.abort(),d),l?(y=s.signal,l.addEventListener("abort",()=>s.abort())):y=s.signal);let m=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:g,signal:y}).catch(j=>{throw new Es(j)}),D=m.headers.get("x-relay-error");if(D&&D==="true")throw new zo(m);if(!m.ok)throw new qo(m);let b=((o=m.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),w;return b==="application/json"?w=yield m.json():b==="application/octet-stream"||b==="application/pdf"?w=yield m.blob():b==="text/event-stream"?w=m:b==="multipart/form-data"?w=yield m.formData():w=yield m.text(),{data:w,error:null,response:m}}catch(a){return{data:null,error:a,response:a instanceof qo||a instanceof zo?a.context:void 0}}finally{i&&clearTimeout(i)}})}};var T_=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},pN=class{constructor(e){var t,n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=e.urlLengthLimit)!==null&&r!==void 0?r:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let s=null,a=null,c=null,u=i.status,l=i.statusText;if(i.ok){var d,h;if(n.method!=="HEAD"){var f;let m=await i.text();m===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((f=n.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?a=m:a=JSON.parse(m))}let g=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),y=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");g&&y&&y.length>1&&(c=parseInt(y[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(s={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,c=null,u=406,l="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var p;let g=await i.text();try{s=JSON.parse(g),Array.isArray(s)&&i.status===404&&(a=[],s=null,u=200,l="OK")}catch{i.status===404&&g===""?(u=204,l="No Content"):s={message:g}}if(s&&n.isMaybeSingle&&(!(s==null||(p=s.details)===null||p===void 0)&&p.includes("0 rows"))&&(s=null,u=200,l="OK"),s&&n.shouldThrowOnError)throw new T_(s)}return{error:s,data:a,count:c,status:u,statusText:l}});return this.shouldThrowOnError||(o=o.catch(i=>{var s;let a="",c="",u="",l=i?.cause;if(l){var d,h,f,p;let m=(d=l?.message)!==null&&d!==void 0?d:"",D=(h=l?.code)!==null&&h!==void 0?h:"";a=`${(f=i?.name)!==null&&f!==void 0?f:"FetchError"}: ${i?.message}`,a+=`

Caused by: ${(p=l?.name)!==null&&p!==void 0?p:"Error"}: ${m}`,D&&(a+=` (${D})`),l?.stack&&(a+=`
${l.stack}`)}else{var g;a=(g=i?.stack)!==null&&g!==void 0?g:""}let y=this.url.toString().length;return i?.name==="AbortError"||i?.code==="ABORT_ERR"?(u="",c="Request was aborted (timeout or manual cancellation)",y>this.urlLengthLimit&&(c+=`. Note: Your request URL is ${y} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(l?.name==="HeadersOverflowError"||l?.code==="UND_ERR_HEADERS_OVERFLOW")&&(u="",c="HTTP headers exceeded server limits (typically 16KB)",y>this.urlLengthLimit&&(c+=`. Your request URL is ${y} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:a,hint:c,code:u},data:null,count:null,status:0,statusText:""}})),o.then(e,t)}returns(){return this}overrideTypes(){return this}},gN=class extends pN{select(e){let t=!1,n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:o=r}={}){let i=o?`${o}.order`:"order",s=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){let r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){let o=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:o=!1,format:i="text"}={}){var s;let a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}},I_=new RegExp("[,()]"),Go=class extends gN{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){let n=Array.from(new Set(t)).map(r=>typeof r=="string"&&I_.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){let n=Array.from(new Set(t)).map(r=>typeof r=="string"&&I_.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let o="";r==="plain"?o="pl":r==="phrase"?o="ph":r==="websearch"&&(o="w");let i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${o}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){let r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},mN=class{constructor(e,{headers:t={},schema:n,fetch:r,urlLengthLimit:o=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){let{head:n=!1,count:r}=t??{},o=n?"HEAD":"GET",i=!1,s=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:a,headers:c}=this.cloneRequestState();return a.searchParams.set("select",s),r&&c.append("Prefer",`count=${r}`),new Go({method:o,url:a,headers:c,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;let o="POST",{url:i,headers:s}=this.cloneRequestState();if(t&&s.append("Prefer",`count=${t}`),n||s.append("Prefer","missing=default"),Array.isArray(e)){let a=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(a.length>0){let c=[...new Set(a)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new Go({method:o,url:i,headers:s,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:o=!0}={}){var i;let s="POST",{url:a,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&a.searchParams.set("on_conflict",t),r&&c.append("Prefer",`count=${r}`),o||c.append("Prefer","missing=default"),Array.isArray(e)){let u=e.reduce((l,d)=>l.concat(Object.keys(d)),[]);if(u.length>0){let l=[...new Set(u)].map(d=>`"${d}"`);a.searchParams.set("columns",l.join(","))}}return new Go({method:s,url:a,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;let r="PATCH",{url:o,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Go({method:r,url:o,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;let n="DELETE",{url:r,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new Go({method:n,url:r,headers:o,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function bs(e){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(e)}function yN(e,t){if(bs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vN(e){var t=yN(e,"string");return bs(t)=="symbol"?t:t+""}function wN(e,t,n){return(t=vN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Bu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C_(Object(n),!0).forEach(function(r){wN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var S_=class R_{constructor(t,{headers:n={},schema:r,fetch:o,timeout:i,urlLengthLimit:s=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=s;let a=o??globalThis.fetch;i!==void 0&&i>0?this.fetch=(c,u)=>{let l=new AbortController,d=setTimeout(()=>l.abort(),i),h=u?.signal;if(h){if(h.aborted)return clearTimeout(d),a(c,u);let f=()=>{clearTimeout(d),l.abort()};return h.addEventListener("abort",f,{once:!0}),a(c,Bu(Bu({},u),{},{signal:l.signal})).finally(()=>{clearTimeout(d),h.removeEventListener("abort",f)})}return a(c,Bu(Bu({},u),{},{signal:l.signal})).finally(()=>clearTimeout(d))}:this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new mN(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new R_(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:r=!1,get:o=!1,count:i}={}){var s;let a,c=new URL(`${this.url}/rpc/${t}`),u,l=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(l)),d=r&&Object.values(n).some(l);d?(a="POST",u=n):r||o?(a=r?"HEAD":"GET",Object.entries(n).filter(([f,p])=>p!==void 0).map(([f,p])=>[f,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([f,p])=>{c.searchParams.append(f,p)})):(a="POST",u=n);let h=new Headers(this.headers);return d?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new Go({method:a,url:c,headers:h,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}};var _p=class{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};let n=globalThis.process;if(n){let r=n.versions;if(r&&r.node){let o=r.node,i=parseInt(o.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){let r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{let t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}},bp=_p;var A_="2.95.3";var M_=`realtime-js/${A_}`,N_="1.0.0",Dp="2.0.0",Ip=Dp;var Ds=1e4,x_=1e3,O_=100,Hn=(function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e})(Hn||{}),me=(function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e})(me||{}),st=(function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e})(st||{}),Cp=(function(e){return e.websocket="websocket",e})(Cp||{}),Mr=(function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e})(Mr||{});var Vu=class{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;let o=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(t){var n,r;let o=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,n,r){var o,i;let s=t.topic,a=(o=t.ref)!==null&&o!==void 0?o:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,l=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(l).length===0?"":JSON.stringify(l);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);let h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+s.length+u.length+d.length,f=new ArrayBuffer(this.HEADER_LENGTH+h),p=new DataView(f),g=0;p.setUint8(g++,this.KINDS.userBroadcastPush),p.setUint8(g++,c.length),p.setUint8(g++,a.length),p.setUint8(g++,s.length),p.setUint8(g++,u.length),p.setUint8(g++,d.length),p.setUint8(g++,n),Array.from(c,m=>p.setUint8(g++,m.charCodeAt(0))),Array.from(a,m=>p.setUint8(g++,m.charCodeAt(0))),Array.from(s,m=>p.setUint8(g++,m.charCodeAt(0))),Array.from(u,m=>p.setUint8(g++,m.charCodeAt(0))),Array.from(d,m=>p.setUint8(g++,m.charCodeAt(0)));var y=new Uint8Array(f.byteLength+r.byteLength);return y.set(new Uint8Array(f),0),y.set(new Uint8Array(r),f.byteLength),y.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){let r=JSON.parse(t),[o,i,s,a,c]=r;return n({join_ref:o,ref:i,topic:s,event:a,payload:c})}return n({})}_binaryDecode(t){let n=new DataView(t),r=n.getUint8(0),o=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,o)}}_decodeUserBroadcast(t,n,r){let o=n.getUint8(1),i=n.getUint8(2),s=n.getUint8(3),a=n.getUint8(4),c=this.HEADER_LENGTH+4,u=r.decode(t.slice(c,c+o));c=c+o;let l=r.decode(t.slice(c,c+i));c=c+i;let d=r.decode(t.slice(c,c+s));c=c+s;let h=t.slice(c,t.byteLength),f=a===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,p={type:this.BROADCAST_EVENT,event:l,payload:f};return s>0&&(p.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}};var Wo=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Q=(function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e})(Q||{}),Sp=(e,t,n={})=>{var r;let o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,s)=>(i[s]=EN(s,e,t,o),i),{}):{}},EN=(e,t,n,r)=>{let o=t.find(a=>a.name===e),i=o?.type,s=n[e];return i&&!r.includes(i)?k_(i,s):Tp(s)},k_=(e,t)=>{if(e.charAt(0)==="_"){let n=e.slice(1,e.length);return IN(t,n)}switch(e){case Q.bool:return _N(t);case Q.float4:case Q.float8:case Q.int2:case Q.int4:case Q.int8:case Q.numeric:case Q.oid:return bN(t);case Q.json:case Q.jsonb:return DN(t);case Q.timestamp:return CN(t);case Q.abstime:case Q.date:case Q.daterange:case Q.int4range:case Q.int8range:case Q.money:case Q.reltime:case Q.text:case Q.time:case Q.timestamptz:case Q.timetz:case Q.tsrange:case Q.tstzrange:return Tp(t);default:return Tp(t)}},Tp=e=>e,_N=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},bN=e=>{if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},DN=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},IN=(e,t)=>{if(typeof e!="string")return e;let n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i,s=e.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>k_(t,a))}return e},CN=e=>typeof e=="string"?e.replace(" ","T"):e,Hu=e=>{let t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};var Ko=class{constructor(t,n,r={},o=Ds){this.channel=t,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var Is=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,o,i,s),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=e.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,o){let i=this.cloneDeep(t),s=this.transformState(n),a={},c={};return this.map(i,(u,l)=>{s[u]||(c[u]=l)}),this.map(s,(u,l)=>{let d=i[u];if(d){let h=l.map(y=>y.presence_ref),f=d.map(y=>y.presence_ref),p=l.filter(y=>f.indexOf(y.presence_ref)<0),g=d.filter(y=>h.indexOf(y.presence_ref)<0);p.length>0&&(a[u]=p),g.length>0&&(c[u]=g)}else a[u]=l}),this.syncDiff(i,{joins:a,leaves:c},r,o)}static syncDiff(t,n,r,o){let{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,c)=>{var u;let l=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),l.length>0){let d=t[a].map(f=>f.presence_ref),h=l.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...h)}r(a,l,c)}),this.map(s,(a,c)=>{let u=t[a];if(!u)return;let l=c.map(d=>d.presence_ref);u=u.filter(d=>l.indexOf(d.presence_ref)<0),t[a]=u,o(a,u,c),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{let o=t[r];return"metas"in o?n[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Cs=(function(e){return e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system",e})(Cs||{}),yn=(function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e})(yn||{});var Ts=class e{constructor(t,n={config:{}},r){var o,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=me.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ko(this,st.join,this.params,this.timeout),this.rejoinTimer=new Wo(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=me.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=me.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this._on(st.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Is(this),this.broadcastEndpointURL=Hu(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==me.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,u=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&o!==void 0?o:[],l=!!this.bindings[Cs.PRESENCE]&&this.bindings[Cs.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:l}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t?.(yn.CHANNEL_ERROR,f)),this._onClose(()=>t?.(yn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){t?.(yn.SUBSCRIBED);return}else{let g=this.bindings.postgres_changes,y=(p=g?.length)!==null&&p!==void 0?p:0,m=[];for(let D=0;D<y;D++){let b=g[D],{filter:{event:w,schema:j,table:ve,filter:K}}=b,X=f&&f[D];if(X&&X.event===w&&e.isFilterValueEqual(X.schema,j)&&e.isFilterValueEqual(X.table,ve)&&e.isFilterValueEqual(X.filter,K))m.push(Object.assign(Object.assign({},b),{id:X.id}));else{this.unsubscribe(),this.state=me.errored,t?.(yn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(yn.SUBSCRIBED);return}}).receive("error",f=>{this.state=me.errored,t?.(yn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(yn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===me.joined&&t===Cs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");let i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);let s={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{let u=await a.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:i,payload:s}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);let c={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{let u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=u.body)===null||o===void 0?void 0:o.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,a,c;let u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=me.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(st.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new Ko(this,st.leave,{},t),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=me.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),s}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Ko(this,t,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>O_){let n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var o,i;let s=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:l}=st;if(r&&[a,c,u,l].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(f=>{var p,g,y;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((y=(g=f.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(i=this.bindings[s])===null||i===void 0||i.filter(f=>{var p,g,y,m,D,b;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let w=f.id,j=(p=f.filter)===null||p===void 0?void 0:p.event;return w&&((g=n.ids)===null||g===void 0?void 0:g.includes(w))&&(j==="*"||j?.toLocaleLowerCase()===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{let w=(D=(m=f?.filter)===null||m===void 0?void 0:m.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return w==="*"||w===((b=n?.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){let p=h.data,{schema:g,table:y,commit_timestamp:m,type:D,errors:b}=p;h=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:m,eventType:D,new:{},old:{},errors:b}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===me.closed}_isJoined(){return this.state===me.joined}_isJoining(){return this.state===me.joining}_isLeaving(){return this.state===me.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){let o=t.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&e.isEqual(o.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(let r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(st.close,{},t)}_onError(t){this._on(st.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=me.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Sp(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Sp(t.columns,t.old_record)),n}};var Rp=()=>{},zu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},SN=[1e3,2e3,5e3,1e4],RN=1e4,AN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Ss=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ds,this.transport=null,this.heartbeatIntervalMs=zu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Rp,this.ref=0,this.reconnectTimer=null,this.vsn=Ip,this.logger=Rp,this.conn=null,this.sendBuffer=[],this.serializer=new Vu,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...i)=>o(...i):(...i)=>fetch(...i),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Cp.websocket}`,this.httpEndpoint=Hu(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bp.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){let n=await t.unsubscribe();return n==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){let t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Hn.connecting:return Mr.Connecting;case Hn.open:return Mr.Open;case Hn.closing:return Mr.Closing;default:return Mr.Closed}}isConnected(){return this.connectionState()===Mr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){let r=`realtime:${t}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{let i=new Ts(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){let{topic:n,event:r,payload:o,ref:i}=t,s=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(x_,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},zu.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){let u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(l){this.log("error","error in heartbeat callback",l)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}let{topic:r,event:o,payload:i,ref:s}=n,a=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${o} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(o,i,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Hn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Hn.open||this.conn.readyState===Hn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(st.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;let r=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${r}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{let r=new Blob([AN],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{let i={access_token:n,version:M_};n&&o.updateJoinPayload(i),o.joinedOnce&&o._isJoined()&&o._push(st.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Wo(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},zu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,o,i,s,a,c,u,l,d,h,f;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:Ds,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:zu.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:Rp,this.vsn=(c=t?.vsn)!==null&&c!==void 0?c:Ip,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t?.reconnectAfterMs)!==null&&u!==void 0?u:p=>SN[p-1]||RN,this.vsn){case N_:this.encode=(l=t?.encode)!==null&&l!==void 0?l:(p,g)=>g(JSON.stringify(p)),this.decode=(d=t?.decode)!==null&&d!==void 0?d:(p,g)=>g(JSON.parse(p));break;case Dp:this.encode=(h=t?.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(f=t?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};var Rs=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function MN(e,t,n){let r=new URL(t,e);if(n)for(let[o,i]of Object.entries(n))i!==void 0&&r.searchParams.set(o,i);return r.toString()}async function NN(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function xN(e){let t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:o,body:i,headers:s}){let a=MN(e.baseUrl,r,o),c=await NN(e.auth),u=await t(a,{method:n,headers:_(_(_({},i?{"Content-Type":"application/json"}:{}),c),s),body:i?JSON.stringify(i):void 0}),l=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),h=d&&l?JSON.parse(l):l;if(!u.ok){let f=d?h:void 0,p=f?.error;throw new Rs(p?.message??`Request failed with status ${u.status}`,{status:u.status,icebergType:p?.type,icebergCode:p?.code,details:f})}return{status:u.status,headers:u.headers,data:h}}}}function qu(e){return e.join("")}var ON=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){let t=e?{parent:qu(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){let n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${qu(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qu(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${qu(e.namespace)}`}),!0}catch(t){if(t instanceof Rs&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Rs&&n.status===409)return;throw n}}};function Zo(e){return e.join("")}var kN=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zo(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){let n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Zo(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){let n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Zo(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Zo(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){let t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zo(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){let t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Zo(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Rs&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Rs&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},P_=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);let n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=xN({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new ON(this.client,t),this.tableOps=new kN(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};var Wu=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function Ku(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Gu=class extends Wu{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},U_=class extends Wu{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};var PN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),LN=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ap=e=>{if(Array.isArray(e))return e.map(n=>Ap(n));if(typeof e=="function"||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([n,r])=>{let o=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[o]=Ap(r)}),t},FN=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Ms(e){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(e)}function jN(e,t){if(Ms(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ms(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UN(e){var t=jN(e,"string");return Ms(t)=="symbol"?t:t+""}function $N(e,t,n){return(t=UN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L_(Object(n),!0).forEach(function(r){$N(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var F_=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},BN=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){let o=e,i=o.status||500;if(typeof o.json=="function")o.json().then(s=>{let a=s?.statusCode||s?.code||i+"";t(new Gu(F_(s),i,a,r))}).catch(()=>{if(r==="vectors"){let s=i+"";t(new Gu(o.statusText||`HTTP ${i} error`,i,s,r))}else{let s=i+"";t(new Gu(o.statusText||`HTTP ${i} error`,i,s,r))}});else{let s=i+"";t(new Gu(o.statusText||`HTTP ${i} error`,i,s,r))}}else t(new U_(F_(e),e,r))},VN=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"||e==="HEAD"||!r?N(N({},o),n):(LN(r)?(o.headers=N({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(r)):o.body=r,t?.duplex&&(o.duplex=t.duplex),N(N({},o),n))};async function As(e,t,n,r,o,i,s){return new Promise((a,c)=>{e(n,VN(t,r,o,i)).then(u=>{if(!u.ok)throw u;if(r?.noResolveJson)return u;if(s==="vectors"){let l=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!l||!l.includes("application/json"))return{}}return u.json()}).then(u=>a(u)).catch(u=>BN(u,c,r,s))})}function $_(e="storage"){return{get:async(t,n,r,o)=>As(t,"GET",n,r,o,void 0,e),post:async(t,n,r,o,i)=>As(t,"POST",n,o,i,r,e),put:async(t,n,r,o,i)=>As(t,"PUT",n,o,i,r,e),head:async(t,n,r,o)=>As(t,"HEAD",n,N(N({},r),{},{noResolveJson:!0}),o,void 0,e),remove:async(t,n,r,o,i)=>As(t,"DELETE",n,o,i,r,e)}}var HN=$_("storage"),{get:Ns,post:It,put:Mp,head:zN,remove:Np}=HN,Qe=$_("vectors"),Yo=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=PN(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ku(n))return{data:null,error:n};throw n}}},qN=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ku(t))return{data:null,error:t};throw t}}},B_;B_=Symbol.toStringTag;var GN=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[B_]="BlobDownloadBuilder",this.promise=null}asStream(){return new qN(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ku(t))return{data:null,error:t};throw t}}},WN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},j_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},KN=class extends Yo{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var o=this;return o.handleOperation(async()=>{let i,s=N(N({},j_),r),a=N(N({},o.headers),e==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",o.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",s.cacheControl),c&&!i.has("metadata")&&i.append("metadata",o.encodeMetadata(c))):(i=n,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=o.toBase64(o.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!s.duplex&&(s.duplex="half")),r?.headers&&(a=N(N({},a),r.headers));let u=o._removeEmptyFolders(t),l=o._getFinalPath(u),d=await(e=="PUT"?Mp:It)(o.fetch,`${o.url}/object/${l}`,i,N({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{path:u,id:d.Id,fullPath:d.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var o=this;let i=o._removeEmptyFolders(e),s=o._getFinalPath(i),a=new URL(o.url+`/object/upload/sign/${s}`);return a.searchParams.set("token",t),o.handleOperation(async()=>{let c,u=N({upsert:j_.upsert},r),l=N(N({},o.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,l["cache-control"]=`max-age=${u.cacheControl}`,l["content-type"]=u.contentType),{path:i,fullPath:(await Mp(o.fetch,a.toString(),c,{headers:l})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e),o=N({},n.headers);t?.upsert&&(o["x-upsert"]="true");let i=await It(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(n.url+i.url),a=s.searchParams.get("token");if(!a)throw new Wu("No token returned by API");return{signedUrl:s.toString(),path:e,token:a}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await It(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await It(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let o=r._getFinalPath(e),i=await It(r.fetch,`${r.url}/object/sign/${o}`,N({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:r.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${i.signedURL}${s}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{let o=await It(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return o.map(s=>N(N({},s),{},{signedUrl:s.signedURL?encodeURI(`${r.url}${s.signedURL}${i}`):null}))})}download(e,t,n){let r=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),i=o?`?${o}`:"",s=this._getFinalPath(e),a=()=>Ns(this.fetch,`${this.url}/${r}/${s}${i}`,{headers:this.headers,noResolveJson:!0},n);return new GN(a,this.shouldThrowOnError)}async info(e){var t=this;let n=t._getFinalPath(e);return t.handleOperation(async()=>Ap(await Ns(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;let n=t._getFinalPath(e);try{return await zN(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ku(r)&&r instanceof U_){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){let n=this._getFinalPath(e),r=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&r.push(o);let i=typeof t?.transform<"u"?"render/image":"object",s=this.transformOptsToQueryString(t?.transform||{});s!==""&&r.push(s);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${a}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Np(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{let o=N(N(N({},WN),t),{},{prefix:e||""});return await It(r.fetch,`${r.url}/object/list/${r.bucketId}`,o,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{let r=N({},e);return await It(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}},ZN="2.95.3",xs={"X-Client-Info":`storage-js/${ZN}`},YN=class extends Yo{constructor(e,t={},n,r){let o=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));let i=o.href.replace(/\/$/,""),s=N(N({},xs),t);super(i,s,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{let n=t.listBucketOptionsToQueryString(e);return await Ns(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Ns(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await It(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await Mp(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await It(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Np(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){let t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},JN=class extends Yo{constructor(e,t={},n){let r=e.replace(/\/$/,""),o=N(N({},xs),t);super(r,o,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await It(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{let n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);let r=n.toString(),o=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await Ns(t.fetch,o,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Np(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!FN(e))throw new Wu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let n=new P_({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(o,i){let s=o[i];return typeof s!="function"?s:async(...a)=>{try{return{data:await s.apply(o,a),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}},QN=class extends Yo{constructor(e,t={},n){let r=e.replace(/\/$/,""),o=N(N({},xs),{},{"Content-Type":"application/json"},t);super(r,o,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Qe.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await Qe.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Qe.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await Qe.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},XN=class extends Yo{constructor(e,t={},n){let r=e.replace(/\/$/,""),o=N(N({},xs),{},{"Content-Type":"application/json"},t);super(r,o,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Qe.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Qe.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Qe.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Qe.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Qe.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},ex=class extends Yo{constructor(e,t={},n){let r=e.replace(/\/$/,""),o=N(N({},xs),{},{"Content-Type":"application/json"},t);super(r,o,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Qe.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Qe.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Qe.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Qe.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},tx=class extends ex{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new nx(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},nx=class extends QN{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,N(N({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,N(N({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new rx(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},rx=class extends XN{constructor(e,t,n,r,o){super(e,t,o),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,N(N({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,N(N({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,N(N({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,N(N({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,N(N({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},V_=class extends YN{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new KN(this.url,this.headers,e,this.fetch)}get vectors(){return new tx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new JN(this.url+"/iceberg",this.headers,this.fetch)}};var Zu="2.95.3";var Nr=30*1e3,Yu=3,Ju=Yu*Nr,H_="http://localhost:9999",z_="supabase.auth.token";var q_={"X-Client-Info":`gotrue-js/${Zu}`};var Os="X-Supabase-Api-Version",xp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},G_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,W_=600*1e3;var zn=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function C(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var Qu=class extends zn{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function K_(e){return C(e)&&e.name==="AuthApiError"}var at=class extends zn{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},Ct=class extends zn{constructor(t,n,r,o){super(t,r,o),this.name=n,this.status=r}},Re=class extends Ct{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function el(e){return C(e)&&e.name==="AuthSessionMissingError"}var vn=class extends Ct{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},xr=class extends Ct{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Or=class extends Ct{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Z_(e){return C(e)&&e.name==="AuthImplicitGrantRedirectError"}var ks=class extends Ct{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Xu=class extends Ct{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}};var Jo=class extends Ct{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function tl(e){return C(e)&&e.name==="AuthRetryableFetchError"}var Ps=class extends Ct{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var kr=class extends Ct{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var nl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Y_=` 	
\r=`.split(""),ox=(()=>{let e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Y_.length;t+=1)e[Y_[t].charCodeAt(0)]=-2;for(let t=0;t<nl.length;t+=1)e[nl[t].charCodeAt(0)]=t;return e})();function J_(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(nl[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(nl[r]),t.queuedBits-=6}}function Q_(e,t,n){let r=ox[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Op(e){let t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{ax(s,r,n)};for(let s=0;s<e.length;s+=1)Q_(e.charCodeAt(s),o,i);return t.join("")}function ix(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function sx(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){let o=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}ix(r,t)}}function ax(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function qn(e){let t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)Q_(e.charCodeAt(o),n,r);return new Uint8Array(t)}function X_(e){let t=[];return sx(e,n=>t.push(n)),new Uint8Array(t)}function wn(e){let t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};return e.forEach(o=>J_(o,n,r)),J_(null,n,r),t.join("")}function eb(e){return Math.round(Date.now()/1e3)+e}function tb(){return Symbol("auth-callback")}var ye=()=>typeof window<"u"&&typeof document<"u",Pr={tested:!1,writable:!1},rl=()=>{if(!ye())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Pr.tested)return Pr.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Pr.tested=!0,Pr.writable=!0}catch{Pr.tested=!0,Pr.writable=!1}return Pr.writable};function nb(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{t[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{t[o]=r}),t}var ol=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),rb=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Lr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Gn=async(e,t)=>{let n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},be=async(e,t)=>{await e.removeItem(t)},Ls=class e{constructor(){this.promise=new e.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}};Ls.promiseConstructor=Promise;function Fs(e){let t=e.split(".");if(t.length!==3)throw new kr("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!G_.test(t[r]))throw new kr("JWT not in base64url format");return{header:JSON.parse(Op(t[0])),payload:JSON.parse(Op(t[1])),signature:qn(t[2]),raw:{header:t[0],payload:t[1]}}}async function ob(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ib(e,t){return new Promise((r,o)=>{(async()=>{for(let i=0;i<1/0;i++)try{let s=await e(i);if(!t(i,null,s)){r(s);return}}catch(s){if(!t(i,s)){o(s);return}}})()})}function cx(e){return("0"+e.toString(16)).substr(-2)}function ux(){let t=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,cx).join("")}async function lx(e){let n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")}async function dx(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let n=await lx(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fr(e,t,n=!1){let r=ux(),o=r;n&&(o+="/PASSWORD_RECOVERY"),await Lr(e,`${t}-code-verifier`,o);let i=await dx(r);return[i,r===i?"plain":"s256"]}var fx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sb(e){let t=e.headers.get(Os);if(!t||!t.match(fx))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ab(e){if(!e)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function cb(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var hx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function jr(e){if(!hx.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function il(){let e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){let r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ub(e,t){return new Proxy(e,{get:(n,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,o)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,o)}})}function kp(e){return JSON.parse(JSON.stringify(e))}var Ur=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),px=[502,503,504];async function lb(e){var t;if(!rb(e))throw new Jo(Ur(e),0);if(px.includes(e.status))throw new Jo(Ur(e),e.status);let n;try{n=await e.json()}catch(i){throw new at(Ur(i),i)}let r,o=sb(e);if(o&&o.getTime()>=xp["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Ps(Ur(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Re}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new Ps(Ur(n),e.status,n.weak_password.reasons);throw new Qu(Ur(n),e.status||500,r)}var gx=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function S(e,t,n,r){var o;let i=Object.assign({},r?.headers);i[Os]||(i[Os]=xp["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await mx(e,t,n+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}async function mx(e,t,n,r,o,i){let s=gx(t,r,o,i),a;try{a=await e(n,Object.assign({},s))}catch(c){throw console.error(c),new Jo(Ur(c),0)}if(a.ok||await lb(a),r?.noResolveJson)return a;try{return await a.json()}catch(c){await lb(c)}}function ct(e){var t;let n=null;yx(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=eb(e.expires_in)));let r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Pp(e){let t=ct(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Gt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function db(e){return{data:e,error:null}}function fb(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=e,s=Jn(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function Lp(e){return e}function yx(e){return e.access_token&&e.refresh_token&&e.expires_in}var sl=["global","local","others"];var Qo=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=ol(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=sl[0]){if(sl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sl.join(", ")}`);try{return await S(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(C(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await S(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Gt})}catch(r){if(C(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{let{options:n}=t,r=Jn(t,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),await S(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:fb,redirectTo:n?.redirectTo})}catch(n){if(C(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await S(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Gt})}catch(n){if(C(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,o,i,s,a,c;try{let u={nextPage:null,lastPage:0,total:0},l=await S(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:Lp});if(l.error)throw l.error;let d=await l.json(),h=(s=l.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(p.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(C(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){jr(t);try{return await S(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Gt})}catch(n){if(C(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){jr(t);try{return await S(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Gt})}catch(r){if(C(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){jr(t);try{return await S(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Gt})}catch(r){if(C(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){jr(t.userId);try{let{data:n,error:r}=await S(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(C(n))return{data:null,error:n};throw n}}async _deleteFactor(t){jr(t.userId),jr(t.id);try{return{data:await S(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(C(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,o,i,s,a,c;try{let u={nextPage:null,lastPage:0,total:0},l=await S(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:Lp});if(l.error)throw l.error;let d=await l.json(),h=(s=l.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(p.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(C(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await S(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(C(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await S(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(C(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await S(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(C(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await S(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(C(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await S(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(C(n))return{data:null,error:n};throw n}}};function Fp(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}var $r={debug:!!(globalThis&&rl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},js=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},al=class extends js{};async function jp(e,t,n){$r.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),$r.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){$r.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await n()}finally{$r.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw $r.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new al(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if($r.debug)try{let i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function hb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Up(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function pb(e){return parseInt(e,16)}function gb(e){let t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function mb(e){var t;let{chainId:n,domain:r,expirationTime:o,issuedAt:i=new Date,nonce:s,notBefore:a,requestId:c,resources:u,scheme:l,uri:d,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}let f=Up(e.address),p=l?`${l}://${r}`:r,g=e.statement?`${e.statement}
`:"",y=`${p} wants you to sign in with your Ethereum account:
${f}

${g}`,m=`URI: ${d}
Version: ${h}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(o&&(m+=`
Expiration Time: ${o.toISOString()}`),a&&(m+=`
Not Before: ${a.toISOString()}`),c&&(m+=`
Request ID: ${c}`),u){let D=`
Resources:`;for(let b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);D+=`
- ${b}`}m+=D}return`${y}
${m}`}var oe=class extends Error{constructor({message:t,code:n,cause:r,name:o}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=o??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}},Br=class extends oe{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}};function yb({error:e,options:t}){var n,r,o;let{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new oe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new oe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new oe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((o=i.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new oe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new oe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new oe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new oe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new oe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){let s=window.location.hostname;if($p(s)){if(i.rp.id!==s)return new oe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new oe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new oe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function vb({error:e,options:t}){let{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new oe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new oe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){let r=window.location.hostname;if($p(r)){if(n.rpId!==r)return new oe({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new oe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var Bp=class{createNewAbortSignal(){if(this.controller){let n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}let t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){let t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}},vx=new Bp;function Eb(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:t,user:n,excludeCredentials:r}=e,o=Jn(e,["challenge","user","excludeCredentials"]),i=qn(t).buffer,s=Object.assign(Object.assign({},n),{id:qn(n.id).buffer}),a=Object.assign(Object.assign({},o),{challenge:i,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let u=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:qn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function _b(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:t,allowCredentials:n}=e,r=Jn(e,["challenge","allowCredentials"]),o=qn(t).buffer,i=Object.assign(Object.assign({},r),{challenge:o});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){let a=n[s];i.allowCredentials[s]=Object.assign(Object.assign({},a),{id:qn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function bb(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e;return{id:e.id,rawId:e.id,response:{attestationObject:wn(new Uint8Array(e.response.attestationObject)),clientDataJSON:wn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Db(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e,r=e.getClientExtensionResults(),o=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:wn(new Uint8Array(o.authenticatorData)),clientDataJSON:wn(new Uint8Array(o.clientDataJSON)),signature:wn(new Uint8Array(o.signature)),userHandle:o.userHandle?wn(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function $p(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function wb(){var e,t;return!!(ye()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function wx(e){try{let t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Br("Browser returned unexpected credential type",t)}:{data:null,error:new Br("Empty credential response",t)}}catch(t){return{data:null,error:yb({error:t,options:e})}}}async function Ex(e){try{let t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Br("Browser returned unexpected credential type",t)}:{data:null,error:new Br("Empty credential response",t)}}catch(t){return{data:null,error:vb({error:t,options:e})}}}var _x={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},bx={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function cl(...e){let t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(let o of e)if(o)for(let i in o){let s=o[i];if(s!==void 0)if(Array.isArray(s))r[i]=s;else if(n(s))r[i]=s;else if(t(s)){let a=r[i];t(a)?r[i]=cl(a,s):r[i]=cl(s)}else r[i]=s}return r}function Dx(e,t){return cl(_x,e,t||{})}function Ix(e,t){return cl(bx,e,t||{})}var ul=class{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:o},i){var s;try{let{data:a,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!a)return{data:null,error:c};let u=o??vx.createNewAbortSignal();if(a.webauthn.type==="create"){let{user:l}=a.webauthn.credential_options.publicKey;if(!l.name){let d=r;if(d)l.name=`${l.id}:${d}`;else{let f=(await this.client.getUser()).data.user,p=((s=f?.user_metadata)===null||s===void 0?void 0:s.name)||f?.email||f?.id||"User";l.name=`${l.id}:${p}`}}l.displayName||(l.displayName=l.name)}switch(a.webauthn.type){case"create":{let l=Dx(a.webauthn.credential_options.publicKey,i?.create),{data:d,error:h}=await wx({publicKey:l,signal:u});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{let l=Ix(a.webauthn.credential_options.publicKey,i?.request),{data:d,error:h}=await Ex(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:l,signal:u}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return C(a)?{data:null,error:a}:{data:null,error:new at("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},i){if(!n)return{data:null,error:new zn("rpId is required for WebAuthn authentication")};try{if(!wb())return{data:null,error:new at("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:o},{request:i});if(!s)return{data:null,error:a};let{webauthn:c}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(s){return C(s)?{data:null,error:s}:{data:null,error:new at("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},i){if(!n)return{data:null,error:new zn("rpId is required for WebAuthn registration")};try{if(!wb())return{data:null,error:new at("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(l=>{var d;return(d=l.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(l=>l?this.client.mfa.unenroll({factorId:l?.id}):void 0),{data:null,error:a};let{data:c,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:o},{create:i});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(s){return C(s)?{data:null,error:s}:{data:null,error:new at("Unexpected error in register",s)}}}};hb();var Cx={url:H_,storageKey:z_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:q_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Ib(e,t,n){return await n()}var Xo={},Tx=(()=>{class e{get jwks(){var n,r;return(r=(n=Xo[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){Xo[this.storageKey]=Object.assign(Object.assign({},Xo[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=Xo[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Xo[this.storageKey]=Object.assign(Object.assign({},Xo[this.storageKey]),{cachedAt:n})}constructor(n){var r,o,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let s=Object.assign(Object.assign({},Cx),n);if(this.storageKey=s.storageKey,this.instanceID=(r=e.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,e.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&ye()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Qo({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=ol(s.fetch),this.lock=s.lock||Ib,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&ye()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=jp:this.lock=Ib,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ul(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:rl()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Fp(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Fp(this.memoryStorage)),ye()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(c){this._debug("#broadcastChannel","error",c)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Zu}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r={},o="none";if(ye()&&(r=nb(window.location.href),this._isImplicitGrantCallback(r)?o="implicit":await this._isPKCECallback(r)&&(o="pkce")),ye()&&this.detectSessionInUrl&&o!=="none"){let{data:i,error:s}=await this._getSessionFromURL(r,o);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Z_(s)){let u=(n=s.details)===null||n===void 0?void 0:n.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return{error:s}}let{session:a,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return C(r)?this._returnResult({error:r}):this._returnResult({error:new at("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,o,i;try{let s=await S(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=n?.options)===null||i===void 0?void 0:i.captchaToken}},xform:ct}),{data:a,error:c}=s;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});let u=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:l,session:u},error:null})}catch(s){if(C(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(n){var r,o,i;try{let s;if("email"in n){let{email:d,password:h,options:f}=n,p=null,g=null;this.flowType==="pkce"&&([p,g]=await Fr(this.storage,this.storageKey)),s=await S(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:g},xform:ct})}else if("phone"in n){let{phone:d,password:h,options:f}=n;s=await S(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(o=f?.data)!==null&&o!==void 0?o:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:ct})}else throw new xr("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return await be(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});let u=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:l,session:u},error:null})}catch(s){if(await be(this.storage,`${this.storageKey}-code-verifier`),C(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(n){try{let r;if("email"in n){let{email:s,password:a,options:c}=n;r=await S(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Pp})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=await S(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Pp})}else throw new xr("You must provide either an email or phone number and a password");let{data:o,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!o||!o.session||!o.user){let s=new vn;return this._returnResult({data:{user:null,session:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(C(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(n){var r,o,i,s;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=n.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){let{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,o,i,s,a,c,u,l,d,h,f;let p,g;if("message"in n)p=n.message,g=n.signature;else{let{chain:y,wallet:m,statement:D,options:b}=n,w;if(ye())if(typeof m=="object")w=m;else{let Wt=window;if("ethereum"in Wt&&typeof Wt.ethereum=="object"&&"request"in Wt.ethereum&&typeof Wt.ethereum.request=="function")w=Wt.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!b?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=m}let j=new URL((r=b?.url)!==null&&r!==void 0?r:window.location.href),ve=await w.request({method:"eth_requestAccounts"}).then(Wt=>Wt).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ve||ve.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let K=Up(ve[0]),X=(o=b?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!X){let Wt=await w.request({method:"eth_chainId"});X=pb(Wt)}let Rb={domain:j.host,address:K,statement:D,uri:j.href,version:"1",chainId:X,nonce:(i=b?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=b?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=b?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(u=b?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(l=b?.signInWithEthereum)===null||l===void 0?void 0:l.requestId,resources:(d=b?.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=mb(Rb),g=await w.request({method:"personal_sign",params:[gb(p),K]})}try{let{data:y,error:m}=await S(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((h=n.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=n.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ct});if(m)throw m;if(!y||!y.session||!y.user){let D=new vn;return this._returnResult({data:{user:null,session:null},error:D})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:m})}catch(y){if(C(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(n){var r,o,i,s,a,c,u,l,d,h,f,p;let g,y;if("message"in n)g=n.message,y=n.signature;else{let{chain:m,wallet:D,statement:b,options:w}=n,j;if(ye())if(typeof D=="object")j=D;else{let K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))j=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=D}let ve=new URL((r=w?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){let K=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w?.signInWithSolana),{version:"1",domain:ve.host,uri:ve.href}),b?{statement:b}:null)),X;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")X=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)X=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in X&&"signature"in X&&(typeof X.signedMessage=="string"||X.signedMessage instanceof Uint8Array)&&X.signature instanceof Uint8Array)g=typeof X.signedMessage=="string"?X.signedMessage:new TextDecoder().decode(X.signedMessage),y=X.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${ve.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${ve.href}`,`Issued At: ${(i=(o=w?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=w?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((a=w?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((c=w?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((u=w?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((l=w?.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(d=w?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(X=>`- ${X}`)]:[]].join(`
`);let K=await j.signMessage(new TextEncoder().encode(g),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=K}}try{let{data:m,error:D}=await S(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:wn(y)},!((f=n.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=n.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ct});if(D)throw D;if(!m||!m.session||!m.user){let b=new vn;return this._returnResult({data:{user:null,session:null},error:b})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:D})}catch(m){if(C(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async _exchangeCodeForSession(n){let r=await Gn(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{if(!o&&this.flowType==="pkce")throw new Xu;let{data:s,error:a}=await S(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:ct});if(await be(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){let c=new vn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(await be(this.storage,`${this.storageKey}-code-verifier`),C(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(n){try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=n,c=await S(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:ct}),{data:u,error:l}=c;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!u||!u.session||!u.user){let d=new vn;return this._returnResult({data:{user:null,session:null},error:d})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:l})}catch(r){if(C(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(n){var r,o,i,s,a;try{if("email"in n){let{email:c,options:u}=n,l=null,d=null;this.flowType==="pkce"&&([l,d]=await Fr(this.storage,this.storageKey));let{error:h}=await S(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(o=u?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:l,code_challenge_method:d},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in n){let{phone:c,options:u}=n,{data:l,error:d}=await S(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:d})}throw new xr("You must provide either an email or phone number.")}catch(c){if(await be(this.storage,`${this.storageKey}-code-verifier`),C(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(n){var r,o;try{let i,s;"options"in n&&(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(o=n.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:c}=await S(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:ct});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let u=a.session,l=a.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:l,session:u},error:null})}catch(i){if(C(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(n){var r,o,i,s,a;try{let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Fr(this.storage,this.storageKey));let l=await S(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=n?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:db});return!((s=l.data)===null||s===void 0)&&s.url&&ye()&&!(!((a=n.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(c){if(await be(this.storage,`${this.storageKey}-code-verifier`),C(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{let{data:{session:r},error:o}=n;if(o)throw o;if(!r)throw new Re;let{error:i}=await S(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(n){if(C(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{let r=`${this.url}/resend`;if("email"in n){let{email:o,type:i,options:s}=n,{error:a}=await S(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in n){let{phone:o,type:i,options:s}=n,{data:a,error:c}=await S(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:c})}throw new xr("You must provide either an email or phone number and a type")}catch(r){if(C(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await o,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){let i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=await Gn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};let o=n.expires_at?n.expires_at*1e3-Date.now()<Ju:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){let a=await Gn(this.userStorage,this.storageKey+"-user");a?.user?n.user=a.user:n.user=il()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};n.user=ub(n.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}let{data:i,error:s}=await this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;let r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(n){try{return n?await S(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Gt}):await this._useSession(async r=>{var o,i,s;let{data:a,error:c}=r;if(c)throw c;return!(!((o=a.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Re}:await S(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Gt})})}catch(r){if(C(r))return el(r)&&(await this._removeSession(),await be(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async o=>{let{data:i,error:s}=o;if(s)throw s;if(!i.session)throw new Re;let a=i.session,c=null,u=null;this.flowType==="pkce"&&n.email!=null&&([c,u]=await Fr(this.storage,this.storageKey));let{data:l,error:d}=await S(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:c,code_challenge_method:u}),jwt:a.access_token,xform:Gt});if(d)throw d;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(o){if(await be(this.storage,`${this.storageKey}-code-verifier`),C(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Re;let r=Date.now()/1e3,o=r,i=!0,s=null,{payload:a}=Fs(n.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{data:c,error:u}=await this._callRefreshToken(n.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:u}=await this._getUser(n.access_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(C(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var o;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(o=a.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new Re;let{data:i,error:s}=await this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(C(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(n,r){try{if(!ye())throw new Or("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Or(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ks("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Or("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new ks("No code detected.");let{data:b,error:w}=await this._exchangeCodeForSession(n.code);if(w)throw w;let j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:b.session,redirectType:null},error:null}}let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:u,token_type:l}=n;if(!s||!c||!a||!l)throw new Or("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(c),f=d+h;u&&(f=parseInt(u));let p=f-d;p*1e3<=Nr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);let g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);let{data:y,error:m}=await this._getUser(s);if(m)throw m;let D={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:l,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:D,redirectType:n.type},error:null})}catch(o){if(C(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){let r=await Gn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s&&!el(s))return this._returnResult({error:s});let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:c}=await this.admin.signOut(a,n);if(c&&!(K_(c)&&(c.status===404||c.status===401||c.status===403)||el(c)))return this._returnResult({error:c})}return n!=="others"&&(await this._removeSession(),await be(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){let r=tb(),o={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:o}}}async _emitInitialSession(n){return await this._useSession(async r=>{var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}})}async resetPasswordForEmail(n,r={}){let o=null,i=null;this.flowType==="pkce"&&([o,i]=await Fr(this.storage,this.storageKey,!0));try{return await S(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await be(this.storage,`${this.storageKey}-code-verifier`),C(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var n;try{let{data:r,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{let{data:o,error:i}=await this._useSession(async s=>{var a,c,u,l,d;let{data:h,error:f}=s;if(f)throw f;let p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await S(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return ye()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),this._returnResult({data:{provider:n.provider,url:o?.url},error:null})}catch(o){if(C(o))return this._returnResult({data:{provider:n.provider,url:null},error:o});throw o}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var o;try{let{error:i,data:{session:s}}=r;if(i)throw i;let{options:a,provider:c,token:u,access_token:l,nonce:d}=n,h=await S(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=s?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:c,id_token:u,access_token:l,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:ct}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new vn}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(i){if(await be(this.storage,`${this.storageKey}-code-verifier`),C(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var o,i;let{data:s,error:a}=r;if(a)throw a;return await S(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(n){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return await ib(async i=>(i>0&&await ob(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await S(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:ct})),(i,s)=>{let a=200*Math.pow(2,i);return s&&tl(s)&&Date.now()+a-o<Nr})}catch(o){if(this._debug(r,"error",o),C(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){let o=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",o),ye()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}}async _recoverAndRefresh(){var n,r;let o="#_recoverAndRefresh()";this._debug(o,"begin");try{let i=await Gn(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Gn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Lr(this.userStorage,this.storageKey+"-user",a)),i.user=(n=a?.user)!==null&&n!==void 0?n:il()}else if(i&&!i.user&&!i.user){let a=await Gn(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,await be(this.storage,this.storageKey+"-user"),await Lr(this.storage,this.storageKey,i)):i.user=il()}if(this._debug(o,"session from storage",i),!this._isValidSession(i)){this._debug(o,"session is not valid"),i!==null&&await this._removeSession();return}let s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ju;if(this._debug(o,`session has${s?"":" not"} expired with margin of ${Ju}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),tl(a)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=await this._getUser(i.access_token);!c&&a?.user?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(o,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(o,"error",i),console.error(i);return}finally{this._debug(o,"end")}}async _callRefreshToken(n){var r,o;if(!n)throw new Re;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ls;let{data:s,error:a}=await this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new Re;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),C(s)){let a={data:null,error:s};return tl(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(n,r,o=!0){let i=`#_notifyAllSubscribers(${n})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(n,r)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await be(this.storage,`${this.storageKey}-code-verifier`);let r=Object.assign({},n),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&await Lr(this.userStorage,this.storageKey+"-user",{user:r.user});let i=Object.assign({},r);delete i.user;let s=kp(i);await Lr(this.storage,this.storageKey,s)}else{let i=kp(r);await Lr(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await be(this.storage,this.storageKey),await be(this.storage,this.storageKey+"-code-verifier"),await be(this.storage,this.storageKey+"-user"),this.userStorage&&await be(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ye()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Nr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);let r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);let r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let n=Date.now();try{return await this._useSession(async r=>{let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-n)/Nr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Nr}ms, refresh threshold is ${Yu} ticks`),i<=Yu&&await this._callRefreshToken(o.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof js)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ye()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(n){this._debug("#visibilityChangedCallback","error",n)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,o){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let[s,a]=await Fr(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(c.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${i.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await S(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})})}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(n){try{return await this._useSession(async r=>{var o,i;let{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:u,error:l}=await S(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return l?this._returnResult({data:null,error:l}):(n.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?bb(n.webauthn.credential_response):Db(n.webauthn.credential_response)})}:{code:n.code}),{data:c,error:u}=await S(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:a,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:u}))})}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=await S(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});if(a.error)return a;let{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Eb(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:_b(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(n){let{data:r,error:o}=await this._challenge({factorId:n.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;let{data:{user:r},error:o}=await this.getUser();if(o)return{data:null,error:o};let i={all:[],phone:[],totp:[],webauthn:[]};for(let s of(n=r?.factors)!==null&&n!==void 0?n:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(n){var r,o,i,s;if(n)try{let{payload:p}=Fs(n),g=null;p.aal&&(g=p.aal);let y=g,{data:{user:m},error:D}=await this.getUser(n);if(D)return this._returnResult({data:null,error:D});((o=(r=m?.factors)===null||r===void 0?void 0:r.filter(j=>j.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(y="aal2");let w=p.amr||[];return{data:{currentLevel:g,nextLevel:y,currentAuthenticationMethods:w},error:null}}catch(p){if(C(p))return this._returnResult({data:null,error:p});throw p}let{data:{session:a},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:u}=Fs(a.access_token),l=null;u.aal&&(l=u.aal);let d=l;((s=(i=a.user.factors)===null||i===void 0?void 0:i.filter(p=>p.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(d="aal2");let f=u.amr||[];return{data:{currentLevel:l,nextLevel:d,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{let{data:{session:o},error:i}=r;return i?this._returnResult({data:null,error:i}):o?await S(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:o.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Re})})}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async o=>{let{data:{session:i},error:s}=o;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Re});let a=await S(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&ye()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(o){if(C(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(n,r){try{return await this._useSession(async o=>{let{data:{session:i},error:s}=o;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Re});let a=await S(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&ye()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(o){if(C(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async n=>{let{data:{session:r},error:o}=n;return o?this._returnResult({data:null,error:o}):r?await S(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Re})})}catch(n){if(C(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async r=>{let{data:{session:o},error:i}=r;return i?this._returnResult({data:null,error:i}):o?(await S(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Re})})}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(n,r={keys:[]}){let o=r.keys.find(c=>c.kid===n);if(o)return o;let i=Date.now();if(o=this.jwks.keys.find(c=>c.kid===n),o&&this.jwks_cached_at+W_>i)return o;let{data:s,error:a}=await S(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,o=s.keys.find(c=>c.kid===n),!o)?null:o}async getClaims(n,r={}){try{let o=n;if(!o){let{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});o=p.session.access_token}let{header:i,payload:s,signature:a,raw:{header:c,payload:u}}=Fs(o);r?.allowExpired||ab(s.exp);let l=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!l){let{error:p}=await this.getUser(o);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}let d=cb(i.alg),h=await crypto.subtle.importKey("jwk",l,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,X_(`${c}.${u}`)))throw new kr("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(o){if(C(o))return this._returnResult({data:null,error:o});throw o}}}return e.nextInstanceID={},e})(),Vp=Tx;var Sx=Vp,Hp=Sx;var Rx="2.95.3",Us="";typeof Deno<"u"?Us="deno":typeof document<"u"?Us="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Us="react-native":Us="node";var Ax={"X-Client-Info":`supabase-js-${Us}/${Rx}`},Mx={headers:Ax},Nx={schema:"public"},xx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ox={};function $s(e){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(e)}function kx(e,t){if($s(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if($s(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Px(e){var t=kx(e,"string");return $s(t)=="symbol"?t:t+""}function Lx(e,t,n){return(t=Px(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cb(Object(n),!0).forEach(function(r){Lx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Fx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),jx=()=>Headers,Ux=(e,t,n)=>{let r=Fx(n),o=jx();return async(i,s)=>{var a;let c=(a=await t())!==null&&a!==void 0?a:e,u=new o(s?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,ce(ce({},s),{},{headers:u}))}};function $x(e){return e.endsWith("/")?e:e+"/"}function Bx(e,t){var n,r;let{db:o,auth:i,realtime:s,global:a}=e,{db:c,auth:u,realtime:l,global:d}=t,h={db:ce(ce({},c),o),auth:ce(ce({},u),i),realtime:ce(ce({},l),s),storage:{},global:ce(ce(ce({},d),a),{},{headers:ce(ce({},(n=d?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function Vx(e){let t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($x(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Hx=class extends Hp{constructor(e){super(e)}},zx=class{constructor(e,t,n){var r,o;this.supabaseUrl=e,this.supabaseKey=t;let i=Vx(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);let s=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:Nx,realtime:Ox,auth:ce(ce({},xx),{},{storageKey:s}),global:Mx},c=Bx(n??{},a);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(o=c.global.headers)!==null&&o!==void 0?o:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(l,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=Ux(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(ce({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(l=>this.realtime.setAuth(l)).catch(l=>console.warn("Failed to set initial Realtime auth token:",l)),this.rest=new S_(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch,timeout:c.db.timeout,urlLengthLimit:c.db.urlLengthLimit}),this.storage=new V_(this.storageUrl.href,this.headers,this.fetch,n?.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new _s(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();let{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:o,storageKey:i,flowType:s,lock:a,debug:c,throwOnError:u},l,d){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Hx({url:this.authUrl.href,headers:ce(ce({},h),l),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:o,flowType:s,lock:a,debug:c,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Ss(this.realtimeUrl.href,ce(ce({},e),{},{params:ce(ce({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}},Tb=(e,t,n)=>new zx(e,t,n);function qx(){if(typeof window<"u")return!1;let e=globalThis.process;if(!e)return!1;let t=e.version;if(t==null)return!1;let n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}qx()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var zp={production:!1,supabase:{url:"https://nvncvjmtbmaoznbdovuk.supabase.co",key:"sb_publishable_usQAuNEP7tg7CNHfP5bkVA_u6ltO96U"}};var ll=class e{supabase;constructor(){this.supabase=Tb(zp.supabase.url,zp.supabase.key)}get client(){return this.supabase}async signIn(t,n){let{data:r,error:o}=await this.supabase.auth.signInWithPassword({email:t,password:n});return{data:r,error:o}}async signUp(t,n,r){let{data:o,error:i}=await this.supabase.auth.signUp({email:t,password:n,options:{data:{name:r||""}}});return{data:o,error:i}}async signOut(){let{error:t}=await this.supabase.auth.signOut();return{error:t}}async getCurrentUser(){let{data:{user:t},error:n}=await this.supabase.auth.getUser();return{user:t,error:n}}async getSession(){let{data:{session:t},error:n}=await this.supabase.auth.getSession();return{session:t,error:n}}onAuthStateChange(t){return this.supabase.auth.onAuthStateChange(t)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})};var Sb=class e{router=v(Vn);supabase=v(ll);_currentUser=gt(null);_sessionChecked=gt(!1);currentUser=this._currentUser.asReadonly();isAuthenticated=bh(()=>this._currentUser()!==null);sessionChecked=this._sessionChecked.asReadonly();constructor(){this.checkSession(),this.setupAuthListener()}async login(t,n){let{data:r,error:o}=await this.supabase.signIn(t,n);return o?(console.error("Login error:",o.message),!1):r.user?(this._currentUser.set(r.user),!0):!1}async signUp(t,n,r){let{data:o,error:i}=await this.supabase.signUp(t,n,r);return i?(console.error("Sign up error:",i.message),!1):o.user?(this._currentUser.set(o.user),!0):!1}async logout(){let{error:t}=await this.supabase.signOut();t&&console.error("Logout error:",t.message),this._currentUser.set(null),await this.router.navigate(["/login"])}async checkSession(){let{session:t}=await this.supabase.getSession();t?.user&&this._currentUser.set(t.user),this._sessionChecked.set(!0)}setupAuthListener(){this.supabase.onAuthStateChange((t,n)=>{t==="SIGNED_IN"&&n?.user?this._currentUser.set(n.user):t==="SIGNED_OUT"&&this._currentUser.set(null)})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})};export{_ as a,H as b,xb as c,ie as d,V as e,ee as f,De as g,Ae as h,te as i,R as j,Zr as k,B as l,ga as m,Yr as n,oi as o,Xb as p,eD as q,Ie as r,tD as s,Yt as t,nD as u,Qt as v,rD as w,Qn as x,sD as y,Cl as z,aD as A,cD as B,Tl as C,Me as D,ya as E,uD as F,we as G,E as H,xa as I,I as J,ar as K,T as L,A as M,v as N,de as O,om as P,im as Q,vm as R,je as S,ue as T,ot as U,Xe as V,BD as W,bm as X,gt as Y,kn as Z,Cc as _,jt as $,fc as aa,Tc as ba,Pi as ca,EI as da,Rc as ea,wt as fa,dC as ga,Ln as ha,ke as ia,se as ja,Xy as ka,On as la,wr as ma,_o as na,W as oa,Ut as pa,_r as qa,ih as ra,bo as sa,Et as ta,qv as ua,hS as va,Kv as wa,Do as xa,Fn as ya,Vc as za,ES as Aa,_S as Ba,Qv as Ca,dh as Da,fh as Ea,Hc as Fa,hh as Ga,ph as Ha,Xv as Ia,DS as Ja,tw as Ka,zc as La,AS as Ma,NS as Na,xS as Oa,gh as Pa,kS as Qa,mh as Ra,yh as Sa,PS as Ta,LS as Ua,FS as Va,jS as Wa,iw as Xa,sw as Ya,ZS as Za,s0 as _a,hw as $a,vh as ab,pw as bb,u0 as cb,p0 as db,g0 as eb,m0 as fb,v0 as gb,E0 as hb,_0 as ib,b0 as jb,C0 as kb,$t as lb,bh as mb,S0 as nb,Gc as ob,F8 as pb,j8 as qb,Vi as rb,Kc as sb,U8 as tb,$8 as ub,B8 as vb,dn as wb,To as xb,NR as yb,sE as zb,xR as Ab,OR as Bb,PR as Cb,LR as Db,Wq as Eb,Kh as Fb,XR as Gb,TE as Hb,SA as Ib,RA as Jb,gn as Kb,mp as Lb,Vn as Mb,Uu as Nb,iN as Ob,cN as Pb,ll as Qb,Sb as Rb};
