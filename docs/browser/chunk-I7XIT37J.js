import{H as g,K as d,U as n,a as s,b as r,pb as l}from"./chunk-LKXSVSE5.js";var o="https://66cb41954290b1c4f199e054.mockapi.io/sitting",a={id:"settings",dailyLimit:500,weeklyLimit:3e3,alertsEnabled:!0,updatedAt:new Date().toISOString()},c=class e{constructor(i){this.http=i;this.load()}loading=n(!1);settings=n(a);async load(){this.loading.set(!0);try{let i=await this.http.get(o).toPromise();if(i&&i.length>0)this.settings.set(i[0]);else{let t=await this.http.post(o,a).toPromise();this.settings.set(t||a)}}finally{this.loading.set(!1)}}async update(i){let t=r(s(s({},this.settings()),i),{updatedAt:new Date().toISOString()});return await this.http.put(`${o}/${t.id}`,t).toPromise(),this.settings.set(t),t}static \u0275fac=function(t){return new(t||e)(d(l))};static \u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})};export{c as a};
