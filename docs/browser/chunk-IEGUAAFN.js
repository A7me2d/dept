import{F as k,G as S,N as E}from"./chunk-UM43KZWY.js";import{a as v,b as d,d as x,e as y,g as C,i as w,j as M,n as P,o as O}from"./chunk-S33ANCWB.js";import{a as F}from"./chunk-HVD7EZ4V.js";import{$a as c,Ab as b,Ca as m,Da as n,Ea as e,Fa as u,La as f,Mb as h,N as a,Rb as _,_a as i,ga as l,ra as p,wa as g}from"./chunk-IKTNIUHG.js";function N(s,o){s&1&&(n(0,"label",8)(1,"div",9),i(2,"\u0627\u0644\u0627\u0633\u0645"),e(),u(3,"input",14),e())}var z=class s{fb=a(P);auth=a(_);router=a(h);toast=a(F);form=this.fb.group({name:[""],email:["",[d.required,d.email]],password:["",d.required]});isSignup=!1;async login(){if(this.form.invalid){this.toast.show("\u064A\u0631\u062C\u0649 \u0645\u0644\u0621 \u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0642\u0648\u0644","danger");return}let o=this.form.value.email??"",r=this.form.value.password??"";await this.auth.login(o,r)?(this.toast.show("\u062A\u0645 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0628\u0646\u062C\u0627\u062D","success"),await this.router.navigate(["/"])):this.toast.show("\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0623\u0648 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u063A\u064A\u0631 \u0635\u062D\u064A\u062D\u0629","danger")}async signup(){if(this.form.invalid){this.toast.show("\u064A\u0631\u062C\u0649 \u0645\u0644\u0621 \u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0642\u0648\u0644","danger");return}let o=this.form.value.name??"",r=this.form.value.email??"",t=this.form.value.password??"";await this.auth.signUp(r,t,o)?(this.toast.show("\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062D\u0633\u0627\u0628 \u0628\u0646\u062C\u0627\u062D. \u064A\u0631\u062C\u0649 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644","success"),this.isSignup=!1,this.form.reset()):this.toast.show("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062D\u0633\u0627\u0628","danger")}toggleMode(){this.isSignup=!this.isSignup,this.form.reset()}static \u0275fac=function(r){return new(r||s)};static \u0275cmp=p({type:s,selectors:[["app-login"]],decls:22,vars:4,consts:[[1,"login-page"],[1,"login-card"],[1,"login-card__header"],[1,"login-card__icon"],[1,"login-card__title"],[1,"login-card__subtitle"],[1,"login-card__form",3,"ngSubmit","formGroup"],["class","field",4,"ngIf"],[1,"field"],[1,"field__label"],["type","email","formControlName","email","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",1,"input"],["type","password","formControlName","password","placeholder","\u0623\u062F\u062E\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",1,"input"],["type","submit",1,"btn","btn--primary","btn--full"],[1,"login-card__toggle"],["type","text","formControlName","name","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0633\u0645\u0643",1,"input"]],template:function(r,t){r&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-icon",3),i(4,"account_balance_wallet"),e(),n(5,"h1",4),i(6,"\u0645\u0635\u0631\u0648\u0641\u0627\u062A\u064A"),e(),n(7,"p",5),i(8),e()(),n(9,"form",6),f("ngSubmit",function(){return t.isSignup?t.signup():t.login()}),g(10,N,4,0,"label",7),n(11,"label",8)(12,"div",9),i(13,"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"),e(),u(14,"input",10),e(),n(15,"label",8)(16,"div",9),i(17,"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),e(),u(18,"input",11),e(),n(19,"button",12),i(20),e()(),u(21,"div",13),e()()),r&2&&(l(8),c(t.isSignup?"\u0625\u0646\u0634\u0627\u0621 \u062D\u0633\u0627\u0628 \u062C\u062F\u064A\u062F":"\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644"),l(),m("formGroup",t.form),l(),m("ngIf",t.isSignup),l(10),c(t.isSignup?"\u0625\u0646\u0634\u0627\u0621 \u062D\u0633\u0627\u0628":"\u062F\u062E\u0648\u0644"))},dependencies:[O,C,v,x,y,w,M,S,k,E,b],styles:['.login-page[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:1rem;background:var(--bg-primary);position:relative;overflow:hidden}.login-page[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-50%;width:200%;height:200%;background:radial-gradient(circle at 30% 30%,color-mix(in srgb,var(--primary) 5%,transparent) 0%,transparent 50%),radial-gradient(circle at 70% 70%,color-mix(in srgb,var(--secondary) 5%,transparent) 0%,transparent 50%);animation:float 10s ease-in-out infinite}.login-page[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-30%;left:-30%;width:160%;height:160%;background:radial-gradient(circle at 50% 50%,color-mix(in srgb,var(--success) 3%,transparent) 0%,transparent 50%);animation:float 15s ease-in-out infinite reverse}.login-card[_ngcontent-%COMP%]{width:100%;max-width:420px;background:color-mix(in srgb,var(--surface) 95%,transparent);backdrop-filter:blur(24px) saturate(180%);-webkit-backdrop-filter:blur(24px) saturate(180%);border-radius:var(--radius-2xl);padding:2.5rem;box-shadow:var(--shadow-2xl);border:1px solid var(--border);position:relative;z-index:1;animation:scaleIn .4s ease-out}.login-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:var(--primary-gradient);border-radius:var(--radius-2xl) var(--radius-2xl) 0 0}.login-card__header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.login-card__icon[_ngcontent-%COMP%]{font-size:56px;width:56px;height:56px;color:#000;margin-bottom:1.25rem;display:inline-flex;align-items:center;justify-content:center;background:var(--primary-gradient);border-radius:var(--radius-xl);box-shadow:var(--shadow-glow);position:relative;animation:float 3s ease-in-out infinite}.login-card__icon[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-4px;border-radius:var(--radius-xl);background:var(--primary-gradient);opacity:.3;filter:blur(8px);z-index:-1}.login-card__title[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.75rem;font-weight:800;background:var(--primary-gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:-.02em}.login-card__subtitle[_ngcontent-%COMP%]{margin:0;color:var(--text-secondary);font-size:.9375rem;font-weight:500}.login-card__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;position:relative}.field__label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:var(--text-secondary);display:flex;align-items:center;gap:.375rem}.field__label[_ngcontent-%COMP%]:before{content:"";width:4px;height:4px;border-radius:50%;background:var(--primary)}.input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:1px solid var(--border);border-radius:var(--radius-md);background:var(--bg-secondary);color:var(--text-primary);font-size:1rem;outline:none;transition:all .25s ease;font-family:inherit}.input[_ngcontent-%COMP%]::placeholder{color:var(--text-muted)}.input[_ngcontent-%COMP%]:focus{border-color:var(--primary);background:var(--surface);box-shadow:0 0 0 3px color-mix(in srgb,var(--primary) 15%,transparent);transform:translateY(-1px)}.input[_ngcontent-%COMP%]:hover:not(:focus){border-color:var(--primary-light)}.btn[_ngcontent-%COMP%]{padding:.875rem 1.5rem;border-radius:var(--radius-md);border:none;font-size:1rem;font-weight:600;cursor:pointer;transition:all .25s ease;display:inline-flex;align-items:center;justify-content:center;gap:.5rem}.btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.btn--primary[_ngcontent-%COMP%]{background:var(--primary-gradient);color:#fff;box-shadow:0 4px 12px #6366f14d}.btn--primary[_ngcontent-%COMP%]:hover{box-shadow:0 6px 16px #6366f166;transform:translateY(-2px)}.btn--primary[_ngcontent-%COMP%]:active{transform:translateY(0) scale(.98)}.btn--full[_ngcontent-%COMP%]{width:100%}.login-card__toggle[_ngcontent-%COMP%]{margin-top:1.5rem;text-align:center}.link-btn[_ngcontent-%COMP%]{background:none;border:none;color:var(--primary);font-size:.875rem;font-weight:600;cursor:pointer;transition:all .25s ease;padding:.5rem .75rem;border-radius:var(--radius-md)}.link-btn[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--primary-light) 15%,transparent)}@media (max-width: 480px){.login-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}.login-card__icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px}.login-card__title[_ngcontent-%COMP%]{font-size:1.5rem}.input[_ngcontent-%COMP%]{padding:.75rem .875rem;font-size:.9375rem}.btn[_ngcontent-%COMP%]{padding:.75rem 1.25rem;font-size:.9375rem}}']})};export{z as LoginComponent};
